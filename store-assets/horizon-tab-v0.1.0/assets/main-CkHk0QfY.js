(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PE={exports:{}},Uh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M2=Symbol.for("react.transitional.element"),V2=Symbol.for("react.fragment");function zE(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:M2,type:t,key:i,ref:e!==void 0?e:null,props:n}}Uh.Fragment=V2;Uh.jsx=zE;Uh.jsxs=zE;PE.exports=Uh;var R=PE.exports,UE={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg=Symbol.for("react.transitional.element"),L2=Symbol.for("react.portal"),P2=Symbol.for("react.fragment"),z2=Symbol.for("react.strict_mode"),U2=Symbol.for("react.profiler"),j2=Symbol.for("react.consumer"),B2=Symbol.for("react.context"),F2=Symbol.for("react.forward_ref"),q2=Symbol.for("react.suspense"),H2=Symbol.for("react.memo"),jE=Symbol.for("react.lazy"),G2=Symbol.for("react.activity"),vv=Symbol.iterator;function $2(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var BE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FE=Object.assign,qE={};function no(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||BE}no.prototype.isReactComponent={};no.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};no.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HE(){}HE.prototype=no.prototype;function sg(t,e,n){this.props=t,this.context=e,this.refs=qE,this.updater=n||BE}var ag=sg.prototype=new HE;ag.constructor=sg;FE(ag,no.prototype);ag.isPureReactComponent=!0;var wv=Array.isArray;function wm(){}var $e={H:null,A:null,T:null,S:null},GE=Object.prototype.hasOwnProperty;function og(t,e,n){var i=n.ref;return{$$typeof:rg,type:t,key:e,ref:i!==void 0?i:null,props:n}}function Q2(t,e){return og(t.type,e,t.props)}function lg(t){return typeof t=="object"&&t!==null&&t.$$typeof===rg}function Y2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ev=/\/+/g;function nd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y2(""+t.key):e.toString(36)}function K2(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(wm,wm):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ta(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case rg:case L2:a=!0;break;case jE:return a=t._init,ta(a(t._payload),e,n,i,r)}}if(a)return r=r(t),a=i===""?"."+nd(t,0):i,wv(r)?(n="",a!=null&&(n=a.replace(Ev,"$&/")+"/"),ta(r,e,n,"",function(c){return c})):r!=null&&(lg(r)&&(r=Q2(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Ev,"$&/")+"/")+a)),e.push(r)),1;a=0;var o=i===""?".":i+":";if(wv(t))for(var l=0;l<t.length;l++)i=t[l],s=o+nd(i,l),a+=ta(i,e,n,s,r);else if(l=$2(t),typeof l=="function")for(t=l.call(t),l=0;!(i=t.next()).done;)i=i.value,s=o+nd(i,l++),a+=ta(i,e,n,s,r);else if(s==="object"){if(typeof t.then=="function")return ta(K2(t),e,n,i,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Pu(t,e,n){if(t==null)return t;var i=[],r=0;return ta(t,i,"","",function(s){return e.call(n,s,r++)}),i}function X2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tv=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},W2={map:Pu,forEach:function(t,e,n){Pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pu(t,function(){e++}),e},toArray:function(t){return Pu(t,function(e){return e})||[]},only:function(t){if(!lg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Activity=G2;ue.Children=W2;ue.Component=no;ue.Fragment=P2;ue.Profiler=U2;ue.PureComponent=sg;ue.StrictMode=z2;ue.Suspense=q2;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;ue.__COMPILER_RUNTIME={__proto__:null,c:function(t){return $e.H.useMemoCache(t)}};ue.cache=function(t){return function(){return t.apply(null,arguments)}};ue.cacheSignal=function(){return null};ue.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=FE({},t.props),r=t.key;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)!GE.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(i[s]=e[s]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];i.children=a}return og(t.type,r,i)};ue.createContext=function(t){return t={$$typeof:B2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:j2,_context:t},t};ue.createElement=function(t,e,n){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)GE.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return og(t,s,r)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:F2,render:t}};ue.isValidElement=lg;ue.lazy=function(t){return{$$typeof:jE,_payload:{_status:-1,_result:t},_init:X2}};ue.memo=function(t,e){return{$$typeof:H2,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=$e.T,n={};$e.T=n;try{var i=t(),r=$e.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(wm,Tv)}catch(s){Tv(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),$e.T=e}};ue.unstable_useCacheRefresh=function(){return $e.H.useCacheRefresh()};ue.use=function(t){return $e.H.use(t)};ue.useActionState=function(t,e,n){return $e.H.useActionState(t,e,n)};ue.useCallback=function(t,e){return $e.H.useCallback(t,e)};ue.useContext=function(t){return $e.H.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t,e){return $e.H.useDeferredValue(t,e)};ue.useEffect=function(t,e){return $e.H.useEffect(t,e)};ue.useEffectEvent=function(t){return $e.H.useEffectEvent(t)};ue.useId=function(){return $e.H.useId()};ue.useImperativeHandle=function(t,e,n){return $e.H.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return $e.H.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return $e.H.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return $e.H.useMemo(t,e)};ue.useOptimistic=function(t,e){return $e.H.useOptimistic(t,e)};ue.useReducer=function(t,e,n){return $e.H.useReducer(t,e,n)};ue.useRef=function(t){return $e.H.useRef(t)};ue.useState=function(t){return $e.H.useState(t)};ue.useSyncExternalStore=function(t,e,n){return $e.H.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return $e.H.useTransition()};ue.version="19.2.1";UE.exports=ue;var q=UE.exports;const J2=zh(q);var $E={exports:{}},jh={},QE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Y){var ee=H.length;H.push(Y);e:for(;0<ee;){var fe=ee-1>>>1,N=H[fe];if(0<r(N,Y))H[fe]=Y,H[ee]=N,ee=fe;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Y=H[0],ee=H.pop();if(ee!==Y){H[0]=ee;e:for(var fe=0,N=H.length,Xe=N>>>1;fe<Xe;){var nt=2*(fe+1)-1,O=H[nt],Oe=nt+1,Et=H[Oe];if(0>r(O,ee))Oe<N&&0>r(Et,O)?(H[fe]=Et,H[Oe]=ee,fe=Oe):(H[fe]=O,H[nt]=ee,fe=nt);else if(Oe<N&&0>r(Et,ee))H[fe]=Et,H[Oe]=ee,fe=Oe;else break e}}return Y}function r(H,Y){var ee=H.sortIndex-Y.sortIndex;return ee!==0?ee:H.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,f=null,d=3,p=!1,w=!1,I=!1,D=!1,v=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var Y=n(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=H)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function z(H){if(I=!1,M(H),!w)if(n(l)!==null)w=!0,V||(V=!0,k());else{var Y=n(c);Y!==null&&Z(z,Y.startTime-H)}}var V=!1,x=-1,A=5,_=-1;function y(){return D?!0:!(t.unstable_now()-_<A)}function b(){if(D=!1,V){var H=t.unstable_now();_=H;var Y=!0;try{e:{w=!1,I&&(I=!1,E(x),x=-1),p=!0;var ee=d;try{t:{for(M(H),f=n(l);f!==null&&!(f.expirationTime>H&&y());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,d=f.priorityLevel;var N=fe(f.expirationTime<=H);if(H=t.unstable_now(),typeof N=="function"){f.callback=N,M(H),Y=!0;break t}f===n(l)&&i(l),M(H)}else i(l);f=n(l)}if(f!==null)Y=!0;else{var Xe=n(c);Xe!==null&&Z(z,Xe.startTime-H),Y=!1}}break e}finally{f=null,d=ee,p=!1}Y=void 0}}finally{Y?k():V=!1}}}var k;if(typeof T=="function")k=function(){T(b)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,W=C.port2;C.port1.onmessage=b,k=function(){W.postMessage(null)}}else k=function(){v(b,0)};function Z(H,Y){x=v(function(){H(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_next=function(H){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var ee=d;d=Y;try{return H()}finally{d=ee}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=d;d=H;try{return Y()}finally{d=ee}},t.unstable_scheduleCallback=function(H,Y,ee){var fe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,H){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ee+N,H={id:h++,callback:Y,priorityLevel:H,startTime:ee,expirationTime:N,sortIndex:-1},ee>fe?(H.sortIndex=ee,e(c,H),n(l)===null&&H===n(c)&&(I?(E(x),x=-1):I=!0,Z(z,ee-fe))):(H.sortIndex=N,e(l,H),w||p||(w=!0,V||(V=!0,k()))),H},t.unstable_shouldYield=y,t.unstable_wrapCallback=function(H){var Y=d;return function(){var ee=d;d=Y;try{return H.apply(this,arguments)}finally{d=ee}}}})(YE);QE.exports=YE;var Z2=QE.exports,KE={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ek=q;function XE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function or(){}var Qt={d:{f:or,r:function(){throw Error(XE(522))},D:or,C:or,L:or,m:or,X:or,S:or,M:or},p:0,findDOMNode:null},tk=Symbol.for("react.portal");function nk(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tk,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var il=ek.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Bh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Qt;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(XE(299));return nk(t,e,null,n)};Kt.flushSync=function(t){var e=il.T,n=Qt.p;try{if(il.T=null,Qt.p=2,t)return t()}finally{il.T=e,Qt.p=n,Qt.d.f()}};Kt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Qt.d.C(t,e))};Kt.prefetchDNS=function(t){typeof t=="string"&&Qt.d.D(t)};Kt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=Bh(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Qt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Qt.d.X(t,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Kt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Bh(e.as,e.crossOrigin);Qt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Qt.d.M(t)};Kt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=Bh(n,e.crossOrigin);Qt.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Kt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Bh(e.as,e.crossOrigin);Qt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Qt.d.m(t)};Kt.requestFormReset=function(t){Qt.d.r(t)};Kt.unstable_batchedUpdates=function(t,e){return t(e)};Kt.useFormState=function(t,e,n){return il.H.useFormState(t,e,n)};Kt.useFormStatus=function(){return il.H.useHostTransitionStatus()};Kt.version="19.2.1";function WE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WE)}catch(t){console.error(t)}}WE(),KE.exports=Kt;var ik=KE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wt=Z2,JE=q,rk=ik;function B(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ZE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bv(t){if(Jl(t)!==t)throw Error(B(188))}function sk(t){var e=t.alternate;if(!e){if(e=Jl(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return bv(r),t;if(s===i)return bv(r),e;s=s.sibling}throw Error(B(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function nT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=nT(t),e!==null)return e;t=t.sibling}return null}var Qe=Object.assign,ak=Symbol.for("react.element"),zu=Symbol.for("react.transitional.element"),Qo=Symbol.for("react.portal"),ua=Symbol.for("react.fragment"),iT=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),rT=Symbol.for("react.consumer"),Mi=Symbol.for("react.context"),ug=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),bm=Symbol.for("react.suspense_list"),cg=Symbol.for("react.memo"),cr=Symbol.for("react.lazy"),Sm=Symbol.for("react.activity"),ok=Symbol.for("react.memo_cache_sentinel"),Sv=Symbol.iterator;function Po(t){return t===null||typeof t!="object"?null:(t=Sv&&t[Sv]||t["@@iterator"],typeof t=="function"?t:null)}var lk=Symbol.for("react.client.reference");function Am(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===lk?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ua:return"Fragment";case Em:return"Profiler";case iT:return"StrictMode";case Tm:return"Suspense";case bm:return"SuspenseList";case Sm:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Qo:return"Portal";case Mi:return t.displayName||"Context";case rT:return(t._context.displayName||"Context")+".Consumer";case ug:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cg:return e=t.displayName||null,e!==null?e:Am(t.type)||"Memo";case cr:e=t._payload,t=t._init;try{return Am(t(e))}catch{}}return null}var Yo=Array.isArray,re=JE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=rk.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gs={pending:!1,data:null,method:null,action:null},xm=[],ca=-1;function wi(t){return{current:t}}function Ct(t){0>ca||(t.current=xm[ca],xm[ca]=null,ca--)}function Ue(t,e){ca++,xm[ca]=t.current,t.current=e}var ci=wi(null),xl=wi(null),Ar=wi(null),zc=wi(null);function Uc(t,e){switch(Ue(Ar,e),Ue(xl,t),Ue(ci,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?R0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=R0(e),t=SS(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ct(ci),Ue(ci,t)}function La(){Ct(ci),Ct(xl),Ct(Ar)}function Cm(t){t.memoizedState!==null&&Ue(zc,t);var e=ci.current,n=SS(e,t.type);e!==n&&(Ue(xl,t),Ue(ci,n))}function jc(t){xl.current===t&&(Ct(ci),Ct(xl)),zc.current===t&&(Ct(zc),Pl._currentValue=gs)}var id,Av;function ls(t){if(id===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);id=e&&e[1]||"",Av=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+id+t+Av}var rd=!1;function sd(t,e){if(!t||rd)return"";rd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var d=p}Reflect.construct(t,[],f)}else{try{f.call()}catch(p){d=p}t.call(f.prototype)}}else{try{throw Error()}catch(p){d=p}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&d&&typeof p.stack=="string")return[p.stack,d.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),c=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==c[r]){var h=`
`+l[i].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=i&&0<=r);break}}}finally{rd=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ls(n):""}function uk(t,e){switch(t.tag){case 26:case 27:case 5:return ls(t.type);case 16:return ls("Lazy");case 13:return t.child!==e&&e!==null?ls("Suspense Fallback"):ls("Suspense");case 19:return ls("SuspenseList");case 0:case 15:return sd(t.type,!1);case 11:return sd(t.type.render,!1);case 1:return sd(t.type,!0);case 31:return ls("Activity");default:return""}}function xv(t){try{var e="",n=null;do e+=uk(t,n),n=t,t=t.return;while(t);return e}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Im=Object.prototype.hasOwnProperty,hg=wt.unstable_scheduleCallback,ad=wt.unstable_cancelCallback,ck=wt.unstable_shouldYield,hk=wt.unstable_requestPaint,vn=wt.unstable_now,fk=wt.unstable_getCurrentPriorityLevel,sT=wt.unstable_ImmediatePriority,aT=wt.unstable_UserBlockingPriority,Bc=wt.unstable_NormalPriority,dk=wt.unstable_LowPriority,oT=wt.unstable_IdlePriority,mk=wt.log,pk=wt.unstable_setDisableYieldValue,Zl=null,wn=null;function vr(t){if(typeof mk=="function"&&pk(t),wn&&typeof wn.setStrictMode=="function")try{wn.setStrictMode(Zl,t)}catch{}}var En=Math.clz32?Math.clz32:_k,gk=Math.log,yk=Math.LN2;function _k(t){return t>>>=0,t===0?32:31-(gk(t)/yk|0)|0}var Uu=256,ju=262144,Bu=4194304;function us(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fh(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var r=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=i&134217727;return o!==0?(i=o&~s,i!==0?r=us(i):(a&=o,a!==0?r=us(a):n||(n=o&~t,n!==0&&(r=us(n))))):(o=i&~s,o!==0?r=us(o):a!==0?r=us(a):n||(n=i&~t,n!==0&&(r=us(n)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:r}function eu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function vk(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lT(){var t=Bu;return Bu<<=1,!(Bu&62914560)&&(Bu=4194304),t}function od(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wk(t,e,n,i,r,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-En(n),f=1<<h;o[h]=0,l[h]=-1;var d=c[h];if(d!==null)for(c[h]=null,h=0;h<d.length;h++){var p=d[h];p!==null&&(p.lane&=-536870913)}n&=~f}i!==0&&uT(t,i,0),s!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function uT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-En(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&261930}function cT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-En(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}function hT(t,e){var n=e&-e;return n=n&42?1:fg(n),n&(t.suspendedLanes|e)?0:n}function fg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function dg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function fT(){var t=xe.p;return t!==0?t:(t=window.event,t===void 0?32:VS(t.type))}function Cv(t,e){var n=xe.p;try{return xe.p=t,e()}finally{xe.p=n}}var Kr=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Kr,un="__reactProps$"+Kr,io="__reactContainer$"+Kr,km="__reactEvents$"+Kr,Ek="__reactListeners$"+Kr,Tk="__reactHandles$"+Kr,Iv="__reactResources$"+Kr,nu="__reactMarker$"+Kr;function mg(t){delete t[Rt],delete t[un],delete t[km],delete t[Ek],delete t[Tk]}function ha(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[io]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=V0(t);t!==null;){if(n=t[Rt])return n;t=V0(t)}return e}t=n,n=t.parentNode}return null}function ro(t){if(t=t[Rt]||t[io]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Ko(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(B(33))}function ba(t){var e=t[Iv];return e||(e=t[Iv]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xt(t){t[nu]=!0}var dT=new Set,mT={};function Ls(t,e){Pa(t,e),Pa(t+"Capture",e)}function Pa(t,e){for(mT[t]=e,t=0;t<e.length;t++)dT.add(e[t])}var bk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kv={},Rv={};function Sk(t){return Im.call(Rv,t)?!0:Im.call(kv,t)?!1:bk.test(t)?Rv[t]=!0:(kv[t]=!0,!1)}function cc(t,e,n){if(Sk(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Fu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function xi(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}function In(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ak(t,e,n){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rm(t){if(!t._valueTracker){var e=pT(t)?"checked":"value";t._valueTracker=Ak(t,e,""+t[e])}}function gT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=pT(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xk=/[\n"\\]/g;function Dn(t){return t.replace(xk,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Nm(t,e,n,i,r,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+In(e)):t.value!==""+In(e)&&(t.value=""+In(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Dm(t,a,In(e)):n!=null?Dm(t,a,In(n)):i!=null&&t.removeAttribute("value"),r==null&&s!=null&&(t.defaultChecked=!!s),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+In(o):t.removeAttribute("name")}function yT(t,e,n,i,r,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Rm(t);return}n=n!=null?""+In(n):"",e=e!=null?""+In(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=o?t.checked:!!i,t.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Rm(t)}function Dm(t,e,n){e==="number"&&Fc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Sa(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+In(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function _T(t,e,n){if(e!=null&&(e=""+In(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+In(n):""}function vT(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(B(92));if(Yo(i)){if(1<i.length)throw Error(B(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=In(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i),Rm(t)}function za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ck=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nv(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||Ck.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function wT(t,e,n){if(e!=null&&typeof e!="object")throw Error(B(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&n[r]!==i&&Nv(t,r,i)}else for(var s in e)e.hasOwnProperty(s)&&Nv(t,s,e[s])}function pg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ik=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hc(t){return kk.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Vi(){}var Om=null;function gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fa=null,Aa=null;function Dv(t){var e=ro(t);if(e&&(t=e.stateNode)){var n=t[un]||null;e:switch(t=e.stateNode,e.type){case"input":if(Nm(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Dn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=i[un]||null;if(!r)throw Error(B(90));Nm(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&gT(i)}break e;case"textarea":_T(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Sa(t,!!n.multiple,e,!1)}}}var ld=!1;function ET(t,e,n){if(ld)return t(e,n);ld=!0;try{var i=t(e);return i}finally{if(ld=!1,(fa!==null||Aa!==null)&&(ef(),fa&&(e=fa,t=Aa,Aa=fa=null,Dv(e),t)))for(e=0;e<t.length;e++)Dv(t[e])}}function Cl(t,e){var n=t.stateNode;if(n===null)return null;var i=n[un]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mm=!1;if(qi)try{var zo={};Object.defineProperty(zo,"passive",{get:function(){Mm=!0}}),window.addEventListener("test",zo,zo),window.removeEventListener("test",zo,zo)}catch{Mm=!1}var wr=null,yg=null,fc=null;function TT(){if(fc)return fc;var t,e=yg,n=e.length,i,r="value"in wr?wr.value:wr.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return fc=r.slice(t,1<i?1-i:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function Ov(){return!1}function cn(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qu:Ov,this.isPropagationStopped=Ov,this}return Qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var Ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=cn(Ps),iu=Qe({},Ps,{view:0,detail:0}),Rk=cn(iu),ud,cd,Uo,Hh=Qe({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_g,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uo&&(Uo&&t.type==="mousemove"?(ud=t.screenX-Uo.screenX,cd=t.screenY-Uo.screenY):cd=ud=0,Uo=t),ud)},movementY:function(t){return"movementY"in t?t.movementY:cd}}),Mv=cn(Hh),Nk=Qe({},Hh,{dataTransfer:0}),Dk=cn(Nk),Ok=Qe({},iu,{relatedTarget:0}),hd=cn(Ok),Mk=Qe({},Ps,{animationName:0,elapsedTime:0,pseudoElement:0}),Vk=cn(Mk),Lk=Qe({},Ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pk=cn(Lk),zk=Qe({},Ps,{data:0}),Vv=cn(zk),Uk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bk[t])?!!e[t]:!1}function _g(){return Fk}var qk=Qe({},iu,{key:function(t){if(t.key){var e=Uk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_g,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hk=cn(qk),Gk=Qe({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lv=cn(Gk),$k=Qe({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_g}),Qk=cn($k),Yk=Qe({},Ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kk=cn(Yk),Xk=Qe({},Hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wk=cn(Xk),Jk=Qe({},Ps,{newState:0,oldState:0}),Zk=cn(Jk),eR=[9,13,27,32],vg=qi&&"CompositionEvent"in window,rl=null;qi&&"documentMode"in document&&(rl=document.documentMode);var tR=qi&&"TextEvent"in window&&!rl,bT=qi&&(!vg||rl&&8<rl&&11>=rl),Pv=" ",zv=!1;function ST(t,e){switch(t){case"keyup":return eR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var da=!1;function nR(t,e){switch(t){case"compositionend":return AT(e);case"keypress":return e.which!==32?null:(zv=!0,Pv);case"textInput":return t=e.data,t===Pv&&zv?null:t;default:return null}}function iR(t,e){if(da)return t==="compositionend"||!vg&&ST(t,e)?(t=TT(),fc=yg=wr=null,da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return bT&&e.locale!=="ko"?null:e.data;default:return null}}var rR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rR[t.type]:e==="textarea"}function xT(t,e,n,i){fa?Aa?Aa.push(i):Aa=[i]:fa=i,e=ah(e,"onChange"),0<e.length&&(n=new qh("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var sl=null,Il=null;function sR(t){ES(t,0)}function Gh(t){var e=Ko(t);if(gT(e))return t}function jv(t,e){if(t==="change")return e}var CT=!1;if(qi){var fd;if(qi){var dd="oninput"in document;if(!dd){var Bv=document.createElement("div");Bv.setAttribute("oninput","return;"),dd=typeof Bv.oninput=="function"}fd=dd}else fd=!1;CT=fd&&(!document.documentMode||9<document.documentMode)}function Fv(){sl&&(sl.detachEvent("onpropertychange",IT),Il=sl=null)}function IT(t){if(t.propertyName==="value"&&Gh(Il)){var e=[];xT(e,Il,t,gg(t)),ET(sR,e)}}function aR(t,e,n){t==="focusin"?(Fv(),sl=e,Il=n,sl.attachEvent("onpropertychange",IT)):t==="focusout"&&Fv()}function oR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(Il)}function lR(t,e){if(t==="click")return Gh(e)}function uR(t,e){if(t==="input"||t==="change")return Gh(e)}function cR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var An=typeof Object.is=="function"?Object.is:cR;function kl(t,e){if(An(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Im.call(e,r)||!An(t[r],e[r]))return!1}return!0}function qv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,e){var n=qv(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qv(n)}}function kT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Fc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fc(t.document)}return e}function wg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var hR=qi&&"documentMode"in document&&11>=document.documentMode,ma=null,Vm=null,al=null,Lm=!1;function Gv(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lm||ma==null||ma!==Fc(i)||(i=ma,"selectionStart"in i&&wg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),al&&kl(al,i)||(al=i,i=ah(Vm,"onSelect"),0<i.length&&(e=new qh("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=ma)))}function as(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var pa={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},md={},NT={};qi&&(NT=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function zs(t){if(md[t])return md[t];if(!pa[t])return t;var e=pa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NT)return md[t]=e[n];return t}var DT=zs("animationend"),OT=zs("animationiteration"),MT=zs("animationstart"),fR=zs("transitionrun"),dR=zs("transitionstart"),mR=zs("transitioncancel"),VT=zs("transitionend"),LT=new Map,Pm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pm.push("scrollEnd");function Jn(t,e){LT.set(t,e),Ls(e,[t])}var qc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],ga=0,Eg=0;function $h(){for(var t=ga,e=Eg=ga=0;e<t;){var n=Cn[e];Cn[e++]=null;var i=Cn[e];Cn[e++]=null;var r=Cn[e];Cn[e++]=null;var s=Cn[e];if(Cn[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&PT(n,r,s)}}function Qh(t,e,n,i){Cn[ga++]=t,Cn[ga++]=e,Cn[ga++]=n,Cn[ga++]=i,Eg|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Tg(t,e,n,i){return Qh(t,e,n,i),Hc(t)}function Us(t,e){return Qh(t,null,null,e),Hc(t)}function PT(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=t.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(r=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,r&&e!==null&&(r=31-En(n),t=s.hiddenUpdates,i=t[r],i===null?t[r]=[e]:i.push(e),e.lane=n|536870912),s):null}function Hc(t){if(50<pl)throw pl=0,rp=null,Error(B(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ya={};function pR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,i){return new pR(t,e,n,i)}function bg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ui(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function zT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function mc(t,e,n,i,r,s){var a=0;if(i=t,typeof t=="function")bg(t)&&(a=1);else if(typeof t=="string")a=wN(t,n,ci.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Sm:return t=gn(31,n,e,r),t.elementType=Sm,t.lanes=s,t;case ua:return ys(n.children,r,s,e);case iT:a=8,r|=24;break;case Em:return t=gn(12,n,e,r|2),t.elementType=Em,t.lanes=s,t;case Tm:return t=gn(13,n,e,r),t.elementType=Tm,t.lanes=s,t;case bm:return t=gn(19,n,e,r),t.elementType=bm,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mi:a=10;break e;case rT:a=9;break e;case ug:a=11;break e;case cg:a=14;break e;case cr:a=16,i=null;break e}a=29,n=Error(B(130,t===null?"null":typeof t,"")),i=null}return e=gn(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ys(t,e,n,i){return t=gn(7,t,i,e),t.lanes=n,t}function pd(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function UT(t){var e=gn(18,null,null,0);return e.stateNode=t,e}function gd(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var $v=new WeakMap;function On(t,e){if(typeof t=="object"&&t!==null){var n=$v.get(t);return n!==void 0?n:(e={value:t,source:e,stack:xv(e)},$v.set(t,e),e)}return{value:t,source:e,stack:xv(e)}}var _a=[],va=0,Gc=null,Rl=0,kn=[],Rn=0,zr=null,oi=1,li="";function Ni(t,e){_a[va++]=Rl,_a[va++]=Gc,Gc=t,Rl=e}function jT(t,e,n){kn[Rn++]=oi,kn[Rn++]=li,kn[Rn++]=zr,zr=t;var i=oi;t=li;var r=32-En(i)-1;i&=~(1<<r),n+=1;var s=32-En(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,oi=1<<32-En(e)+r|n<<r|i,li=s+t}else oi=1<<s|n<<r|i,li=t}function Sg(t){t.return!==null&&(Ni(t,1),jT(t,1,0))}function Ag(t){for(;t===Gc;)Gc=_a[--va],_a[va]=null,Rl=_a[--va],_a[va]=null;for(;t===zr;)zr=kn[--Rn],kn[Rn]=null,li=kn[--Rn],kn[Rn]=null,oi=kn[--Rn],kn[Rn]=null}function BT(t,e){kn[Rn++]=oi,kn[Rn++]=li,kn[Rn++]=zr,oi=e.id,li=e.overflow,zr=t}var Nt=null,He=null,Te=!1,xr=null,Mn=!1,zm=Error(B(519));function Ur(t){var e=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(On(e,t)),zm}function Qv(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[Rt]=t,e[un]=i,n){case"dialog":pe("cancel",e),pe("close",e);break;case"iframe":case"object":case"embed":pe("load",e);break;case"video":case"audio":for(n=0;n<Vl.length;n++)pe(Vl[n],e);break;case"source":pe("error",e);break;case"img":case"image":case"link":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"input":pe("invalid",e),yT(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":pe("invalid",e);break;case"textarea":pe("invalid",e),vT(e,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||bS(e.textContent,n)?(i.popover!=null&&(pe("beforetoggle",e),pe("toggle",e)),i.onScroll!=null&&pe("scroll",e),i.onScrollEnd!=null&&pe("scrollend",e),i.onClick!=null&&(e.onclick=Vi),e=!0):e=!1,e||Ur(t,!0)}function Yv(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:Nt=Nt.return}}function Js(t){if(t!==Nt)return!1;if(!Te)return Yv(t),Te=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||up(t.type,t.memoizedProps)),n=!n),n&&He&&Ur(t),Yv(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));He=M0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));He=M0(t)}else e===27?(e=He,Xr(t.type)?(t=dp,dp=null,He=t):He=e):He=Nt?Pn(t.stateNode.nextSibling):null;return!0}function Ss(){He=Nt=null,Te=!1}function yd(){var t=xr;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),xr=null),t}function Nl(t){xr===null?xr=[t]:xr.push(t)}var Um=wi(null),js=null,Li=null;function fr(t,e,n){Ue(Um,e._currentValue),e._currentValue=n}function ji(t){t._currentValue=Um.current,Ct(Um)}function jm(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Bm(t,e,n,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=r;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),jm(s.return,n,t),i||(a=null);break e}s=o.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(B(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),jm(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function so(t,e,n,i){t=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(B(387));if(a=a.memoizedProps,a!==null){var o=r.type;An(r.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(r===zc.current){if(a=r.alternate,a===null)throw Error(B(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}r=r.return}t!==null&&Bm(e,t,n,i),e.flags|=262144}function $c(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function As(t){js=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ot(t){return FT(js,t)}function Hu(t,e){return js===null&&As(t),FT(t,e)}function FT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Li===null){if(t===null)throw Error(B(308));Li=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Li=Li.next=e;return n}var gR=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},yR=wt.unstable_scheduleCallback,_R=wt.unstable_NormalPriority,ht={$$typeof:Mi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xg(){return{controller:new gR,data:new Map,refCount:0}}function ru(t){t.refCount--,t.refCount===0&&yR(_R,function(){t.controller.abort()})}var ol=null,Fm=0,Ua=0,xa=null;function vR(t,e){if(ol===null){var n=ol=[];Fm=0,Ua=Wg(),xa={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Fm++,e.then(Kv,Kv),e}function Kv(){if(--Fm===0&&ol!==null){xa!==null&&(xa.status="fulfilled");var t=ol;ol=null,Ua=0,xa=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function wR(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var Xv=re.S;re.S=function(t,e){nS=vn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&vR(t,e),Xv!==null&&Xv(t,e)};var _s=wi(null);function Cg(){var t=_s.current;return t!==null?t:Ve.pooledCache}function pc(t,e){e===null?Ue(_s,_s.current):Ue(_s,e.pool)}function qT(){var t=Cg();return t===null?null:{parent:ht._currentValue,pool:t}}var ao=Error(B(460)),Ig=Error(B(474)),Yh=Error(B(542)),Qc={then:function(){}};function Wv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function HT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Vi,Vi),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Zv(t),t;default:if(typeof e.status=="string")e.then(Vi,Vi);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(B(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Zv(t),t}throw vs=e,ao}}function cs(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(vs=n,ao):n}}var vs=null;function Jv(){if(vs===null)throw Error(B(459));var t=vs;return vs=null,t}function Zv(t){if(t===ao||t===Yh)throw Error(B(483))}var Ca=null,Dl=0;function Gu(t){var e=Dl;return Dl+=1,Ca===null&&(Ca=[]),HT(Ca,t,e)}function jo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function $u(t,e){throw e.$$typeof===ak?Error(B(525)):(t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function GT(t){function e(v,E){if(t){var T=v.deletions;T===null?(v.deletions=[E],v.flags|=16):T.push(E)}}function n(v,E){if(!t)return null;for(;E!==null;)e(v,E),E=E.sibling;return null}function i(v){for(var E=new Map;v!==null;)v.key!==null?E.set(v.key,v):E.set(v.index,v),v=v.sibling;return E}function r(v,E){return v=Ui(v,E),v.index=0,v.sibling=null,v}function s(v,E,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<E?(v.flags|=67108866,E):T):(v.flags|=67108866,E)):(v.flags|=1048576,E)}function a(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,E,T,M){return E===null||E.tag!==6?(E=pd(T,v.mode,M),E.return=v,E):(E=r(E,T),E.return=v,E)}function l(v,E,T,M){var z=T.type;return z===ua?h(v,E,T.props.children,M,T.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===cr&&cs(z)===E.type)?(E=r(E,T.props),jo(E,T),E.return=v,E):(E=mc(T.type,T.key,T.props,null,v.mode,M),jo(E,T),E.return=v,E)}function c(v,E,T,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=gd(T,v.mode,M),E.return=v,E):(E=r(E,T.children||[]),E.return=v,E)}function h(v,E,T,M,z){return E===null||E.tag!==7?(E=ys(T,v.mode,M,z),E.return=v,E):(E=r(E,T),E.return=v,E)}function f(v,E,T){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=pd(""+E,v.mode,T),E.return=v,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case zu:return T=mc(E.type,E.key,E.props,null,v.mode,T),jo(T,E),T.return=v,T;case Qo:return E=gd(E,v.mode,T),E.return=v,E;case cr:return E=cs(E),f(v,E,T)}if(Yo(E)||Po(E))return E=ys(E,v.mode,T,null),E.return=v,E;if(typeof E.then=="function")return f(v,Gu(E),T);if(E.$$typeof===Mi)return f(v,Hu(v,E),T);$u(v,E)}return null}function d(v,E,T,M){var z=E!==null?E.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return z!==null?null:o(v,E,""+T,M);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case zu:return T.key===z?l(v,E,T,M):null;case Qo:return T.key===z?c(v,E,T,M):null;case cr:return T=cs(T),d(v,E,T,M)}if(Yo(T)||Po(T))return z!==null?null:h(v,E,T,M,null);if(typeof T.then=="function")return d(v,E,Gu(T),M);if(T.$$typeof===Mi)return d(v,E,Hu(v,T),M);$u(v,T)}return null}function p(v,E,T,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return v=v.get(T)||null,o(E,v,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case zu:return v=v.get(M.key===null?T:M.key)||null,l(E,v,M,z);case Qo:return v=v.get(M.key===null?T:M.key)||null,c(E,v,M,z);case cr:return M=cs(M),p(v,E,T,M,z)}if(Yo(M)||Po(M))return v=v.get(T)||null,h(E,v,M,z,null);if(typeof M.then=="function")return p(v,E,T,Gu(M),z);if(M.$$typeof===Mi)return p(v,E,T,Hu(E,M),z);$u(E,M)}return null}function w(v,E,T,M){for(var z=null,V=null,x=E,A=E=0,_=null;x!==null&&A<T.length;A++){x.index>A?(_=x,x=null):_=x.sibling;var y=d(v,x,T[A],M);if(y===null){x===null&&(x=_);break}t&&x&&y.alternate===null&&e(v,x),E=s(y,E,A),V===null?z=y:V.sibling=y,V=y,x=_}if(A===T.length)return n(v,x),Te&&Ni(v,A),z;if(x===null){for(;A<T.length;A++)x=f(v,T[A],M),x!==null&&(E=s(x,E,A),V===null?z=x:V.sibling=x,V=x);return Te&&Ni(v,A),z}for(x=i(x);A<T.length;A++)_=p(x,v,A,T[A],M),_!==null&&(t&&_.alternate!==null&&x.delete(_.key===null?A:_.key),E=s(_,E,A),V===null?z=_:V.sibling=_,V=_);return t&&x.forEach(function(b){return e(v,b)}),Te&&Ni(v,A),z}function I(v,E,T,M){if(T==null)throw Error(B(151));for(var z=null,V=null,x=E,A=E=0,_=null,y=T.next();x!==null&&!y.done;A++,y=T.next()){x.index>A?(_=x,x=null):_=x.sibling;var b=d(v,x,y.value,M);if(b===null){x===null&&(x=_);break}t&&x&&b.alternate===null&&e(v,x),E=s(b,E,A),V===null?z=b:V.sibling=b,V=b,x=_}if(y.done)return n(v,x),Te&&Ni(v,A),z;if(x===null){for(;!y.done;A++,y=T.next())y=f(v,y.value,M),y!==null&&(E=s(y,E,A),V===null?z=y:V.sibling=y,V=y);return Te&&Ni(v,A),z}for(x=i(x);!y.done;A++,y=T.next())y=p(x,v,A,y.value,M),y!==null&&(t&&y.alternate!==null&&x.delete(y.key===null?A:y.key),E=s(y,E,A),V===null?z=y:V.sibling=y,V=y);return t&&x.forEach(function(k){return e(v,k)}),Te&&Ni(v,A),z}function D(v,E,T,M){if(typeof T=="object"&&T!==null&&T.type===ua&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case zu:e:{for(var z=T.key;E!==null;){if(E.key===z){if(z=T.type,z===ua){if(E.tag===7){n(v,E.sibling),M=r(E,T.props.children),M.return=v,v=M;break e}}else if(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===cr&&cs(z)===E.type){n(v,E.sibling),M=r(E,T.props),jo(M,T),M.return=v,v=M;break e}n(v,E);break}else e(v,E);E=E.sibling}T.type===ua?(M=ys(T.props.children,v.mode,M,T.key),M.return=v,v=M):(M=mc(T.type,T.key,T.props,null,v.mode,M),jo(M,T),M.return=v,v=M)}return a(v);case Qo:e:{for(z=T.key;E!==null;){if(E.key===z)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){n(v,E.sibling),M=r(E,T.children||[]),M.return=v,v=M;break e}else{n(v,E);break}else e(v,E);E=E.sibling}M=gd(T,v.mode,M),M.return=v,v=M}return a(v);case cr:return T=cs(T),D(v,E,T,M)}if(Yo(T))return w(v,E,T,M);if(Po(T)){if(z=Po(T),typeof z!="function")throw Error(B(150));return T=z.call(T),I(v,E,T,M)}if(typeof T.then=="function")return D(v,E,Gu(T),M);if(T.$$typeof===Mi)return D(v,E,Hu(v,T),M);$u(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,E!==null&&E.tag===6?(n(v,E.sibling),M=r(E,T),M.return=v,v=M):(n(v,E),M=pd(T,v.mode,M),M.return=v,v=M),a(v)):n(v,E)}return function(v,E,T,M){try{Dl=0;var z=D(v,E,T,M);return Ca=null,z}catch(x){if(x===ao||x===Yh)throw x;var V=gn(29,x,null,v.mode);return V.lanes=M,V.return=v,V}finally{}}}var xs=GT(!0),$T=GT(!1),hr=!1;function kg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ae&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Hc(t),PT(t,null,n),e}return Qh(t,i,e,n),Hc(t)}function ll(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cT(t,n)}}function _d(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Hm=!1;function ul(){if(Hm){var t=xa;if(t!==null)throw t}}function cl(t,e,n,i){Hm=!1;var r=t.updateQueue;hr=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;a=0,h=c=l=null,o=s;do{var d=o.lane&-536870913,p=d!==o.lane;if(p?(Ee&d)===d:(i&d)===d){d!==0&&d===Ua&&(Hm=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var w=t,I=o;d=e;var D=n;switch(I.tag){case 1:if(w=I.payload,typeof w=="function"){f=w.call(D,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,d=typeof w=="function"?w.call(D,f,d):w,d==null)break e;f=Qe({},f,d);break e;case 2:hr=!0}}d=o.callback,d!==null&&(t.flags|=64,p&&(t.flags|=8192),p=r.callbacks,p===null?r.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=p,l=f):h=h.next=p,a|=d;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);h===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,s===null&&(r.shared.lanes=0),Br|=a,t.lanes=a,t.memoizedState=f}}function QT(t,e){if(typeof t!="function")throw Error(B(191,t));t.call(e)}function YT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)QT(n[t],e)}var ja=wi(null),Yc=wi(0);function e0(t,e){t=Qi,Ue(Yc,t),Ue(ja,e),Qi=t|e.baseLanes}function Gm(){Ue(Yc,Qi),Ue(ja,ja.current)}function Rg(){Qi=Yc.current,Ct(ja),Ct(Yc)}var xn=wi(null),Ln=null;function dr(t){var e=t.alternate;Ue(st,st.current&1),Ue(xn,t),Ln===null&&(e===null||ja.current!==null||e.memoizedState!==null)&&(Ln=t)}function $m(t){Ue(st,st.current),Ue(xn,t),Ln===null&&(Ln=t)}function KT(t){t.tag===22?(Ue(st,st.current),Ue(xn,t),Ln===null&&(Ln=t)):mr()}function mr(){Ue(st,st.current),Ue(xn,xn.current)}function pn(t){Ct(xn),Ln===t&&(Ln=null),Ct(st)}var st=wi(0);function Kc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||hp(n)||fp(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hi=0,ce=null,De=null,ut=null,Xc=!1,Ia=!1,Cs=!1,Wc=0,Ol=0,ka=null,ER=0;function Ze(){throw Error(B(321))}function Ng(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!An(t[n],e[n]))return!1;return!0}function Dg(t,e,n,i,r,s){return Hi=s,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,re.H=t===null||t.memoizedState===null?xb:qg,Cs=!1,s=n(i,r),Cs=!1,Ia&&(s=WT(e,n,i,r)),XT(t),s}function XT(t){re.H=Ml;var e=De!==null&&De.next!==null;if(Hi=0,ut=De=ce=null,Xc=!1,Ol=0,ka=null,e)throw Error(B(300));t===null||dt||(t=t.dependencies,t!==null&&$c(t)&&(dt=!0))}function WT(t,e,n,i){ce=t;var r=0;do{if(Ia&&(ka=null),Ol=0,Ia=!1,25<=r)throw Error(B(301));if(r+=1,ut=De=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}re.H=Cb,s=e(n,i)}while(Ia);return s}function TR(){var t=re.H,e=t.useState()[0];return e=typeof e.then=="function"?su(e):e,t=t.useState()[0],(De!==null?De.memoizedState:null)!==t&&(ce.flags|=1024),e}function Og(){var t=Wc!==0;return Wc=0,t}function Mg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Vg(t){if(Xc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Xc=!1}Hi=0,ut=De=ce=null,Ia=!1,Ol=Wc=0,ka=null}function Gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ce.memoizedState=ut=t:ut=ut.next=t,ut}function at(){if(De===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var e=ut===null?ce.memoizedState:ut.next;if(e!==null)ut=e,De=t;else{if(t===null)throw ce.alternate===null?Error(B(467)):Error(B(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},ut===null?ce.memoizedState=ut=t:ut=ut.next=t}return ut}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function su(t){var e=Ol;return Ol+=1,ka===null&&(ka=[]),t=HT(ka,t,e),e=ce,(ut===null?e.memoizedState:ut.next)===null&&(e=e.alternate,re.H=e===null||e.memoizedState===null?xb:qg),t}function Xh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return su(t);if(t.$$typeof===Mi)return Ot(t)}throw Error(B(438,String(t)))}function Lg(t){var e=null,n=ce.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=ce.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Kh(),ce.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=ok;return e.index++,n}function Gi(t,e){return typeof e=="function"?e(t):e}function gc(t){var e=at();return Pg(e,De,t)}function Pg(t,e,n){var i=t.queue;if(i===null)throw Error(B(311));i.lastRenderedReducer=n;var r=t.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=t.baseState,r===null)t.memoizedState=s;else{e=r.next;var o=a=null,l=null,c=e,h=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Ee&f)===f:(Hi&f)===f){var d=c.revertLane;if(d===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===Ua&&(h=!0);else if((Hi&d)===d){c=c.next,d===Ua&&(h=!0);continue}else f={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,ce.lanes|=d,Br|=d;f=c.action,Cs&&n(s,f),s=c.hasEagerState?c.eagerState:n(s,f)}else d={lane:f,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},l===null?(o=l=d,a=s):l=l.next=d,ce.lanes|=f,Br|=f;c=c.next}while(c!==null&&c!==e);if(l===null?a=s:l.next=o,!An(s,t.memoizedState)&&(dt=!0,h&&(n=xa,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,i.lastRenderedState=s}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function vd(t){var e=at(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);An(s,e.memoizedState)||(dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function JT(t,e,n){var i=ce,r=at(),s=Te;if(s){if(n===void 0)throw Error(B(407));n=n()}else n=e();var a=!An((De||r).memoizedState,n);if(a&&(r.memoizedState=n,dt=!0),r=r.queue,zg(tb.bind(null,i,r,t),[t]),r.getSnapshot!==e||a||ut!==null&&ut.memoizedState.tag&1){if(i.flags|=2048,Ba(9,{destroy:void 0},eb.bind(null,i,r,n,e),null),Ve===null)throw Error(B(349));s||Hi&127||ZT(i,e,n)}return n}function ZT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e=Kh(),ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eb(t,e,n,i){e.value=n,e.getSnapshot=i,nb(e)&&ib(t)}function tb(t,e,n){return n(function(){nb(e)&&ib(t)})}function nb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!An(t,n)}catch{return!0}}function ib(t){var e=Us(t,2);e!==null&&ln(e,t,2)}function Qm(t){var e=Gt();if(typeof t=="function"){var n=t;if(t=n(),Cs){vr(!0);try{n()}finally{vr(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},e}function rb(t,e,n,i){return t.baseState=n,Pg(t,De,typeof i=="function"?i:Gi)}function bR(t,e,n,i,r){if(Jh(t))throw Error(B(485));if(t=e.action,t!==null){var s={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};re.T!==null?n(!0):s.isTransition=!1,i(s),n=e.pending,n===null?(s.next=e.pending=s,sb(e,s)):(s.next=n.next,e.pending=n.next=s)}}function sb(t,e){var n=e.action,i=e.payload,r=t.state;if(e.isTransition){var s=re.T,a={};re.T=a;try{var o=n(r,i),l=re.S;l!==null&&l(a,o),t0(t,e,o)}catch(c){Ym(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),re.T=s}}else try{s=n(r,i),t0(t,e,s)}catch(c){Ym(t,e,c)}}function t0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){n0(t,e,i)},function(i){return Ym(t,e,i)}):n0(t,e,n)}function n0(t,e,n){e.status="fulfilled",e.value=n,ab(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,sb(t,n)))}function Ym(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,ab(e),e=e.next;while(e!==i)}t.action=null}function ab(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function ob(t,e){return e}function i0(t,e){if(Te){var n=Ve.formState;if(n!==null){e:{var i=ce;if(Te){if(He){t:{for(var r=He,s=Mn;r.nodeType!==8;){if(!s){r=null;break t}if(r=Pn(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){He=Pn(r.nextSibling),i=r.data==="F!";break e}}Ur(i)}i=!1}i&&(e=n[0])}}return n=Gt(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ob,lastRenderedState:e},n.queue=i,n=bb.bind(null,ce,i),i.dispatch=n,i=Qm(!1),s=Fg.bind(null,ce,!1,i.queue),i=Gt(),r={state:e,dispatch:null,action:t,pending:null},i.queue=r,n=bR.bind(null,ce,r,s,n),r.dispatch=n,i.memoizedState=t,[e,n,!1]}function r0(t){var e=at();return lb(e,De,t)}function lb(t,e,n){if(e=Pg(t,e,ob)[0],t=gc(Gi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=su(e)}catch(a){throw a===ao?Yh:a}else i=e;e=at();var r=e.queue,s=r.dispatch;return n!==e.memoizedState&&(ce.flags|=2048,Ba(9,{destroy:void 0},SR.bind(null,r,n),null)),[i,s,t]}function SR(t,e){t.action=e}function s0(t){var e=at(),n=De;if(n!==null)return lb(e,n,t);at(),e=e.memoizedState,n=at();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ba(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=ce.updateQueue,e===null&&(e=Kh(),ce.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ub(){return at().memoizedState}function yc(t,e,n,i){var r=Gt();ce.flags|=t,r.memoizedState=Ba(1|e,{destroy:void 0},n,i===void 0?null:i)}function Wh(t,e,n,i){var r=at();i=i===void 0?null:i;var s=r.memoizedState.inst;De!==null&&i!==null&&Ng(i,De.memoizedState.deps)?r.memoizedState=Ba(e,s,n,i):(ce.flags|=t,r.memoizedState=Ba(1|e,s,n,i))}function a0(t,e){yc(8390656,8,t,e)}function zg(t,e){Wh(2048,8,t,e)}function AR(t){ce.flags|=4;var e=ce.updateQueue;if(e===null)e=Kh(),ce.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function cb(t){var e=at().memoizedState;return AR({ref:e,nextImpl:t}),function(){if(Ae&2)throw Error(B(440));return e.impl.apply(void 0,arguments)}}function hb(t,e){return Wh(4,2,t,e)}function fb(t,e){return Wh(4,4,t,e)}function db(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mb(t,e,n){n=n!=null?n.concat([t]):null,Wh(4,4,db.bind(null,e,t),n)}function Ug(){}function pb(t,e){var n=at();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Ng(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function gb(t,e){var n=at();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Ng(e,i[1]))return i[0];if(i=t(),Cs){vr(!0);try{t()}finally{vr(!1)}}return n.memoizedState=[i,e],i}function jg(t,e,n){return n===void 0||Hi&1073741824&&!(Ee&261930)?t.memoizedState=e:(t.memoizedState=n,t=rS(),ce.lanes|=t,Br|=t,n)}function yb(t,e,n,i){return An(n,e)?n:ja.current!==null?(t=jg(t,n,i),An(t,e)||(dt=!0),t):!(Hi&42)||Hi&1073741824&&!(Ee&261930)?(dt=!0,t.memoizedState=n):(t=rS(),ce.lanes|=t,Br|=t,e)}function _b(t,e,n,i,r){var s=xe.p;xe.p=s!==0&&8>s?s:8;var a=re.T,o={};re.T=o,Fg(t,!1,e,n);try{var l=r(),c=re.S;if(c!==null&&c(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var h=wR(l,i);hl(t,e,h,Tn(t))}else hl(t,e,i,Tn(t))}catch(f){hl(t,e,{then:function(){},status:"rejected",reason:f},Tn())}finally{xe.p=s,a!==null&&o.types!==null&&(a.types=o.types),re.T=a}}function xR(){}function Km(t,e,n,i){if(t.tag!==5)throw Error(B(476));var r=vb(t).queue;_b(t,r,e,gs,n===null?xR:function(){return wb(t),n(i)})}function vb(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:gs,baseState:gs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:gs},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function wb(t){var e=vb(t);e.next===null&&(e=t.alternate.memoizedState),hl(t,e.next.queue,{},Tn())}function Bg(){return Ot(Pl)}function Eb(){return at().memoizedState}function Tb(){return at().memoizedState}function CR(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Tn();t=Cr(n);var i=Ir(e,t,n);i!==null&&(ln(i,e,n),ll(i,e,n)),e={cache:xg()},t.payload=e;return}e=e.return}}function IR(t,e,n){var i=Tn();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Jh(t)?Sb(e,n):(n=Tg(t,e,n,i),n!==null&&(ln(n,t,i),Ab(n,e,i)))}function bb(t,e,n){var i=Tn();hl(t,e,n,i)}function hl(t,e,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jh(t))Sb(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,An(o,a))return Qh(t,e,r,0),Ve===null&&$h(),!1}catch{}finally{}if(n=Tg(t,e,r,i),n!==null)return ln(n,t,i),Ab(n,e,i),!0}return!1}function Fg(t,e,n,i){if(i={lane:2,revertLane:Wg(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Jh(t)){if(e)throw Error(B(479))}else e=Tg(t,n,i,2),e!==null&&ln(e,t,2)}function Jh(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function Sb(t,e){Ia=Xc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ab(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cT(t,n)}}var Ml={readContext:Ot,use:Xh,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Ml.useEffectEvent=Ze;var xb={readContext:Ot,use:Xh,useCallback:function(t,e){return Gt().memoizedState=[t,e===void 0?null:e],t},useContext:Ot,useEffect:a0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,yc(4194308,4,db.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yc(4194308,4,t,e)},useInsertionEffect:function(t,e){yc(4,2,t,e)},useMemo:function(t,e){var n=Gt();e=e===void 0?null:e;var i=t();if(Cs){vr(!0);try{t()}finally{vr(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Gt();if(n!==void 0){var r=n(e);if(Cs){vr(!0);try{n(e)}finally{vr(!1)}}}else r=e;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=IR.bind(null,ce,t),[i.memoizedState,t]},useRef:function(t){var e=Gt();return t={current:t},e.memoizedState=t},useState:function(t){t=Qm(t);var e=t.queue,n=bb.bind(null,ce,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ug,useDeferredValue:function(t,e){var n=Gt();return jg(n,t,e)},useTransition:function(){var t=Qm(!1);return t=_b.bind(null,ce,t.queue,!0,!1),Gt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=ce,r=Gt();if(Te){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ve===null)throw Error(B(349));Ee&127||ZT(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,a0(tb.bind(null,i,s,t),[t]),i.flags|=2048,Ba(9,{destroy:void 0},eb.bind(null,i,s,n,e),null),n},useId:function(){var t=Gt(),e=Ve.identifierPrefix;if(Te){var n=li,i=oi;n=(i&~(1<<32-En(i)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Wc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=ER++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Bg,useFormState:i0,useActionState:i0,useOptimistic:function(t){var e=Gt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Fg.bind(null,ce,!0,n),n.dispatch=e,[t,e]},useMemoCache:Lg,useCacheRefresh:function(){return Gt().memoizedState=CR.bind(null,ce)},useEffectEvent:function(t){var e=Gt(),n={impl:t};return e.memoizedState=n,function(){if(Ae&2)throw Error(B(440));return n.impl.apply(void 0,arguments)}}},qg={readContext:Ot,use:Xh,useCallback:pb,useContext:Ot,useEffect:zg,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:gb,useReducer:gc,useRef:ub,useState:function(){return gc(Gi)},useDebugValue:Ug,useDeferredValue:function(t,e){var n=at();return yb(n,De.memoizedState,t,e)},useTransition:function(){var t=gc(Gi)[0],e=at().memoizedState;return[typeof t=="boolean"?t:su(t),e]},useSyncExternalStore:JT,useId:Eb,useHostTransitionStatus:Bg,useFormState:r0,useActionState:r0,useOptimistic:function(t,e){var n=at();return rb(n,De,t,e)},useMemoCache:Lg,useCacheRefresh:Tb};qg.useEffectEvent=cb;var Cb={readContext:Ot,use:Xh,useCallback:pb,useContext:Ot,useEffect:zg,useImperativeHandle:mb,useInsertionEffect:hb,useLayoutEffect:fb,useMemo:gb,useReducer:vd,useRef:ub,useState:function(){return vd(Gi)},useDebugValue:Ug,useDeferredValue:function(t,e){var n=at();return De===null?jg(n,t,e):yb(n,De.memoizedState,t,e)},useTransition:function(){var t=vd(Gi)[0],e=at().memoizedState;return[typeof t=="boolean"?t:su(t),e]},useSyncExternalStore:JT,useId:Eb,useHostTransitionStatus:Bg,useFormState:s0,useActionState:s0,useOptimistic:function(t,e){var n=at();return De!==null?rb(n,De,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Lg,useCacheRefresh:Tb};Cb.useEffectEvent=cb;function wd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xm={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Tn(),r=Cr(i);r.payload=e,n!=null&&(r.callback=n),e=Ir(t,r,i),e!==null&&(ln(e,t,i),ll(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Tn(),r=Cr(i);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ir(t,r,i),e!==null&&(ln(e,t,i),ll(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Tn(),i=Cr(n);i.tag=2,e!=null&&(i.callback=e),e=Ir(t,i,n),e!==null&&(ln(e,t,n),ll(e,t,n))}};function o0(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!kl(n,i)||!kl(r,s):!0}function l0(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Xm.enqueueReplaceState(e,e.state,null)}function Is(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=Qe({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function Ib(t){qc(t)}function kb(t){console.error(t)}function Rb(t){qc(t)}function Jc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function u0(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Wm(t,e,n){return n=Cr(n),n.tag=3,n.payload={element:null},n.callback=function(){Jc(t,e)},n}function Nb(t){return t=Cr(t),t.tag=3,t}function Db(t,e,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;t.payload=function(){return r(s)},t.callback=function(){u0(e,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){u0(e,n,i),typeof r!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function kR(t,e,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&so(e,n,r,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return Ln===null?ih():n.alternate===null&&et===0&&(et=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Qc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Nd(t,i,r)),!1;case 22:return n.flags|=65536,i===Qc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Nd(t,i,r)),!1}throw Error(B(435,n.tag))}return Nd(t,i,r),ih(),!1}if(Te)return e=xn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==zm&&(t=Error(B(422),{cause:i}),Nl(On(t,n)))):(i!==zm&&(e=Error(B(423),{cause:i}),Nl(On(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=On(i,n),r=Wm(t.stateNode,i,r),_d(t,r),et!==4&&(et=2)),!1;var s=Error(B(520),{cause:i});if(s=On(s,n),ml===null?ml=[s]:ml.push(s),et!==4&&(et=2),e===null)return!0;i=On(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Wm(n.stateNode,i,t),_d(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(kr===null||!kr.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Nb(r),Db(r,t,n,i),_d(n,r),!1}n=n.return}while(n!==null);return!1}var Hg=Error(B(461)),dt=!1;function It(t,e,n,i){e.child=t===null?$T(e,null,n,i):xs(e,t.child,n,i)}function c0(t,e,n,i,r){n=n.render;var s=e.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return As(e),i=Dg(t,e,n,a,s,r),o=Og(),t!==null&&!dt?(Mg(t,e,r),$i(t,e,r)):(Te&&o&&Sg(e),e.flags|=1,It(t,e,i,r),e.child)}function h0(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!bg(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,Ob(t,e,s,i,r)):(t=mc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!Gg(t,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(a,i)&&t.ref===e.ref)return $i(t,e,r)}return e.flags|=1,t=Ui(s,i),t.ref=e.ref,t.return=e,e.child=t}function Ob(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(kl(s,i)&&t.ref===e.ref)if(dt=!1,e.pendingProps=i=s,Gg(t,r))t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,$i(t,e,r)}return Jm(t,e,n,i,r)}function Mb(t,e,n,i){var r=i.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,e.child=null;return f0(t,e,s,n,i)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&pc(e,s!==null?s.cachePool:null),s!==null?e0(e,s):Gm(),KT(e);else return i=e.lanes=536870912,f0(t,e,s!==null?s.baseLanes|n:n,n,i)}else s!==null?(pc(e,s.cachePool),e0(e,s),mr(),e.memoizedState=null):(t!==null&&pc(e,null),Gm(),mr());return It(t,e,r,n),e.child}function Xo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function f0(t,e,n,i,r){var s=Cg();return s=s===null?null:{parent:ht._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&pc(e,null),Gm(),KT(e),t!==null&&so(t,e,i,!0),e.childLanes=r,null}function _c(t,e){return e=Zc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function d0(t,e,n){return xs(e,t.child,null,n),t=_c(e,e.pendingProps),t.flags|=2,pn(e),e.memoizedState=null,t}function RR(t,e,n){var i=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Te){if(i.mode==="hidden")return t=_c(e,i),e.lanes=536870912,Xo(null,t);if($m(e),(t=He)?(t=xS(t,Mn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:zr!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},n=UT(t),n.return=e,e.child=n,Nt=e,He=null)):t=null,t===null)throw Ur(e);return e.lanes=536870912,null}return _c(e,i)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if($m(e),r)if(e.flags&256)e.flags&=-257,e=d0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(B(558));else if(dt||so(t,e,n,!1),r=(n&t.childLanes)!==0,dt||r){if(i=Ve,i!==null&&(a=hT(i,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,Us(t,a),ln(i,t,a),Hg;ih(),e=d0(t,e,n)}else t=s.treeContext,He=Pn(a.nextSibling),Nt=e,Te=!0,xr=null,Mn=!1,t!==null&&BT(e,t),e=_c(e,i),e.flags|=4096;return e}return t=Ui(t.child,{mode:i.mode,children:i.children}),t.ref=e.ref,e.child=t,t.return=e,t}function vc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(B(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Jm(t,e,n,i,r){return As(e),n=Dg(t,e,n,i,void 0,r),i=Og(),t!==null&&!dt?(Mg(t,e,r),$i(t,e,r)):(Te&&i&&Sg(e),e.flags|=1,It(t,e,n,r),e.child)}function m0(t,e,n,i,r,s){return As(e),e.updateQueue=null,n=WT(e,i,n,r),XT(t),i=Og(),t!==null&&!dt?(Mg(t,e,s),$i(t,e,s)):(Te&&i&&Sg(e),e.flags|=1,It(t,e,n,s),e.child)}function p0(t,e,n,i,r){if(As(e),e.stateNode===null){var s=ya,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ot(a)),s=new n(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xm,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},kg(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ot(a):ya,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(wd(e,n,a,i),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Xm.enqueueReplaceState(s,s.state,null),cl(e,i,s,r),ul(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=Is(n,o);s.props=l;var c=s.context,h=n.contextType;a=ya,typeof h=="object"&&h!==null&&(a=Ot(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&l0(e,s,i,a),hr=!1;var d=e.memoizedState;s.state=d,cl(e,i,s,r),ul(),c=e.memoizedState,o||d!==c||hr?(typeof f=="function"&&(wd(e,n,f,i),c=e.memoizedState),(l=hr||o0(e,n,l,i,d,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=a,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,qm(t,e),a=e.memoizedProps,h=Is(n,a),s.props=h,f=e.pendingProps,d=s.context,c=n.contextType,l=ya,typeof c=="object"&&c!==null&&(l=Ot(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&l0(e,s,i,l),hr=!1,d=e.memoizedState,s.state=d,cl(e,i,s,r),ul();var p=e.memoizedState;a!==f||d!==p||hr||t!==null&&t.dependencies!==null&&$c(t.dependencies)?(typeof o=="function"&&(wd(e,n,o,i),p=e.memoizedState),(h=hr||o0(e,n,h,i,d,p,l)||t!==null&&t.dependencies!==null&&$c(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=h):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),i=!1)}return s=i,vc(t,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&i?(e.child=xs(e,t.child,null,r),e.child=xs(e,null,n,r)):It(t,e,n,r),e.memoizedState=s.state,t=e.child):t=$i(t,e,r),t}function g0(t,e,n,i){return Ss(),e.flags|=256,It(t,e,n,i),e.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:qT()}}function bd(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=yn),t}function Vb(t,e,n){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(st.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Te){if(r?dr(e):mr(),(t=He)?(t=xS(t,Mn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:zr!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},n=UT(t),n.return=e,e.child=n,Nt=e,He=null)):t=null,t===null)throw Ur(e);return fp(t)?e.lanes=32:e.lanes=536870912,null}var o=i.children;return i=i.fallback,r?(mr(),r=e.mode,o=Zc({mode:"hidden",children:o},r),i=ys(i,r,n,null),o.return=e,i.return=e,o.sibling=i,e.child=o,i=e.child,i.memoizedState=Td(n),i.childLanes=bd(t,a,n),e.memoizedState=Ed,Xo(null,i)):(dr(e),Zm(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(dr(e),e.flags&=-257,e=Sd(t,e,n)):e.memoizedState!==null?(mr(),e.child=t.child,e.flags|=128,e=null):(mr(),o=i.fallback,r=e.mode,i=Zc({mode:"visible",children:i.children},r),o=ys(o,r,n,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,xs(e,t.child,null,n),i=e.child,i.memoizedState=Td(n),i.childLanes=bd(t,a,n),e.memoizedState=Ed,e=Xo(null,i));else if(dr(e),fp(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(B(419)),i.stack="",i.digest=a,Nl({value:i,source:null,stack:null}),e=Sd(t,e,n)}else if(dt||so(t,e,n,!1),a=(n&t.childLanes)!==0,dt||a){if(a=Ve,a!==null&&(i=hT(a,n),i!==0&&i!==l.retryLane))throw l.retryLane=i,Us(t,i),ln(a,t,i),Hg;hp(o)||ih(),e=Sd(t,e,n)}else hp(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,He=Pn(o.nextSibling),Nt=e,Te=!0,xr=null,Mn=!1,t!==null&&BT(e,t),e=Zm(e,i.children),e.flags|=4096);return e}return r?(mr(),o=i.fallback,r=e.mode,l=t.child,c=l.sibling,i=Ui(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,c!==null?o=Ui(c,o):(o=ys(o,r,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,Xo(null,i),i=e.child,o=t.child.memoizedState,o===null?o=Td(n):(r=o.cachePool,r!==null?(l=ht._currentValue,r=r.parent!==l?{parent:l,pool:l}:r):r=qT(),o={baseLanes:o.baseLanes|n,cachePool:r}),i.memoizedState=o,i.childLanes=bd(t,a,n),e.memoizedState=Ed,Xo(t.child,i)):(dr(e),n=t.child,t=n.sibling,n=Ui(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Zm(t,e){return e=Zc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Zc(t,e){return t=gn(22,t,null,e),t.lanes=0,t}function Sd(t,e,n){return xs(e,t.child,null,n),t=Zm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y0(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),jm(t.return,e,n)}function Ad(t,e,n,i,r,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function Lb(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=st.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,Ue(st,a),It(t,e,i,n),i=Te?Rl:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y0(t,n,e);else if(t.tag===19)y0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Kc(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Ad(e,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Kc(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Ad(e,!0,n,null,s,i);break;case"together":Ad(e,!1,null,null,void 0,i);break;default:e.memoizedState=null}return e.child}function $i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Br|=e.lanes,!(n&e.childLanes))if(t!==null){if(so(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&$c(t)))}function NR(t,e,n){switch(e.tag){case 3:Uc(e,e.stateNode.containerInfo),fr(e,ht,t.memoizedState.cache),Ss();break;case 27:case 5:Cm(e);break;case 4:Uc(e,e.stateNode.containerInfo);break;case 10:fr(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,$m(e),null;break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(dr(e),e.flags|=128,null):n&e.child.childLanes?Vb(t,e,n):(dr(e),t=$i(t,e,n),t!==null?t.sibling:null);dr(e);break;case 19:var r=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(so(t,e,n,!1),i=(n&e.childLanes)!==0),r){if(i)return Lb(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ue(st,st.current),i)break;return null;case 22:return e.lanes=0,Mb(t,e,n,e.pendingProps);case 24:fr(e,ht,t.memoizedState.cache)}return $i(t,e,n)}function Pb(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)dt=!0;else{if(!Gg(t,n)&&!(e.flags&128))return dt=!1,NR(t,e,n);dt=!!(t.flags&131072)}else dt=!1,Te&&e.flags&1048576&&jT(e,Rl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var i=e.pendingProps;if(t=cs(e.elementType),e.type=t,typeof t=="function")bg(t)?(i=Is(t,i),e.tag=1,e=p0(null,e,t,i,n)):(e.tag=0,e=Jm(null,e,t,i,n));else{if(t!=null){var r=t.$$typeof;if(r===ug){e.tag=11,e=c0(null,e,t,i,n);break e}else if(r===cg){e.tag=14,e=h0(null,e,t,i,n);break e}}throw e=Am(t)||t,Error(B(306,e,""))}}return e;case 0:return Jm(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,r=Is(i,e.pendingProps),p0(t,e,i,r,n);case 3:e:{if(Uc(e,e.stateNode.containerInfo),t===null)throw Error(B(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,qm(t,e),cl(e,i,null,n);var a=e.memoizedState;if(i=a.cache,fr(e,ht,i),i!==s.cache&&Bm(e,[ht],n,!0),ul(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=g0(t,e,i,n);break e}else if(i!==r){r=On(Error(B(424)),e),Nl(r),e=g0(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Pn(t.firstChild),Nt=e,Te=!0,xr=null,Mn=!0,n=$T(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ss(),i===r){e=$i(t,e,n);break e}It(t,e,i,n)}e=e.child}return e;case 26:return vc(t,e),t===null?(n=P0(e.type,null,e.pendingProps,null))?e.memoizedState=n:Te||(n=e.type,t=e.pendingProps,i=oh(Ar.current).createElement(n),i[Rt]=e,i[un]=t,Mt(i,n,t),xt(i),e.stateNode=i):e.memoizedState=P0(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Cm(e),t===null&&Te&&(i=e.stateNode=CS(e.type,e.pendingProps,Ar.current),Nt=e,Mn=!0,r=He,Xr(e.type)?(dp=r,He=Pn(i.firstChild)):He=r),It(t,e,e.pendingProps.children,n),vc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Te&&((r=i=He)&&(i=oN(i,e.type,e.pendingProps,Mn),i!==null?(e.stateNode=i,Nt=e,He=Pn(i.firstChild),Mn=!1,r=!0):r=!1),r||Ur(e)),Cm(e),r=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,i=s.children,up(r,s)?i=null:a!==null&&up(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=Dg(t,e,TR,null,null,n),Pl._currentValue=r),vc(t,e),It(t,e,i,n),e.child;case 6:return t===null&&Te&&((t=n=He)&&(n=lN(n,e.pendingProps,Mn),n!==null?(e.stateNode=n,Nt=e,He=null,t=!0):t=!1),t||Ur(e)),null;case 13:return Vb(t,e,n);case 4:return Uc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=xs(e,null,i,n):It(t,e,i,n),e.child;case 11:return c0(t,e,e.type,e.pendingProps,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,fr(e,e.type,i.value),It(t,e,i.children,n),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,As(e),r=Ot(r),i=i(r),e.flags|=1,It(t,e,i,n),e.child;case 14:return h0(t,e,e.type,e.pendingProps,n);case 15:return Ob(t,e,e.type,e.pendingProps,n);case 19:return Lb(t,e,n);case 31:return RR(t,e,n);case 22:return Mb(t,e,n,e.pendingProps);case 24:return As(e),i=Ot(ht),t===null?(r=Cg(),r===null&&(r=Ve,s=xg(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),e.memoizedState={parent:i,cache:r},kg(e),fr(e,ht,r)):(t.lanes&n&&(qm(t,e),cl(e,null,null,n),ul()),r=t.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),fr(e,ht,i)):(i=s.cache,fr(e,ht,i),i!==r.cache&&Bm(e,[ht],n,!0))),It(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(B(156,e.tag))}function Ci(t){t.flags|=4}function xd(t,e,n,i,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(oS())t.flags|=8192;else throw vs=Qc,Ig}else t.flags&=-16777217}function _0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!RS(e))if(oS())t.flags|=8192;else throw vs=Qc,Ig}function Qu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?lT():536870912,t.lanes|=e,Fa|=e)}function Bo(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function DR(t,e,n){var i=e.pendingProps;switch(Ag(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return qe(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),ji(ht),La(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Js(e)?Ci(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yd())),qe(e),null;case 26:var r=e.type,s=e.memoizedState;return t===null?(Ci(e),s!==null?(qe(e),_0(e,s)):(qe(e),xd(e,r,null,i,n))):s?s!==t.memoizedState?(Ci(e),qe(e),_0(e,s)):(qe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==i&&Ci(e),qe(e),xd(e,r,t,i,n)),null;case 27:if(jc(e),n=Ar.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ci(e);else{if(!i){if(e.stateNode===null)throw Error(B(166));return qe(e),null}t=ci.current,Js(e)?Qv(e):(t=CS(r,i,n),e.stateNode=t,Ci(e))}return qe(e),null;case 5:if(jc(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&Ci(e);else{if(!i){if(e.stateNode===null)throw Error(B(166));return qe(e),null}if(s=ci.current,Js(e))Qv(e);else{var a=oh(Ar.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?s.multiple=!0:i.size&&(s.size=i.size);break;default:s=typeof i.is=="string"?a.createElement(r,{is:i.is}):a.createElement(r)}}s[Rt]=e,s[un]=i;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(Mt(s,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ci(e)}}return qe(e),xd(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&Ci(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(B(166));if(t=Ar.current,Js(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,r=Nt,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Rt]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||bS(t.nodeValue,n)),t||Ur(e,!0)}else t=oh(t).createTextNode(i),t[Rt]=e,e.stateNode=t}return qe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(i=Js(e),n!==null){if(t===null){if(!i)throw Error(B(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(557));t[Rt]=e}else Ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),t=!1}else n=yd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(pn(e),e):(pn(e),null);if(e.flags&128)throw Error(B(558))}return qe(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Js(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(B(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(B(317));r[Rt]=e}else Ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),r=!1}else r=yd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(pn(e),e):(pn(e),null)}return pn(e),e.flags&128?(e.lanes=n,e):(n=i!==null,t=t!==null&&t.memoizedState!==null,n&&(i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Qu(e,e.updateQueue),qe(e),null);case 4:return La(),t===null&&Jg(e.stateNode.containerInfo),qe(e),null;case 10:return ji(e.type),qe(e),null;case 19:if(Ct(st),i=e.memoizedState,i===null)return qe(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Bo(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Kc(t),s!==null){for(e.flags|=128,Bo(i,!1),t=s.updateQueue,e.updateQueue=t,Qu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)zT(n,t),n=n.sibling;return Ue(st,st.current&1|2),Te&&Ni(e,i.treeForkCount),e.child}t=t.sibling}i.tail!==null&&vn()>th&&(e.flags|=128,r=!0,Bo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kc(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Qu(e,t),Bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Te)return qe(e),null}else 2*vn()-i.renderingStartTime>th&&n!==536870912&&(e.flags|=128,r=!0,Bo(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=vn(),t.sibling=null,n=st.current,Ue(st,r?n&1|2:n&1),Te&&Ni(e,i.treeForkCount),t):(qe(e),null);case 22:case 23:return pn(e),Rg(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),n=e.updateQueue,n!==null&&Qu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ct(_s),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ji(ht),qe(e),null;case 25:return null;case 30:return null}throw Error(B(156,e.tag))}function OR(t,e){switch(Ag(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ji(ht),La(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return jc(e),null;case 31:if(e.memoizedState!==null){if(pn(e),e.alternate===null)throw Error(B(340));Ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(pn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(st),null;case 4:return La(),null;case 10:return ji(e.type),null;case 22:case 23:return pn(e),Rg(),t!==null&&Ct(_s),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ji(ht),null;case 25:return null;default:return null}}function zb(t,e){switch(Ag(e),e.tag){case 3:ji(ht),La();break;case 26:case 27:case 5:jc(e);break;case 4:La();break;case 31:e.memoizedState!==null&&pn(e);break;case 13:pn(e);break;case 19:Ct(st);break;case 10:ji(e.type);break;case 22:case 23:pn(e),Rg(),t!==null&&Ct(_s);break;case 24:ji(ht)}}function au(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&t)===t){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(o){Re(e,e.return,o)}}function jr(t,e,n){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&t)===t){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,r=e;var l=n,c=o;try{c()}catch(h){Re(r,l,h)}}}i=i.next}while(i!==s)}}catch(h){Re(e,e.return,h)}}function Ub(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{YT(e,n)}catch(i){Re(t,t.return,i)}}}function jb(t,e,n){n.props=Is(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Re(t,e,i)}}function fl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(r){Re(t,e,r)}}function ui(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){Re(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Re(t,e,r)}else n.current=null}function Bb(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Re(t,t.return,r)}}function Cd(t,e,n){try{var i=t.stateNode;tN(i,t.type,n,e),i[un]=e}catch(r){Re(t,t.return,r)}}function Fb(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Fb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ep(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vi));else if(i!==4&&(i===27&&Xr(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}function eh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Xr(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(eh(t,e,n),t=t.sibling;t!==null;)eh(t,e,n),t=t.sibling}function qb(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Mt(e,i,n),e[Rt]=t,e[un]=n}catch(s){Re(t,t.return,s)}}var Di=!1,ct=!1,kd=!1,v0=typeof WeakSet=="function"?WeakSet:Set,At=null;function MR(t,e){if(t=t.containerInfo,op=hh,t=RT(t),wg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,h=0,f=t,d=null;t:for(;;){for(var p;f!==n||r!==0&&f.nodeType!==3||(o=a+r),f!==s||i!==0&&f.nodeType!==3||(l=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===r&&(o=a),d===s&&++h===i&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(lp={focusedElem:t,selectionRange:n},hh=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){switch(e=At,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var w=Is(n.type,r);t=i.getSnapshotBeforeUpdate(w,s),i.__reactInternalSnapshotBeforeUpdate=t}catch(I){Re(n,n.return,I)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)cp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(B(163))}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}}function Hb(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:ki(t,n),i&4&&au(5,n);break;case 1:if(ki(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Re(n,n.return,a)}else{var r=Is(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Re(n,n.return,a)}}i&64&&Ub(n),i&512&&fl(n,n.return);break;case 3:if(ki(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{YT(t,e)}catch(a){Re(n,n.return,a)}}break;case 27:e===null&&i&4&&qb(n);case 26:case 5:ki(t,n),e===null&&i&4&&Bb(n),i&512&&fl(n,n.return);break;case 12:ki(t,n);break;case 31:ki(t,n),i&4&&Qb(t,n);break;case 13:ki(t,n),i&4&&Yb(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=qR.bind(null,n),uN(t,n))));break;case 22:if(i=n.memoizedState!==null||Di,!i){e=e!==null&&e.memoizedState!==null||ct,r=Di;var s=ct;Di=i,(ct=e)&&!s?Ri(t,n,(n.subtreeFlags&8772)!==0):ki(t,n),Di=r,ct=s}break;case 30:break;default:ki(t,n)}}function Gb(t){var e=t.alternate;e!==null&&(t.alternate=null,Gb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&mg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,rn=!1;function Ii(t,e,n){for(n=n.child;n!==null;)$b(t,e,n),n=n.sibling}function $b(t,e,n){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Zl,n)}catch{}switch(n.tag){case 26:ct||ui(n,e),Ii(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ct||ui(n,e);var i=Ke,r=rn;Xr(n.type)&&(Ke=n.stateNode,rn=!1),Ii(t,e,n),gl(n.stateNode),Ke=i,rn=r;break;case 5:ct||ui(n,e);case 6:if(i=Ke,r=rn,Ke=null,Ii(t,e,n),Ke=i,rn=r,Ke!==null)if(rn)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(n.stateNode)}catch(s){Re(n,e,s)}else try{Ke.removeChild(n.stateNode)}catch(s){Re(n,e,s)}break;case 18:Ke!==null&&(rn?(t=Ke,D0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),$a(t)):D0(Ke,n.stateNode));break;case 4:i=Ke,r=rn,Ke=n.stateNode.containerInfo,rn=!0,Ii(t,e,n),Ke=i,rn=r;break;case 0:case 11:case 14:case 15:jr(2,n,e),ct||jr(4,n,e),Ii(t,e,n);break;case 1:ct||(ui(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&jb(n,e,i)),Ii(t,e,n);break;case 21:Ii(t,e,n);break;case 22:ct=(i=ct)||n.memoizedState!==null,Ii(t,e,n),ct=i;break;default:Ii(t,e,n)}}function Qb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{$a(t)}catch(n){Re(e,e.return,n)}}}function Yb(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{$a(t)}catch(n){Re(e,e.return,n)}}function VR(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new v0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new v0),e;default:throw Error(B(435,t.tag))}}function Yu(t,e){var n=VR(t);e.forEach(function(i){if(!n.has(i)){n.add(i);var r=HR.bind(null,t,i);i.then(r,r)}})}function en(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Xr(o.type)){Ke=o.stateNode,rn=!1;break e}break;case 5:Ke=o.stateNode,rn=!1;break e;case 3:case 4:Ke=o.stateNode.containerInfo,rn=!0;break e}o=o.return}if(Ke===null)throw Error(B(160));$b(s,a,r),Ke=null,rn=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)Kb(e,t),e=e.sibling}var $n=null;function Kb(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:en(e,t),tn(t),i&4&&(jr(3,t,t.return),au(3,t),jr(5,t,t.return));break;case 1:en(e,t),tn(t),i&512&&(ct||n===null||ui(n,n.return)),i&64&&Di&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=$n;if(en(e,t),tn(t),i&512&&(ct||n===null||ui(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[nu]||s[Rt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Mt(s,i,n),s[Rt]=t,xt(s),i=s;break e;case"link":var a=U0("link","href",r).get(i+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=r.createElement(i),Mt(s,i,n),r.head.appendChild(s);break;case"meta":if(a=U0("meta","content",r).get(i+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=r.createElement(i),Mt(s,i,n),r.head.appendChild(s);break;default:throw Error(B(468,i))}s[Rt]=t,xt(s),i=s}t.stateNode=i}else j0(r,t.type,t.stateNode);else t.stateNode=z0(r,i,t.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?j0(r,t.type,t.stateNode):z0(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,n.memoizedProps)}break;case 27:en(e,t),tn(t),i&512&&(ct||n===null||ui(n,n.return)),n!==null&&i&4&&Cd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(en(e,t),tn(t),i&512&&(ct||n===null||ui(n,n.return)),t.flags&32){r=t.stateNode;try{za(r,"")}catch(w){Re(t,t.return,w)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Cd(t,r,n!==null?n.memoizedProps:r)),i&1024&&(kd=!0);break;case 6:if(en(e,t),tn(t),i&4){if(t.stateNode===null)throw Error(B(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(w){Re(t,t.return,w)}}break;case 3:if(Tc=null,r=$n,$n=lh(e.containerInfo),en(e,t),$n=r,tn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{$a(e.containerInfo)}catch(w){Re(t,t.return,w)}kd&&(kd=!1,Xb(t));break;case 4:i=$n,$n=lh(t.stateNode.containerInfo),en(e,t),tn(t),$n=i;break;case 12:en(e,t),tn(t);break;case 31:en(e,t),tn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Yu(t,i)));break;case 13:en(e,t),tn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Zh=vn()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Yu(t,i)));break;case 22:r=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,c=Di,h=ct;if(Di=c||r,ct=h||l,en(e,t),ct=h,Di=c,tn(t),i&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||l||Di||ct||hs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(w){Re(l,l.return,w)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(w){Re(l,l.return,w)}}}else if(e.tag===18){if(n===null){l=e;try{var p=l.stateNode;r?O0(p,!0):O0(l.stateNode,!1)}catch(w){Re(l,l.return,w)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Yu(t,n))));break;case 19:en(e,t),tn(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Yu(t,i)));break;case 30:break;case 21:break;default:en(e,t),tn(t)}}function tn(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Fb(i)){n=i;break}i=i.return}if(n==null)throw Error(B(160));switch(n.tag){case 27:var r=n.stateNode,s=Id(t);eh(t,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(za(a,""),n.flags&=-33);var o=Id(t);eh(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,c=Id(t);ep(t,c,l);break;default:throw Error(B(161))}}catch(h){Re(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Xb(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;Xb(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ki(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Hb(t,e.alternate,e),e=e.sibling}function hs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:jr(4,e,e.return),hs(e);break;case 1:ui(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&jb(e,e.return,n),hs(e);break;case 27:gl(e.stateNode);case 26:case 5:ui(e,e.return),hs(e);break;case 22:e.memoizedState===null&&hs(e);break;case 30:hs(e);break;default:hs(e)}t=t.sibling}}function Ri(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ri(r,s,n),au(4,s);break;case 1:if(Ri(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){Re(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)QT(l[r],o)}catch(c){Re(i,i.return,c)}}n&&a&64&&Ub(s),fl(s,s.return);break;case 27:qb(s);case 26:case 5:Ri(r,s,n),n&&i===null&&a&4&&Bb(s),fl(s,s.return);break;case 12:Ri(r,s,n);break;case 31:Ri(r,s,n),n&&a&4&&Qb(r,s);break;case 13:Ri(r,s,n),n&&a&4&&Yb(r,s);break;case 22:s.memoizedState===null&&Ri(r,s,n),fl(s,s.return);break;case 30:break;default:Ri(r,s,n)}e=e.sibling}}function $g(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ru(n))}function Qg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ru(t))}function Gn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wb(t,e,n,i),e=e.sibling}function Wb(t,e,n,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Gn(t,e,n,i),r&2048&&au(9,e);break;case 1:Gn(t,e,n,i);break;case 3:Gn(t,e,n,i),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ru(t)));break;case 12:if(r&2048){Gn(t,e,n,i),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){Re(e,e.return,l)}}else Gn(t,e,n,i);break;case 31:Gn(t,e,n,i);break;case 13:Gn(t,e,n,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?Gn(t,e,n,i):dl(t,e):s._visibility&2?Gn(t,e,n,i):(s._visibility|=2,na(t,e,n,i,(e.subtreeFlags&10256)!==0||!1)),r&2048&&$g(a,e);break;case 24:Gn(t,e,n,i),r&2048&&Qg(e.alternate,e);break;default:Gn(t,e,n,i)}}function na(t,e,n,i,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:na(s,a,o,l,r),au(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?na(s,a,o,l,r):dl(s,a):(h._visibility|=2,na(s,a,o,l,r)),r&&c&2048&&$g(a.alternate,a);break;case 24:na(s,a,o,l,r),r&&c&2048&&Qg(a.alternate,a);break;default:na(s,a,o,l,r)}e=e.sibling}}function dl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,r=i.flags;switch(i.tag){case 22:dl(n,i),r&2048&&$g(i.alternate,i);break;case 24:dl(n,i),r&2048&&Qg(i.alternate,i);break;default:dl(n,i)}e=e.sibling}}var Wo=8192;function Zs(t,e,n){if(t.subtreeFlags&Wo)for(t=t.child;t!==null;)Jb(t,e,n),t=t.sibling}function Jb(t,e,n){switch(t.tag){case 26:Zs(t,e,n),t.flags&Wo&&t.memoizedState!==null&&EN(n,$n,t.memoizedState,t.memoizedProps);break;case 5:Zs(t,e,n);break;case 3:case 4:var i=$n;$n=lh(t.stateNode.containerInfo),Zs(t,e,n),$n=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Wo,Wo=16777216,Zs(t,e,n),Wo=i):Zs(t,e,n));break;default:Zs(t,e,n)}}function Zb(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Fo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];At=i,tS(i,t)}Zb(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eS(t),t=t.sibling}function eS(t){switch(t.tag){case 0:case 11:case 15:Fo(t),t.flags&2048&&jr(9,t,t.return);break;case 3:Fo(t);break;case 12:Fo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,wc(t)):Fo(t);break;default:Fo(t)}}function wc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];At=i,tS(i,t)}Zb(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:jr(8,e,e.return),wc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,wc(e));break;default:wc(e)}t=t.sibling}}function tS(t,e){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:jr(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ru(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,At=i;else e:for(n=t;At!==null;){i=At;var r=i.sibling,s=i.return;if(Gb(i),i===n){At=null;break e}if(r!==null){r.return=s,At=r;break e}At=s}}}var LR={getCacheForType:function(t){var e=Ot(ht),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ot(ht).controller.signal}},PR=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Ve=null,ge=null,Ee=0,ke=0,mn=null,Er=!1,oo=!1,Yg=!1,Qi=0,et=0,Br=0,ws=0,Kg=0,yn=0,Fa=0,ml=null,sn=null,tp=!1,Zh=0,nS=0,th=1/0,nh=null,kr=null,_t=0,Rr=null,qa=null,Bi=0,np=0,ip=null,iS=null,pl=0,rp=null;function Tn(){return Ae&2&&Ee!==0?Ee&-Ee:re.T!==null?Wg():fT()}function rS(){if(yn===0)if(!(Ee&536870912)||Te){var t=ju;ju<<=1,!(ju&3932160)&&(ju=262144),yn=t}else yn=536870912;return t=xn.current,t!==null&&(t.flags|=32),yn}function ln(t,e,n){(t===Ve&&(ke===2||ke===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Tr(t,Ee,yn,!1)),tu(t,n),(!(Ae&2)||t!==Ve)&&(t===Ve&&(!(Ae&2)&&(ws|=n),et===4&&Tr(t,Ee,yn,!1)),Ei(t))}function sS(t,e,n){if(Ae&6)throw Error(B(327));var i=!n&&(e&127)===0&&(e&t.expiredLanes)===0||eu(t,e),r=i?jR(t,e):Rd(t,e,!0),s=i;do{if(r===0){oo&&!i&&Tr(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!zR(n)){r=Rd(t,e,!1),s=!1;continue}if(r===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;r=ml;var l=o.current.memoizedState.isDehydrated;if(l&&(Ha(o,a).flags|=256),a=Rd(o,a,!1),a!==2){if(Yg&&!l){o.errorRecoveryDisabledLanes|=s,ws|=s,r=4;break e}s=sn,sn=r,s!==null&&(sn===null?sn=s:sn.push.apply(sn,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ha(t,0),Tr(t,e,0,!0);break}e:{switch(i=t,s=r,s){case 0:case 1:throw Error(B(345));case 4:if((e&4194048)!==e)break;case 6:Tr(i,e,yn,!Er);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(B(329))}if((e&62914560)===e&&(r=Zh+300-vn(),10<r)){if(Tr(i,e,yn,!Er),Fh(i,0,!0)!==0)break e;Bi=e,i.timeoutHandle=AS(w0.bind(null,i,n,sn,nh,tp,e,yn,ws,Fa,Er,s,"Throttled",-0,0),r);break e}w0(i,n,sn,nh,tp,e,yn,ws,Fa,Er,s,null,-0,0)}}break}while(!0);Ei(t)}function w0(t,e,n,i,r,s,a,o,l,c,h,f,d,p){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vi},Jb(e,s,f);var w=(s&62914560)===s?Zh-vn():(s&4194048)===s?nS-vn():0;if(w=TN(f,w),w!==null){Bi=s,t.cancelPendingCommit=w(T0.bind(null,t,e,s,n,i,r,a,o,l,h,f,null,d,p)),Tr(t,s,a,!c);return}}T0(t,e,s,n,i,r,a,o,l)}function zR(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!An(s(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e,n,i){e&=~Kg,e&=~ws,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var r=e;0<r;){var s=31-En(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&uT(t,n,e)}function ef(){return Ae&6?!0:(ou(0),!1)}function Xg(){if(ge!==null){if(ke===0)var t=ge.return;else t=ge,Li=js=null,Vg(t),Ca=null,Dl=0,t=ge;for(;t!==null;)zb(t.alternate,t),t=t.return;ge=null}}function Ha(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,rN(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Bi=0,Xg(),Ve=t,ge=n=Ui(t.current,null),Ee=e,ke=0,mn=null,Er=!1,oo=eu(t,e),Yg=!1,Fa=yn=Kg=ws=Br=et=0,sn=ml=null,tp=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var r=31-En(i),s=1<<r;e|=t[r],i&=~s}return Qi=e,$h(),n}function aS(t,e){ce=null,re.H=Ml,e===ao||e===Yh?(e=Jv(),ke=3):e===Ig?(e=Jv(),ke=4):ke=e===Hg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,mn=e,ge===null&&(et=1,Jc(t,On(e,t.current)))}function oS(){var t=xn.current;return t===null?!0:(Ee&4194048)===Ee?Ln===null:(Ee&62914560)===Ee||Ee&536870912?t===Ln:!1}function lS(){var t=re.H;return re.H=Ml,t===null?Ml:t}function uS(){var t=re.A;return re.A=LR,t}function ih(){et=4,Er||(Ee&4194048)!==Ee&&xn.current!==null||(oo=!0),!(Br&134217727)&&!(ws&134217727)||Ve===null||Tr(Ve,Ee,yn,!1)}function Rd(t,e,n){var i=Ae;Ae|=2;var r=lS(),s=uS();(Ve!==t||Ee!==e)&&(nh=null,Ha(t,e)),e=!1;var a=et;e:do try{if(ke!==0&&ge!==null){var o=ge,l=mn;switch(ke){case 8:Xg(),a=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(e=!0);var c=ke;if(ke=0,mn=null,wa(t,o,l,c),n&&oo){a=0;break e}break;default:c=ke,ke=0,mn=null,wa(t,o,l,c)}}UR(),a=et;break}catch(h){aS(t,h)}while(!0);return e&&t.shellSuspendCounter++,Li=js=null,Ae=i,re.H=r,re.A=s,ge===null&&(Ve=null,Ee=0,$h()),a}function UR(){for(;ge!==null;)cS(ge)}function jR(t,e){var n=Ae;Ae|=2;var i=lS(),r=uS();Ve!==t||Ee!==e?(nh=null,th=vn()+500,Ha(t,e)):oo=eu(t,e);e:do try{if(ke!==0&&ge!==null){e=ge;var s=mn;t:switch(ke){case 1:ke=0,mn=null,wa(t,e,s,1);break;case 2:case 9:if(Wv(s)){ke=0,mn=null,E0(e);break}e=function(){ke!==2&&ke!==9||Ve!==t||(ke=7),Ei(t)},s.then(e,e);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Wv(s)?(ke=0,mn=null,E0(e)):(ke=0,mn=null,wa(t,e,s,7));break;case 5:var a=null;switch(ge.tag){case 26:a=ge.memoizedState;case 5:case 27:var o=ge;if(a?RS(a):o.stateNode.complete){ke=0,mn=null;var l=o.sibling;if(l!==null)ge=l;else{var c=o.return;c!==null?(ge=c,tf(c)):ge=null}break t}}ke=0,mn=null,wa(t,e,s,5);break;case 6:ke=0,mn=null,wa(t,e,s,6);break;case 8:Xg(),et=6;break e;default:throw Error(B(462))}}BR();break}catch(h){aS(t,h)}while(!0);return Li=js=null,re.H=i,re.A=r,Ae=n,ge!==null?0:(Ve=null,Ee=0,$h(),et)}function BR(){for(;ge!==null&&!ck();)cS(ge)}function cS(t){var e=Pb(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,e===null?tf(t):ge=e}function E0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=m0(n,e,e.pendingProps,e.type,void 0,Ee);break;case 11:e=m0(n,e,e.pendingProps,e.type.render,e.ref,Ee);break;case 5:Vg(e);default:zb(n,e),e=ge=zT(e,Qi),e=Pb(n,e,Qi)}t.memoizedProps=t.pendingProps,e===null?tf(t):ge=e}function wa(t,e,n,i){Li=js=null,Vg(e),Ca=null,Dl=0;var r=e.return;try{if(kR(t,r,e,n,Ee)){et=1,Jc(t,On(n,t.current)),ge=null;return}}catch(s){if(r!==null)throw ge=r,s;et=1,Jc(t,On(n,t.current)),ge=null;return}e.flags&32768?(Te||i===1?t=!0:oo||Ee&536870912?t=!1:(Er=t=!0,(i===2||i===9||i===3||i===6)&&(i=xn.current,i!==null&&i.tag===13&&(i.flags|=16384))),hS(e,t)):tf(e)}function tf(t){var e=t;do{if(e.flags&32768){hS(e,Er);return}t=e.return;var n=DR(e.alternate,e,Qi);if(n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);et===0&&(et=5)}function hS(t,e){do{var n=OR(t.alternate,t);if(n!==null){n.flags&=32767,ge=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ge=t;return}ge=t=n}while(t!==null);et=6,ge=null}function T0(t,e,n,i,r,s,a,o,l){t.cancelPendingCommit=null;do nf();while(_t!==0);if(Ae&6)throw Error(B(327));if(e!==null){if(e===t.current)throw Error(B(177));if(s=e.lanes|e.childLanes,s|=Eg,wk(t,n,s,a,o,l),t===Ve&&(ge=Ve=null,Ee=0),qa=e,Rr=t,Bi=n,np=s,ip=r,iS=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,GR(Bc,function(){return gS(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=re.T,re.T=null,r=xe.p,xe.p=2,a=Ae,Ae|=4;try{MR(t,e,n)}finally{Ae=a,xe.p=r,re.T=i}}_t=1,fS(),dS(),mS()}}function fS(){if(_t===1){_t=0;var t=Rr,e=qa,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=re.T,re.T=null;var i=xe.p;xe.p=2;var r=Ae;Ae|=4;try{Kb(e,t);var s=lp,a=RT(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&kT(o.ownerDocument.documentElement,o)){if(l!==null&&wg(o)){var c=l.start,h=l.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var p=d.getSelection(),w=o.textContent.length,I=Math.min(l.start,w),D=l.end===void 0?I:Math.min(l.end,w);!p.extend&&I>D&&(a=D,D=I,I=a);var v=Hv(o,I),E=Hv(o,D);if(v&&E&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==E.node||p.focusOffset!==E.offset)){var T=f.createRange();T.setStart(v.node,v.offset),p.removeAllRanges(),I>D?(p.addRange(T),p.extend(E.node,E.offset)):(T.setEnd(E.node,E.offset),p.addRange(T))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var M=f[o];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}hh=!!op,lp=op=null}finally{Ae=r,xe.p=i,re.T=n}}t.current=e,_t=2}}function dS(){if(_t===2){_t=0;var t=Rr,e=qa,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=re.T,re.T=null;var i=xe.p;xe.p=2;var r=Ae;Ae|=4;try{Hb(t,e.alternate,e)}finally{Ae=r,xe.p=i,re.T=n}}_t=3}}function mS(){if(_t===4||_t===3){_t=0,hk();var t=Rr,e=qa,n=Bi,i=iS;e.subtreeFlags&10256||e.flags&10256?_t=5:(_t=0,qa=Rr=null,pS(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(kr=null),dg(n),e=e.stateNode,wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Zl,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=re.T,r=xe.p,xe.p=2,re.T=null;try{for(var s=t.onRecoverableError,a=0;a<i.length;a++){var o=i[a];s(o.value,{componentStack:o.stack})}}finally{re.T=e,xe.p=r}}Bi&3&&nf(),Ei(t),r=t.pendingLanes,n&261930&&r&42?t===rp?pl++:(pl=0,rp=t):pl=0,ou(0)}}function pS(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ru(e)))}function nf(){return fS(),dS(),mS(),gS()}function gS(){if(_t!==5)return!1;var t=Rr,e=np;np=0;var n=dg(Bi),i=re.T,r=xe.p;try{xe.p=32>n?32:n,re.T=null,n=ip,ip=null;var s=Rr,a=Bi;if(_t=0,qa=Rr=null,Bi=0,Ae&6)throw Error(B(331));var o=Ae;if(Ae|=4,eS(s.current),Wb(s,s.current,a,n),Ae=o,ou(0,!1),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Zl,s)}catch{}return!0}finally{xe.p=r,re.T=i,pS(t,e)}}function b0(t,e,n){e=On(n,e),e=Wm(t.stateNode,e,2),t=Ir(t,e,2),t!==null&&(tu(t,2),Ei(t))}function Re(t,e,n){if(t.tag===3)b0(t,t,n);else for(;e!==null;){if(e.tag===3){b0(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(kr===null||!kr.has(i))){t=On(n,t),n=Nb(2),i=Ir(e,n,2),i!==null&&(Db(n,i,e,t),tu(i,2),Ei(i));break}}e=e.return}}function Nd(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new PR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(Yg=!0,r.add(n),t=FR.bind(null,t,e,n),e.then(t,t))}function FR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ve===t&&(Ee&n)===n&&(et===4||et===3&&(Ee&62914560)===Ee&&300>vn()-Zh?!(Ae&2)&&Ha(t,0):Kg|=n,Fa===Ee&&(Fa=0)),Ei(t)}function yS(t,e){e===0&&(e=lT()),t=Us(t,e),t!==null&&(tu(t,e),Ei(t))}function qR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yS(t,n)}function HR(t,e){var n=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(B(314))}i!==null&&i.delete(e),yS(t,n)}function GR(t,e){return hg(t,e)}var rh=null,ia=null,sp=!1,sh=!1,Dd=!1,br=0;function Ei(t){t!==ia&&t.next===null&&(ia===null?rh=ia=t:ia=ia.next=t),sh=!0,sp||(sp=!0,QR())}function ou(t,e){if(!Dd&&sh){Dd=!0;do for(var n=!1,i=rh;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-En(42|t)+1)-1,s&=r&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,S0(i,s))}else s=Ee,s=Fh(i,i===Ve?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||eu(i,s)||(n=!0,S0(i,s));i=i.next}while(n);Dd=!1}}function $R(){_S()}function _S(){sh=sp=!1;var t=0;br!==0&&iN()&&(t=br);for(var e=vn(),n=null,i=rh;i!==null;){var r=i.next,s=vS(i,e);s===0?(i.next=null,n===null?rh=r:n.next=r,r===null&&(ia=n)):(n=i,(t!==0||s&3)&&(sh=!0)),i=r}_t!==0&&_t!==5||ou(t),br!==0&&(br=0)}function vS(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-En(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=vk(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=Ve,n=Ee,n=Fh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(ke===2||ke===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&ad(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||eu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&ad(i),dg(n)){case 2:case 8:n=aT;break;case 32:n=Bc;break;case 268435456:n=oT;break;default:n=Bc}return i=wS.bind(null,t),n=hg(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&ad(i),t.callbackPriority=2,t.callbackNode=null,2}function wS(t,e){if(_t!==0&&_t!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(nf()&&t.callbackNode!==n)return null;var i=Ee;return i=Fh(t,t===Ve?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(sS(t,i,e),vS(t,vn()),t.callbackNode!=null&&t.callbackNode===n?wS.bind(null,t):null)}function S0(t,e){if(nf())return null;sS(t,e,!0)}function QR(){sN(function(){Ae&6?hg(sT,$R):_S()})}function Wg(){if(br===0){var t=Ua;t===0&&(t=Uu,Uu<<=1,!(Uu&261888)&&(Uu=256)),br=t}return br}function A0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hc(""+t)}function x0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function YR(t,e,n,i,r){if(e==="submit"&&n&&n.stateNode===r){var s=A0((r[un]||null).action),a=i.submitter;a&&(e=(e=a[un]||null)?A0(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new qh("action","action",null,i,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(br!==0){var l=a?x0(r,a):new FormData(r);Km(n,{pending:!0,data:l,method:r.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?x0(r,a):new FormData(r),Km(n,{pending:!0,data:l,method:r.method,action:s},s,l))},currentTarget:r}]})}}for(var Od=0;Od<Pm.length;Od++){var Md=Pm[Od],KR=Md.toLowerCase(),XR=Md[0].toUpperCase()+Md.slice(1);Jn(KR,"on"+XR)}Jn(DT,"onAnimationEnd");Jn(OT,"onAnimationIteration");Jn(MT,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(fR,"onTransitionRun");Jn(dR,"onTransitionStart");Jn(mR,"onTransitionCancel");Jn(VT,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(h){qc(h)}r.currentTarget=null,s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(h){qc(h)}r.currentTarget=null,s=l}}}}function pe(t,e){var n=e[km];n===void 0&&(n=e[km]=new Set);var i=t+"__bubble";n.has(i)||(TS(e,t,2,!1),n.add(i))}function Vd(t,e,n){var i=0;e&&(i|=4),TS(n,t,i,e)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Jg(t){if(!t[Ku]){t[Ku]=!0,dT.forEach(function(n){n!=="selectionchange"&&(WR.has(n)||Vd(n,!1,t),Vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ku]||(e[Ku]=!0,Vd("selectionchange",!1,e))}}function TS(t,e,n,i){switch(VS(e)){case 2:var r=AN;break;case 8:r=xN;break;default:r=ny}n=r.bind(null,e,n,t),r=void 0,!Mm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Ld(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;o!==null;){if(a=ha(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=s=a;continue e}o=o.parentNode}}i=i.return}ET(function(){var c=s,h=gg(n),f=[];e:{var d=LT.get(t);if(d!==void 0){var p=qh,w=t;switch(t){case"keypress":if(dc(n)===0)break e;case"keydown":case"keyup":p=Hk;break;case"focusin":w="focus",p=hd;break;case"focusout":w="blur",p=hd;break;case"beforeblur":case"afterblur":p=hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Dk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Qk;break;case DT:case OT:case MT:p=Vk;break;case VT:p=Kk;break;case"scroll":case"scrollend":p=Rk;break;case"wheel":p=Wk;break;case"copy":case"cut":case"paste":p=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lv;break;case"toggle":case"beforetoggle":p=Zk}var I=(e&4)!==0,D=!I&&(t==="scroll"||t==="scrollend"),v=I?d!==null?d+"Capture":null:d;I=[];for(var E=c,T;E!==null;){var M=E;if(T=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||T===null||v===null||(M=Cl(E,v),M!=null&&I.push(Ll(E,M,T))),D)break;E=E.return}0<I.length&&(d=new p(d,w,null,n,h),f.push({event:d,listeners:I}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Om&&(w=n.relatedTarget||n.fromElement)&&(ha(w)||w[io]))break e;if((p||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=c,w=w?ha(w):null,w!==null&&(D=Jl(w),I=w.tag,w!==D||I!==5&&I!==27&&I!==6)&&(w=null)):(p=null,w=c),p!==w)){if(I=Mv,M="onMouseLeave",v="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(I=Lv,M="onPointerLeave",v="onPointerEnter",E="pointer"),D=p==null?d:Ko(p),T=w==null?d:Ko(w),d=new I(M,E+"leave",p,n,h),d.target=D,d.relatedTarget=T,M=null,ha(h)===c&&(I=new I(v,E+"enter",w,n,h),I.target=T,I.relatedTarget=D,M=I),D=M,p&&w)t:{for(I=JR,v=p,E=w,T=0,M=v;M;M=I(M))T++;M=0;for(var z=E;z;z=I(z))M++;for(;0<T-M;)v=I(v),T--;for(;0<M-T;)E=I(E),M--;for(;T--;){if(v===E||E!==null&&v===E.alternate){I=v;break t}v=I(v),E=I(E)}I=null}else I=null;p!==null&&C0(f,d,p,I,!1),w!==null&&D!==null&&C0(f,D,w,I,!0)}}e:{if(d=c?Ko(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var V=jv;else if(Uv(d))if(CT)V=uR;else{V=oR;var x=aR}else p=d.nodeName,!p||p.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&pg(c.elementType)&&(V=jv):V=lR;if(V&&(V=V(t,c))){xT(f,V,n,h);break e}x&&x(t,d,c),t==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Dm(d,"number",d.value)}switch(x=c?Ko(c):window,t){case"focusin":(Uv(x)||x.contentEditable==="true")&&(ma=x,Vm=c,al=null);break;case"focusout":al=Vm=ma=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,Gv(f,n,h);break;case"selectionchange":if(hR)break;case"keydown":case"keyup":Gv(f,n,h)}var A;if(vg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else da?ST(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(bT&&n.locale!=="ko"&&(da||_!=="onCompositionStart"?_==="onCompositionEnd"&&da&&(A=TT()):(wr=h,yg="value"in wr?wr.value:wr.textContent,da=!0)),x=ah(c,_),0<x.length&&(_=new Vv(_,t,null,n,h),f.push({event:_,listeners:x}),A?_.data=A:(A=AT(n),A!==null&&(_.data=A)))),(A=tR?nR(t,n):iR(t,n))&&(_=ah(c,"onBeforeInput"),0<_.length&&(x=new Vv("onBeforeInput","beforeinput",null,n,h),f.push({event:x,listeners:_}),x.data=A)),YR(f,t,c,n,h)}ES(f,e)})}function Ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ah(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Cl(t,n),r!=null&&i.unshift(Ll(t,r,s)),r=Cl(t,e),r!=null&&i.push(Ll(t,r,s))),t.tag===3)return i;t=t.return}return[]}function JR(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function C0(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||c===null||(l=c,r?(c=Cl(n,s),c!=null&&a.unshift(Ll(n,c,l))):r||(c=Cl(n,s),c!=null&&a.push(Ll(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var ZR=/\r\n?/g,eN=/\u0000|\uFFFD/g;function I0(t){return(typeof t=="string"?t:""+t).replace(ZR,`
`).replace(eN,"")}function bS(t,e){return e=I0(e),I0(t)===e}function Ne(t,e,n,i,r,s){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||za(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&za(t,""+i);break;case"className":Fu(t,"class",i);break;case"tabIndex":Fu(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Fu(t,n,i);break;case"style":wT(t,i,s);break;case"data":if(e!=="object"){Fu(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=hc(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Ne(t,e,"name",r.name,r,null),Ne(t,e,"formEncType",r.formEncType,r,null),Ne(t,e,"formMethod",r.formMethod,r,null),Ne(t,e,"formTarget",r.formTarget,r,null)):(Ne(t,e,"encType",r.encType,r,null),Ne(t,e,"method",r.method,r,null),Ne(t,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=hc(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=Vi);break;case"onScroll":i!=null&&pe("scroll",t);break;case"onScrollEnd":i!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(B(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=hc(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":pe("beforetoggle",t),pe("toggle",t),cc(t,"popover",i);break;case"xlinkActuate":xi(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":xi(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":xi(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":xi(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":xi(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":xi(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":xi(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":xi(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":xi(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":cc(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Ik.get(n)||n,cc(t,n,i))}}function ap(t,e,n,i,r,s){switch(n){case"style":wT(t,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(B(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"children":typeof i=="string"?za(t,i):(typeof i=="number"||typeof i=="bigint")&&za(t,""+i);break;case"onScroll":i!=null&&pe("scroll",t);break;case"onScrollEnd":i!=null&&pe("scrollend",t);break;case"onClick":i!=null&&(t.onclick=Vi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),s=t[un]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,r);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):cc(t,n,i)}}}function Mt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Ne(t,e,s,a,n,null)}}r&&Ne(t,e,"srcSet",n.srcSet,n,null),i&&Ne(t,e,"src",n.src,n,null);return;case"input":pe("invalid",t);var o=s=a=r=null,l=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(h!=null)switch(i){case"name":r=h;break;case"type":a=h;break;case"checked":l=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,e));break;default:Ne(t,e,i,h,n,null)}}yT(t,s,o,l,c,a,r,!1);return;case"select":pe("invalid",t),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:Ne(t,e,r,o,n,null)}e=s,n=a,t.multiple=!!i,e!=null?Sa(t,!!i,e,!1):n!=null&&Sa(t,!!i,n,!0);return;case"textarea":pe("invalid",t),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":r=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(B(91));break;default:Ne(t,e,a,o,n,null)}vT(t,i,r,s);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(i=n[l],i!=null))switch(l){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ne(t,e,l,i,n,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(i=0;i<Vl.length;i++)pe(Vl[i],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Ne(t,e,c,i,n,null)}return;default:if(pg(e)){for(h in n)n.hasOwnProperty(h)&&(i=n[h],i!==void 0&&ap(t,e,h,i,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(i=n[o],i!=null&&Ne(t,e,o,i,n,null))}function tN(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,o=null,l=null,c=null,h=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(p)||Ne(t,e,p,null,i,f)}}for(var d in i){var p=i[d];if(f=n[d],i.hasOwnProperty(d)&&(p!=null||f!=null))switch(d){case"type":s=p;break;case"name":r=p;break;case"checked":c=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(B(137,e));break;default:p!==f&&Ne(t,e,d,p,i,f)}}Nm(t,a,o,l,c,h,s,r);return;case"select":p=a=o=d=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":p=l;default:i.hasOwnProperty(s)||Ne(t,e,s,null,i,l)}for(r in i)if(s=i[r],l=n[r],i.hasOwnProperty(r)&&(s!=null||l!=null))switch(r){case"value":d=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&Ne(t,e,r,s,i,l)}e=o,n=a,i=p,d!=null?Sa(t,!!n,d,!1):!!i!=!!n&&(e!=null?Sa(t,!!n,e,!0):Sa(t,!!n,n?[]:"",!1));return;case"textarea":p=d=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ne(t,e,o,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":d=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(B(91));break;default:r!==s&&Ne(t,e,a,r,i,s)}_T(t,d,p);return;case"option":for(var w in n)if(d=n[w],n.hasOwnProperty(w)&&d!=null&&!i.hasOwnProperty(w))switch(w){case"selected":t.selected=!1;break;default:Ne(t,e,w,null,i,d)}for(l in i)if(d=i[l],p=n[l],i.hasOwnProperty(l)&&d!==p&&(d!=null||p!=null))switch(l){case"selected":t.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ne(t,e,l,d,i,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)d=n[I],n.hasOwnProperty(I)&&d!=null&&!i.hasOwnProperty(I)&&Ne(t,e,I,null,i,d);for(c in i)if(d=i[c],p=n[c],i.hasOwnProperty(c)&&d!==p&&(d!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,e));break;default:Ne(t,e,c,d,i,p)}return;default:if(pg(e)){for(var D in n)d=n[D],n.hasOwnProperty(D)&&d!==void 0&&!i.hasOwnProperty(D)&&ap(t,e,D,void 0,i,d);for(h in i)d=i[h],p=n[h],!i.hasOwnProperty(h)||d===p||d===void 0&&p===void 0||ap(t,e,h,d,i,p);return}}for(var v in n)d=n[v],n.hasOwnProperty(v)&&d!=null&&!i.hasOwnProperty(v)&&Ne(t,e,v,null,i,d);for(f in i)d=i[f],p=n[f],!i.hasOwnProperty(f)||d===p||d==null&&p==null||Ne(t,e,f,d,i,p)}function k0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,o=r.duration;if(s&&o&&k0(a)){for(a=0,o=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>o)break;var h=l.transferSize,f=l.initiatorType;h&&k0(f)&&(l=l.responseEnd,a+=h*(l<o?1:(o-c)/(l-c)))}if(--i,e+=8*(s+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var op=null,lp=null;function oh(t){return t.nodeType===9?t:t.ownerDocument}function R0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SS(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function up(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Pd=null;function iN(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var AS=typeof setTimeout=="function"?setTimeout:void 0,rN=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(aN)}:AS;function aN(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function D0(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(i===0){t.removeChild(r),$a(e);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")gl(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,gl(n);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[nu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&gl(t.ownerDocument.body);n=r}while(n);$a(e)}function O0(t,e){var n=t;t=0;do{var i=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=i}while(n)}function cp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":cp(n),mg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function oN(t,e,n,i){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[nu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=Pn(t.nextSibling),t===null)break}return null}function lN(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Pn(t.nextSibling),t===null))return null;return t}function xS(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Pn(t.nextSibling),t===null))return null;return t}function hp(t){return t.data==="$?"||t.data==="$~"}function fp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function uN(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Pn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var dp=null;function M0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Pn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function V0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function CS(t,e,n){switch(e=oh(n),t){case"html":if(t=e.documentElement,!t)throw Error(B(452));return t;case"head":if(t=e.head,!t)throw Error(B(453));return t;case"body":if(t=e.body,!t)throw Error(B(454));return t;default:throw Error(B(451))}}function gl(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);mg(t)}var jn=new Map,L0=new Set;function lh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zi=xe.d;xe.d={f:cN,r:hN,D:fN,C:dN,L:mN,m:pN,X:yN,S:gN,M:_N};function cN(){var t=Zi.f(),e=ef();return t||e}function hN(t){var e=ro(t);e!==null&&e.tag===5&&e.type==="form"?wb(e):Zi.r(t)}var lo=typeof document>"u"?null:document;function IS(t,e,n){var i=lo;if(i&&typeof e=="string"&&e){var r=Dn(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),L0.has(r)||(L0.add(r),t={rel:t,crossOrigin:n,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Mt(e,"link",t),xt(e),i.head.appendChild(e)))}}function fN(t){Zi.D(t),IS("dns-prefetch",t,null)}function dN(t,e){Zi.C(t,e),IS("preconnect",t,e)}function mN(t,e,n){Zi.L(t,e,n);var i=lo;if(i&&t&&e){var r='link[rel="preload"][as="'+Dn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Dn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Dn(n.imageSizes)+'"]')):r+='[href="'+Dn(t)+'"]';var s=r;switch(e){case"style":s=Ga(t);break;case"script":s=uo(t)}jn.has(s)||(t=Qe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),jn.set(s,t),i.querySelector(r)!==null||e==="style"&&i.querySelector(lu(s))||e==="script"&&i.querySelector(uu(s))||(e=i.createElement("link"),Mt(e,"link",t),xt(e),i.head.appendChild(e)))}}function pN(t,e){Zi.m(t,e);var n=lo;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+Dn(i)+'"][href="'+Dn(t)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=uo(t)}if(!jn.has(s)&&(t=Qe({rel:"modulepreload",href:t},e),jn.set(s,t),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(uu(s)))return}i=n.createElement("link"),Mt(i,"link",t),xt(i),n.head.appendChild(i)}}}function gN(t,e,n){Zi.S(t,e,n);var i=lo;if(i&&t){var r=ba(i).hoistableStyles,s=Ga(t);e=e||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(lu(s)))o.loading=5;else{t=Qe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=jn.get(s))&&Zg(t,n);var l=a=i.createElement("link");xt(l),Mt(l,"link",t),l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ec(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}}function yN(t,e){Zi.X(t,e);var n=lo;if(n&&t){var i=ba(n).hoistableScripts,r=uo(t),s=i.get(r);s||(s=n.querySelector(uu(r)),s||(t=Qe({src:t,async:!0},e),(e=jn.get(r))&&ey(t,e),s=n.createElement("script"),xt(s),Mt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function _N(t,e){Zi.M(t,e);var n=lo;if(n&&t){var i=ba(n).hoistableScripts,r=uo(t),s=i.get(r);s||(s=n.querySelector(uu(r)),s||(t=Qe({src:t,async:!0,type:"module"},e),(e=jn.get(r))&&ey(t,e),s=n.createElement("script"),xt(s),Mt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function P0(t,e,n,i){var r=(r=Ar.current)?lh(r):null;if(!r)throw Error(B(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ga(n.href),n=ba(r).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ga(n.href);var s=ba(r).hoistableStyles,a=s.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=r.querySelector(lu(t)))&&!s._p&&(a.instance=s,a.state.loading=5),jn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jn.set(t,n),s||vN(r,t,n,a.state))),e&&i===null)throw Error(B(528,""));return a}if(e&&i!==null)throw Error(B(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=uo(n),n=ba(r).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,t))}}function Ga(t){return'href="'+Dn(t)+'"'}function lu(t){return'link[rel="stylesheet"]['+t+"]"}function kS(t){return Qe({},t,{"data-precedence":t.precedence,precedence:null})}function vN(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Mt(e,"link",n),xt(e),t.head.appendChild(e))}function uo(t){return'[src="'+Dn(t)+'"]'}function uu(t){return"script[async]"+t}function z0(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+Dn(n.href)+'"]');if(i)return e.instance=i,xt(i),i;var r=Qe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),xt(i),Mt(i,"style",r),Ec(i,n.precedence,t),e.instance=i;case"stylesheet":r=Ga(n.href);var s=t.querySelector(lu(r));if(s)return e.state.loading|=4,e.instance=s,xt(s),s;i=kS(n),(r=jn.get(r))&&Zg(i,r),s=(t.ownerDocument||t).createElement("link"),xt(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Mt(s,"link",i),e.state.loading|=4,Ec(s,n.precedence,t),e.instance=s;case"script":return s=uo(n.src),(r=t.querySelector(uu(s)))?(e.instance=r,xt(r),r):(i=n,(r=jn.get(s))&&(i=Qe({},n),ey(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),xt(r),Mt(r,"link",i),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(B(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Ec(i,n.precedence,t));return e.instance}function Ec(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===e)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Zg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function ey(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Tc=null;function U0(t,e,n){if(Tc===null){var i=new Map,r=Tc=new Map;r.set(n,i)}else r=Tc,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var s=n[r];if(!(s[nu]||s[Rt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function j0(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function wN(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function RS(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function EN(t,e,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=Ga(i.href),s=e.querySelector(lu(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=uh.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,xt(s);return}s=e.ownerDocument||e,i=kS(i),(r=jn.get(r))&&Zg(i,r),s=s.createElement("link"),xt(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Mt(s,"link",i),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=uh.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var zd=0;function TN(t,e){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var i=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&zd===0&&(zd=62500*nN());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>zd?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function bc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,e.forEach(bN,t),ch=null,uh.call(t))}function bN(t,e){if(!(e.state.loading&4)){var n=ch.get(t);if(n)var i=n.get(null);else{n=new Map,ch.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=uh.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var Pl={$$typeof:Mi,Provider:null,Consumer:null,_currentValue:gs,_currentValue2:gs,_threadCount:0};function SN(t,e,n,i,r,s,a,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=od(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=od(0),this.hiddenUpdates=od(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function NS(t,e,n,i,r,s,a,o,l,c,h,f){return t=new SN(t,e,n,a,l,c,h,f,o),e=1,s===!0&&(e|=24),s=gn(3,null,null,e),t.current=s,s.stateNode=t,e=xg(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:e},kg(s),t}function DS(t){return t?(t=ya,t):ya}function OS(t,e,n,i,r,s){r=DS(r),i.context===null?i.context=r:i.pendingContext=r,i=Cr(e),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=Ir(t,i,e),n!==null&&(ln(n,t,e),ll(n,t,e))}function B0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ty(t,e){B0(t,e),(t=t.alternate)&&B0(t,e)}function MS(t){if(t.tag===13||t.tag===31){var e=Us(t,67108864);e!==null&&ln(e,t,67108864),ty(t,67108864)}}function F0(t){if(t.tag===13||t.tag===31){var e=Tn();e=fg(e);var n=Us(t,e);n!==null&&ln(n,t,e),ty(t,e)}}var hh=!0;function AN(t,e,n,i){var r=re.T;re.T=null;var s=xe.p;try{xe.p=2,ny(t,e,n,i)}finally{xe.p=s,re.T=r}}function xN(t,e,n,i){var r=re.T;re.T=null;var s=xe.p;try{xe.p=8,ny(t,e,n,i)}finally{xe.p=s,re.T=r}}function ny(t,e,n,i){if(hh){var r=mp(i);if(r===null)Ld(t,e,i,fh,n),q0(t,i);else if(IN(r,t,e,n,i))i.stopPropagation();else if(q0(t,i),e&4&&-1<CN.indexOf(t)){for(;r!==null;){var s=ro(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=us(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-En(a);o.entanglements[1]|=l,a&=~l}Ei(s),!(Ae&6)&&(th=vn()+500,ou(0))}}break;case 31:case 13:o=Us(s,2),o!==null&&ln(o,s,2),ef(),ty(s,2)}if(s=mp(i),s===null&&Ld(t,e,i,fh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Ld(t,e,i,null,n)}}function mp(t){return t=gg(t),iy(t)}var fh=null;function iy(t){if(fh=null,t=ha(t),t!==null){var e=Jl(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=eT(e),t!==null)return t;t=null}else if(n===31){if(t=tT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return fh=t,null}function VS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fk()){case sT:return 2;case aT:return 8;case Bc:case dk:return 32;case oT:return 268435456;default:return 32}default:return 32}}var pp=!1,Nr=null,Dr=null,Or=null,zl=new Map,Ul=new Map,pr=[],CN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q0(t,e){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(e.pointerId)}}function qo(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ro(e),e!==null&&MS(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function IN(t,e,n,i,r){switch(e){case"focusin":return Nr=qo(Nr,t,e,n,i,r),!0;case"dragenter":return Dr=qo(Dr,t,e,n,i,r),!0;case"mouseover":return Or=qo(Or,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return zl.set(s,qo(zl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Ul.set(s,qo(Ul.get(s)||null,t,e,n,i,r)),!0}return!1}function LS(t){var e=ha(t.target);if(e!==null){var n=Jl(e);if(n!==null){if(e=n.tag,e===13){if(e=eT(n),e!==null){t.blockedOn=e,Cv(t.priority,function(){F0(n)});return}}else if(e===31){if(e=tT(n),e!==null){t.blockedOn=e,Cv(t.priority,function(){F0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mp(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Om=i,n.target.dispatchEvent(i),Om=null}else return e=ro(n),e!==null&&MS(e),t.blockedOn=n,!1;e.shift()}return!0}function H0(t,e,n){Sc(t)&&n.delete(e)}function kN(){pp=!1,Nr!==null&&Sc(Nr)&&(Nr=null),Dr!==null&&Sc(Dr)&&(Dr=null),Or!==null&&Sc(Or)&&(Or=null),zl.forEach(H0),Ul.forEach(H0)}function Xu(t,e){t.blockedOn===e&&(t.blockedOn=null,pp||(pp=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,kN)))}var Wu=null;function G0(t){Wu!==t&&(Wu=t,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if(typeof i!="function"){if(iy(i||n)===null)continue;break}var s=ro(n);s!==null&&(t.splice(e,3),e-=3,Km(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function $a(t){function e(l){return Xu(l,t)}Nr!==null&&Xu(Nr,t),Dr!==null&&Xu(Dr,t),Or!==null&&Xu(Or,t),zl.forEach(e),Ul.forEach(e);for(var n=0;n<pr.length;n++){var i=pr[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)LS(n),n.blockedOn===null&&pr.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[un]||null;if(typeof s=="function")a||G0(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[un]||null)o=a.formAction;else if(iy(r)!==null)continue}else o=a.action;typeof o=="function"?n[i+1]=o:(n.splice(i,3),i-=3),G0(n)}}}function PS(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function ry(t){this._internalRoot=t}rf.prototype.render=ry.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));var n=e.current,i=Tn();OS(n,i,t,e,null,null)};rf.prototype.unmount=ry.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;OS(t.current,2,null,t,null,null),ef(),e[io]=null}};function rf(t){this._internalRoot=t}rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=fT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pr.length&&e!==0&&e<pr[n].priority;n++);pr.splice(n,0,t),n===0&&LS(t)}};var $0=JE.version;if($0!=="19.2.1")throw Error(B(527,$0,"19.2.1"));xe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=sk(e),t=t!==null?nT(t):null,t=t===null?null:t.stateNode,t};var RN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Zl=Ju.inject(RN),wn=Ju}catch{}}jh.createRoot=function(t,e){if(!ZE(t))throw Error(B(299));var n=!1,i="",r=Ib,s=kb,a=Rb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=NS(t,1,!1,null,null,n,i,null,r,s,a,PS),t[io]=e.current,Jg(t),new ry(e)};jh.hydrateRoot=function(t,e,n){if(!ZE(t))throw Error(B(299));var i=!1,r="",s=Ib,a=kb,o=Rb,l=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=NS(t,1,!0,e,n??null,i,r,l,s,a,o,PS),e.context=DS(null),n=e.current,i=Tn(),i=fg(i),r=Cr(i),r.callback=null,Ir(n,r,i),n=i,e.current.lanes=n,tu(e,n),Ei(e),t[io]=e.current,Jg(t),new rf(e)};jh.version="19.2.1";function zS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zS)}catch(t){console.error(t)}}zS(),$E.exports=jh;var NN=$E.exports;const DN=zh(NN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MN=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),Q0=t=>{const e=MN(t);return e.charAt(0).toUpperCase()+e.slice(1)},US=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),VN=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>q.createElement("svg",{ref:l,...LN,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:US("lucide",r),...!s&&!VN(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,h])=>q.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=q.forwardRef(({className:i,...r},s)=>q.createElement(PN,{ref:s,iconNode:e,className:US(`lucide-${ON(Q0(t))}`,`lucide-${t}`,i),...r}));return n.displayName=Q0(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jS=je("check",zN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jN=je("circle-check-big",UN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],FN=je("clock",BN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]],HN=je("cloud-fog",qN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],$N=je("cloud-lightning",GN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],YN=je("cloud-rain",QN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],XN=je("cloud-snow",KN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],BS=je("cloud-sun",WN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],ZN=je("cloud",JN);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],tD=je("grip-horizontal",eD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],FS=je("heart",nD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],sy=je("list-todo",iD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qS=je("map-pin",rD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],aD=je("maximize-2",sD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],lD=je("minimize-2",oD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],cD=je("pin",uD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],HS=je("plus",hD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dD=je("refresh-cw",fD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],GS=je("search",mD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$S=je("settings",pD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],QS=je("sticky-note",gD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_D=je("sun",yD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ay=je("trash-2",vD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ED=je("triangle-alert",wD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dh=je("user",TD);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sf=je("x",bD),SD=()=>{};var Y0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},AD=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],a=t[n++],o=t[n++],l=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],a=r+1<t.length,o=a?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|c>>6,p=c&63;l||(p=64,a||(d=64)),i.push(n[h],n[f],n[d],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):AD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||o==null||c==null||f==null)throw new xD;const d=s<<2|o>>4;if(i.push(d),c!==64){const p=o<<4&240|c>>2;if(i.push(p),f!==64){const w=c<<6&192|f;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CD=function(t){const e=YS(t);return KS.encodeByteArray(e,!0)},mh=function(t){return CD(t).replace(/\./g,"")},XS=function(t){try{return KS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=()=>ID().__FIREBASE_DEFAULTS__,RD=()=>{if(typeof process>"u"||typeof Y0>"u")return;const t=Y0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ND=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XS(t[1]);return e&&JSON.parse(e)},af=()=>{try{return SD()||kD()||RD()||ND()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=af())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},DD=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},JS=()=>{var t;return(t=af())==null?void 0:t.config},ZS=t=>{var e;return(e=af())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eA(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[mh(JSON.stringify(n)),mh(JSON.stringify(a)),""].join(".")}const yl={};function VD(){const t={prod:[],emulator:[]};for(const e of Object.keys(yl))yl[e]?t.emulator.push(e):t.prod.push(e);return t}function LD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let K0=!1;function tA(t,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||yl[t]===e||yl[t]||K0)return;yl[t]=e;function n(d){return`__firebase__banner__${d}`}const i="__firebase__banner",s=VD().prod.length>0;function a(){const d=document.getElementById(i);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{K0=!0,a()},d}function h(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=LD(i),p=n("text"),w=document.getElementById(p)||document.createElement("span"),I=n("learnmore"),D=document.getElementById(I)||document.createElement("a"),v=n("preprendIcon"),E=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const T=d.element;o(T),h(D,I);const M=c();l(E,v),T.append(E,w,D,M),document.body.appendChild(T)}s?(w.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function zD(){var e;const t=(e=af())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function jD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BD(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FD(){return!zD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}function qD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD="FirebaseError";class Zn extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=HD,Object.setPrototypeOf(this,Zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bs.prototype.create)}}class Bs{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?GD(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new Zn(r,o,i)}}function GD(t,e){return t.replace($D,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const $D=/\{\$([^}]+)}/g;function QD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ks(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],a=e[r];if(X0(s)&&X0(a)){if(!ks(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function X0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function YD(t,e){const n=new KD(t,e);return n.subscribe.bind(n)}class KD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");XD(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ud),r.error===void 0&&(r.error=Ud),r.complete===void 0&&(r.complete=Ud);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=1e3,JD=2,ZD=4*60*60*1e3,e4=.5;function W0(t,e=WD,n=JD){const i=e*Math.pow(n,t),r=Math.round(e4*i*(Math.random()-.5)*2);return Math.min(ZD,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new OD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i4(e))try{this.getOrInitializeService({instanceIdentifier:fs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fs){return this.instances.has(e)}getOptions(e=fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:n4(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fs){return this.component?this.component.multipleInstances?e:fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n4(t){return t===fs?void 0:t}function i4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new t4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const s4={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},a4=_e.INFO,o4={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},l4=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=o4[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=a4,this._logHandler=l4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const u4=(t,e)=>e.some(n=>t instanceof n);let J0,Z0;function c4(){return J0||(J0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function h4(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,gp=new WeakMap,aA=new WeakMap,jd=new WeakMap,oy=new WeakMap;function f4(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Mr(t.result)),r()},a=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&sA.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function d4(t){if(gp.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});gp.set(t,e)}let yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m4(t){yp=t(yp)}function p4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Bd(this),e,...n);return aA.set(i,e.sort?e.sort():[e]),Mr(i)}:h4().includes(t)?function(...e){return t.apply(Bd(this),e),Mr(sA.get(this))}:function(...e){return Mr(t.apply(Bd(this),e))}}function g4(t){return typeof t=="function"?p4(t):(t instanceof IDBTransaction&&d4(t),u4(t,c4())?new Proxy(t,yp):t)}function Mr(t){if(t instanceof IDBRequest)return f4(t);if(jd.has(t))return jd.get(t);const e=g4(t);return e!==t&&(jd.set(t,e),oy.set(e,t)),e}const Bd=t=>oy.get(t);function oA(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(t,e),o=Mr(a);return i&&a.addEventListener("upgradeneeded",l=>{i(Mr(a.result),l.oldVersion,l.newVersion,Mr(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const y4=["get","getKey","getAll","getAllKeys","count"],_4=["put","add","delete","clear"],Fd=new Map;function e1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=_4.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||y4.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),r&&l.done]))[0]};return Fd.set(e,s),s}m4(t=>({...t,get:(e,n,i)=>e1(e,n)||t.get(e,n,i),has:(e,n)=>!!e1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w4(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function w4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _p="@firebase/app",t1="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new of("@firebase/app"),E4="@firebase/app-compat",T4="@firebase/analytics-compat",b4="@firebase/analytics",S4="@firebase/app-check-compat",A4="@firebase/app-check",x4="@firebase/auth",C4="@firebase/auth-compat",I4="@firebase/database",k4="@firebase/data-connect",R4="@firebase/database-compat",N4="@firebase/functions",D4="@firebase/functions-compat",O4="@firebase/installations",M4="@firebase/installations-compat",V4="@firebase/messaging",L4="@firebase/messaging-compat",P4="@firebase/performance",z4="@firebase/performance-compat",U4="@firebase/remote-config",j4="@firebase/remote-config-compat",B4="@firebase/storage",F4="@firebase/storage-compat",q4="@firebase/firestore",H4="@firebase/ai",G4="@firebase/firestore-compat",$4="firebase",Q4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="[DEFAULT]",Y4={[_p]:"fire-core",[E4]:"fire-core-compat",[b4]:"fire-analytics",[T4]:"fire-analytics-compat",[A4]:"fire-app-check",[S4]:"fire-app-check-compat",[x4]:"fire-auth",[C4]:"fire-auth-compat",[I4]:"fire-rtdb",[k4]:"fire-data-connect",[R4]:"fire-rtdb-compat",[N4]:"fire-fn",[D4]:"fire-fn-compat",[O4]:"fire-iid",[M4]:"fire-iid-compat",[V4]:"fire-fcm",[L4]:"fire-fcm-compat",[P4]:"fire-perf",[z4]:"fire-perf-compat",[U4]:"fire-rc",[j4]:"fire-rc-compat",[B4]:"fire-gcs",[F4]:"fire-gcs-compat",[q4]:"fire-fst",[G4]:"fire-fst-compat",[H4]:"fire-vertex","fire-js":"fire-js",[$4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,K4=new Map,wp=new Map;function n1(t,e){try{t.container.addComponent(e)}catch(n){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yi(t){const e=t.name;if(wp.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,t);for(const n of ph.values())n1(n,t);for(const n of K4.values())n1(n,t);return!0}function hu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ai(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new Bs("app","Firebase",X4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=Q4;function lA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:vp,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Vr.create("bad-app-name",{appName:String(r)});if(n||(n=JS()),!n)throw Vr.create("no-options");const s=ph.get(r);if(s){if(ks(n,s.options)&&ks(i,s.config))return s;throw Vr.create("duplicate-app",{appName:r})}const a=new r4(r);for(const l of wp.values())a.addComponent(l);const o=new W4(n,i,a);return ph.set(r,o),o}function uA(t=vp){const e=ph.get(t);if(!e&&t===vp&&JS())return lA();if(!e)throw Vr.create("no-app",{appName:t});return e}function zn(t,e,n){let i=Y4[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(a.join(" "));return}yi(new Xn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="firebase-heartbeat-database",Z4=1,jl="firebase-heartbeat-store";let qd=null;function cA(){return qd||(qd=oA(J4,Z4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vr.create("idb-open",{originalErrorMessage:t.message})})),qd}async function eO(t){try{const n=(await cA()).transaction(jl),i=await n.objectStore(jl).get(hA(t));return await n.done,i}catch(e){if(e instanceof Zn)Yi.warn(e.message);else{const n=Vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Yi.warn(n.message)}}}async function i1(t,e){try{const i=(await cA()).transaction(jl,"readwrite");await i.objectStore(jl).put(e,hA(t)),await i.done}catch(n){if(n instanceof Zn)Yi.warn(n.message);else{const i=Vr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yi.warn(i.message)}}}function hA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=1024,nO=30;class iO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=r1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>nO){const a=aO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Yi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=r1(),{heartbeatsToSend:i,unsentEntries:r}=rO(this._heartbeatsCache.heartbeats),s=mh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yi.warn(n),""}}}function r1(){return new Date().toISOString().substring(0,10)}function rO(t,e=tO){const n=[];let i=t.slice();for(const r of t){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),s1(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),s1(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return i1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function s1(t){return mh(JSON.stringify({version:2,heartbeats:t})).length}function aO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){yi(new Xn("platform-logger",e=>new v4(e),"PRIVATE")),yi(new Xn("heartbeat",e=>new iO(e),"PRIVATE")),zn(_p,t1,t),zn(_p,t1,"esm2020"),zn("fire-js","")}oO("");function fA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lO=fA,dA=new Bs("auth","Firebase",fA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new of("@firebase/auth");function uO(t,...e){gh.logLevel<=_e.WARN&&gh.warn(`Auth (${ho}): ${t}`,...e)}function Ac(t,...e){gh.logLevel<=_e.ERROR&&gh.error(`Auth (${ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,...e){throw ly(t,...e)}function hi(t,...e){return ly(t,...e)}function mA(t,e,n){const i={...lO(),[e]:n};return new Bs("auth","Firebase",i).create(e,{appName:t.name})}function Es(t){return mA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ly(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return dA.create(t,...e)}function ae(t,e,...n){if(!t)throw ly(e,...n)}function Pi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ac(e),new Error(e)}function Xi(t,e){t||Pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function cO(){return a1()==="http:"||a1()==="https:"}function a1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cO()||nA()||"connection"in navigator)?navigator.onLine:!0}function fO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=PD()||jD()}get(){return hO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){Xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pO=new fu(3e4,6e4);function cy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fo(t,e,n,i,r={}){return gA(t,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=cu({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return UD()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&co(t.emulatorConfig.host)&&(c.credentials="include"),pA.fetch()(await yA(t,t.config.apiHost,n,o),c)})}async function gA(t,e,n){t._canInitEmulator=!1;const i={...dO,...e};try{const r=new yO(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Zu(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Zu(t,"user-disabled",a);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw mA(t,h,c);Ki(t,h)}}catch(r){if(r instanceof Zn)throw r;Ki(t,"network-request-failed",{message:String(r)})}}async function gO(t,e,n,i,r={}){const s=await fo(t,e,n,i,r);return"mfaPendingCredential"in s&&Ki(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function yA(t,e,n,i){const r=`${e}${n}?${i}`,s=t,a=s.config.emulator?uy(t.config,r):`${t.config.apiScheme}://${r}`;return mO.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class yO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(hi(this.auth,"network-request-failed")),pO.get())})}}function Zu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=hi(t,e,i);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return fo(t,"POST","/v1/accounts:delete",e)}async function yh(t,e){return fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vO(t,e=!1){const n=pt(t),i=await n.getIdToken(e),r=hy(i);ae(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:_l(Hd(r.auth_time)),issuedAtTime:_l(Hd(r.iat)),expirationTime:_l(Hd(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hd(t){return Number(t)*1e3}function hy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const r=XS(n);return r?JSON.parse(r):(Ac("Failed to decode base64 JWT payload"),null)}catch(r){return Ac("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function o1(t){const e=hy(t);return ae(e,"internal-error"),ae(typeof e.exp<"u","internal-error"),ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Zn&&wO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function wO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(t){var f;const e=t.auth,n=await t.getIdToken(),i=await Bl(t,yh(e,{idToken:n}));ae(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const s=(f=r.providerUserInfo)!=null&&f.length?_A(r.providerUserInfo):[],a=bO(t.providerData,s),o=t.isAnonymous,l=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Tp(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function TO(t){const e=pt(t);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bO(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function _A(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){const n=await gA(t,{},async()=>{const i=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,a=await yA(t,r,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:i};return t.emulatorConfig&&co(t.emulatorConfig.host)&&(l.credentials="include"),pA.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AO(t,e){return fo(t,"POST","/v2/accounts:revokeToken",cy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ae(e.idToken,"internal-error"),ae(typeof e.idToken<"u","internal-error"),ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):o1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ae(e.length!==0,"internal-error");const n=o1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await SO(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Ra;return i&&(ae(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(ae(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(ae(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ra,this.toJSON())}_performRefresh(){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Qn{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new EO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Tp(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return vO(this,e)}reload(){return TO(this)}_assign(e){this!==e&&(ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Bl(this,_O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:w,stsTokenManager:I}=n;ae(f&&I,e,"internal-error");const D=Ra.fromJSON(this.name,I);ae(typeof f=="string",e,"internal-error"),lr(i,e.name),lr(r,e.name),ae(typeof d=="boolean",e,"internal-error"),ae(typeof p=="boolean",e,"internal-error"),lr(s,e.name),lr(a,e.name),lr(o,e.name),lr(l,e.name),lr(c,e.name),lr(h,e.name);const v=new Qn({uid:f,auth:e,email:r,emailVerified:d,displayName:i,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:D,createdAt:c,lastLoginAt:h});return w&&Array.isArray(w)&&(v.providerData=w.map(E=>({...E}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,n,i=!1){const r=new Ra;r.updateFromServerResponse(n);const s=new Qn({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await _h(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ae(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?_A(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new Ra;o.updateFromIdToken(i);const l=new Qn({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Tp(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;function zi(t){Xi(t instanceof Function,"Expected a class definition");let e=l1.get(t);return e?(Xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vA.type="NONE";const u1=vA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e,n){return`firebase:${t}:${e}:${n}`}class Na{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=xc(this.userKey,r.apiKey,s),this.fullPersistenceKey=xc("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Na(zi(u1),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||zi(u1);const a=xc(i,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let f;if(typeof h=="string"){const d=await yh(e,{idToken:h}).catch(()=>{});if(!d)break;f=await Qn._fromGetAccountInfoResponse(e,d,h)}else f=Qn._fromJSON(e,h);c!==s&&(o=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Na(s,e,i):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Na(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AA(e))return"Blackberry";if(xA(e))return"Webos";if(EA(e))return"Safari";if((e.includes("chrome/")||TA(e))&&!e.includes("edge/"))return"Chrome";if(SA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function wA(t=Bt()){return/firefox\//i.test(t)}function EA(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TA(t=Bt()){return/crios\//i.test(t)}function bA(t=Bt()){return/iemobile/i.test(t)}function SA(t=Bt()){return/android/i.test(t)}function AA(t=Bt()){return/blackberry/i.test(t)}function xA(t=Bt()){return/webos/i.test(t)}function fy(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xO(t=Bt()){var e;return fy(t)&&!!((e=window.navigator)!=null&&e.standalone)}function CO(){return BD()&&document.documentMode===10}function CA(t=Bt()){return fy(t)||SA(t)||xA(t)||AA(t)||/windows phone/i.test(t)||bA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e=[]){let n;switch(t){case"Browser":n=c1(Bt());break;case"Worker":n=`${c1(Bt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ho}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(t,e={}){return fo(t,"GET","/v2/passwordPolicy",cy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=6;class NO{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h1(this),this.idTokenSubscription=new h1(this),this.beforeStateQueue=new IO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Na.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),i=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ai(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(Es(this));const n=e?pt(e):null;return n&&ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kO(this),n=new NO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bs("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await AO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;ae(n,this,"argument-error"),this.redirectPersistenceManager=await Na.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ae(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&uO(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function lf(t){return pt(t)}class h1{constructor(e){this.auth=e,this.observer=null,this.addObserver=YD(n=>this.observer=n)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OO(t){dy=t}function MO(t){return dy.loadJS(t)}function VO(){return dy.gapiScript}function LO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e){const n=hu(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ks(s,e??{}))return r;Ki(r,"already-initialized")}return n.initialize({options:e})}function zO(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function UO(t,e,n){const i=lf(t);ae(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=kA(e),{host:a,port:o}=jO(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){ae(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ae(ks(c,i.config.emulator)&&ks(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,co(a)?(eA(`${s}//${a}${l}`),tA("Auth",!0)):BO()}function kA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jO(t){const e=kA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:f1(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:f1(a)}}}function f1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pi("not implemented")}_getIdTokenResponse(e){return Pi("not implemented")}_linkToIdToken(e,n){return Pi("not implemented")}_getReauthenticationResolver(e){return Pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(t,e){return gO(t,"POST","/v1/accounts:signInWithIdp",cy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO="http://localhost";class Rs extends RA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new Rs(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Da(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Da(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Da(e,n)}buildRequest(){const e={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends NA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends du{constructor(){super("facebook.com")}static credential(e){return Rs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends du{constructor(){super("github.com")}static credential(e){return Rs._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends du{constructor(){super("twitter.com")}static credential(e,n){return Rs._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return _r.credential(n,i)}catch{return null}}}_r.TWITTER_SIGN_IN_METHOD="twitter.com";_r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await Qn._fromIdTokenResponse(e,i,r),a=d1(i);return new Qa({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=d1(i);return new Qa({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function d1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Zn{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new vh(e,n,i,r)}}function DA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(t,s,e,i):s})}async function qO(t,e,n=!1){const i=await Bl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e,n=!1){const{auth:i}=t;if(ai(i.app))return Promise.reject(Es(i));const r="reauthenticate";try{const s=await Bl(t,DA(i,r,e,t),n);ae(s.idToken,i,"internal-error");const a=hy(s.idToken);ae(a,i,"internal-error");const{sub:o}=a;return ae(t.uid===o,i,"user-mismatch"),Qa._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ki(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,e,n=!1){if(ai(t.app))return Promise.reject(Es(t));const i="signIn",r=await DA(t,i,e),s=await Qa._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function GO(t,e){return OA(lf(t),e)}function $O(t,e,n,i){return pt(t).onIdTokenChanged(e,n,i)}function QO(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function YO(t,e,n,i){return pt(t).onAuthStateChanged(e,n,i)}function KO(t){return pt(t).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO=1e3,WO=10;class VA extends MA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);CO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,WO):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VA.type="LOCAL";const JO=VA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends MA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LA.type="SESSION";const PA=LA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new uf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await ZO(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=my("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function tM(t){fi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function nM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function rM(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA="firebaseLocalStorageDb",sM=1,Eh="firebaseLocalStorage",jA="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function aM(){const t=indexedDB.deleteDatabase(UA);return new mu(t).toPromise()}function bp(){const t=indexedDB.open(UA,sM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Eh,{keyPath:jA})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Eh)?e(i):(i.close(),await aM(),e(await bp()))})})}async function m1(t,e,n){const i=cf(t,!0).put({[jA]:e,value:n});return new mu(i).toPromise()}async function oM(t,e){const n=cf(t,!1).get(e),i=await new mu(n).toPromise();return i===void 0?null:i.value}function p1(t,e){const n=cf(t,!0).delete(e);return new mu(n).toPromise()}const lM=800,uM=3;class BA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>uM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(rM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await nM(),!this.activeServiceWorker)return;this.sender=new eM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||iM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await m1(e,wh,"1"),await p1(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>m1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>oM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=cf(r,!1).getAll();return new mu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BA.type="LOCAL";const cM=BA;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t,e){return e?zi(e):(ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends RA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Da(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Da(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Da(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function fM(t){return OA(t.auth,new py(t),t.bypassAuthState)}function dM(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),HO(n,new py(t),t.bypassAuthState)}async function mM(t){const{auth:e,user:n}=t;return ae(n,e,"internal-error"),qO(n,new py(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fM;case"linkViaPopup":case"linkViaRedirect":return mM;case"reauthViaPopup":case"reauthViaRedirect":return dM;default:Ki(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new fu(2e3,1e4);class Ea extends FA{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Ea.currentPopupAction&&Ea.currentPopupAction.cancel(),Ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ae(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pM.get())};e()}}Ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="pendingRedirect",Cc=new Map;class yM extends FA{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const i=await _M(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _M(t,e){const n=EM(e),i=wM(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function vM(t,e){Cc.set(t._key(),e)}function wM(t){return zi(t._redirectPersistence)}function EM(t){return xc(gM,t.config.apiKey,t.name)}async function TM(t,e,n=!1){if(ai(t.app))return Promise.reject(Es(t));const i=lf(t),r=hM(i,e),a=await new yM(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM=10*60*1e3;class SM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!AM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!qA(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(hi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bM&&this.cachedEventUids.clear(),this.cachedEventUids.has(g1(e))}saveEventToCache(e){this.cachedEventUids.add(g1(e)),this.lastProcessedEventTime=Date.now()}}function g1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function AM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xM(t,e={}){return fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IM=/^https?/;async function kM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xM(t);for(const n of e)try{if(RM(n))return}catch{}Ki(t,"unauthorized-domain")}function RM(t){const e=Ep(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!IM.test(n))return!1;if(CM.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new fu(3e4,6e4);function y1(){const t=fi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function DM(t){return new Promise((e,n)=>{var r,s,a;function i(){y1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{y1(),n(hi(t,"network-request-failed"))},timeout:NM.get()})}if((s=(r=fi().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=fi().gapi)!=null&&a.load)i();else{const o=LO("iframefcb");return fi()[o]=()=>{gapi.load?i():n(hi(t,"network-request-failed"))},MO(`${VO()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw Ic=null,e})}let Ic=null;function OM(t){return Ic=Ic||DM(t),Ic}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new fu(5e3,15e3),VM="__/auth/iframe",LM="emulator/auth/iframe",PM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UM(t){const e=t.config;ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uy(e,LM):`https://${t.config.authDomain}/${VM}`,i={apiKey:e.apiKey,appName:t.name,v:ho},r=zM.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${cu(i).slice(1)}`}async function jM(t){const e=await OM(t),n=fi().gapi;return ae(n,t,"internal-error"),e.open({where:document.body,url:UM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PM,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=hi(t,"network-request-failed"),o=fi().setTimeout(()=>{s(a)},MM.get());function l(){fi().clearTimeout(o),r(i)}i.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FM=500,qM=600,HM="_blank",GM="http://localhost";class _1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $M(t,e,n,i=FM,r=qM){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l={...BM,width:i.toString(),height:r.toString(),top:s,left:a},c=Bt().toLowerCase();n&&(o=TA(c)?HM:n),wA(c)&&(e=e||GM,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[p,w])=>`${d}${p}=${w},`,"");if(xO(c)&&o!=="_self")return QM(e||"",o),new _1(null);const f=window.open(e||"",o,h);ae(f,t,"popup-blocked");try{f.focus()}catch{}return new _1(f)}function QM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YM="__/auth/handler",KM="emulator/auth/handler",XM=encodeURIComponent("fac");async function v1(t,e,n,i,r,s){ae(t.config.authDomain,t,"auth-domain-config-required"),ae(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ho,eventId:r};if(e instanceof NA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",QD(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof du){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),c=l?`#${XM}=${encodeURIComponent(l)}`:"";return`${WM(t)}?${cu(o).slice(1)}${c}`}function WM({config:t}){return t.emulator?uy(t,KM):`https://${t.authDomain}/${YM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class JM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PA,this._completeRedirectFn=TM,this._overrideRedirectResult=vM}async _openPopup(e,n,i,r){var a;Xi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await v1(e,n,i,Ep(),r);return $M(e,s,my())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await v1(e,n,i,Ep(),r);return tM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Xi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await jM(e),i=new SM(e);return n.register("authEvent",r=>(ae(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gd,{type:Gd},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[Gd];s!==void 0&&n(!!s),Ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CA()||EA()||fy()}}const ZM=JM;var w1="@firebase/auth",E1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function n3(t){yi(new Xn("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;ae(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IA(t)},c=new DO(i,r,s,l);return zO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),yi(new Xn("auth-internal",e=>{const n=lf(e.getProvider("auth").getImmediate());return(i=>new e3(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(w1,E1,t3(t)),zn(w1,E1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=5*60,r3=ZS("authIdTokenMaxAge")||i3;let T1=null;const s3=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>r3)return;const r=n==null?void 0:n.token;T1!==r&&(T1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function a3(t=uA()){const e=hu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PO(t,{popupRedirectResolver:ZM,persistence:[cM,JO,PA]}),i=ZS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=s3(s.toString());QO(n,a,()=>a(n.currentUser)),$O(n,o=>a(o))}}const r=WS("auth");return r&&UO(n,`http://${r}`),n}function o3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}OO({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=hi("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",o3().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});n3("Browser");var l3="firebase",u3="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(l3,u3,"app");var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lr,HA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function _(){}_.prototype=A.prototype,x.F=A.prototype,x.prototype=new _,x.prototype.constructor=x,x.D=function(y,b,k){for(var C=Array(arguments.length-2),W=2;W<arguments.length;W++)C[W-2]=arguments[W];return A.prototype[b].apply(y,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,A,_){_||(_=0);const y=Array(16);if(typeof A=="string")for(var b=0;b<16;++b)y[b]=A.charCodeAt(_++)|A.charCodeAt(_++)<<8|A.charCodeAt(_++)<<16|A.charCodeAt(_++)<<24;else for(b=0;b<16;++b)y[b]=A[_++]|A[_++]<<8|A[_++]<<16|A[_++]<<24;A=x.g[0],_=x.g[1],b=x.g[2];let k=x.g[3],C;C=A+(k^_&(b^k))+y[0]+3614090360&4294967295,A=_+(C<<7&4294967295|C>>>25),C=k+(b^A&(_^b))+y[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(_^k&(A^_))+y[2]+606105819&4294967295,b=k+(C<<17&4294967295|C>>>15),C=_+(A^b&(k^A))+y[3]+3250441966&4294967295,_=b+(C<<22&4294967295|C>>>10),C=A+(k^_&(b^k))+y[4]+4118548399&4294967295,A=_+(C<<7&4294967295|C>>>25),C=k+(b^A&(_^b))+y[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(_^k&(A^_))+y[6]+2821735955&4294967295,b=k+(C<<17&4294967295|C>>>15),C=_+(A^b&(k^A))+y[7]+4249261313&4294967295,_=b+(C<<22&4294967295|C>>>10),C=A+(k^_&(b^k))+y[8]+1770035416&4294967295,A=_+(C<<7&4294967295|C>>>25),C=k+(b^A&(_^b))+y[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(_^k&(A^_))+y[10]+4294925233&4294967295,b=k+(C<<17&4294967295|C>>>15),C=_+(A^b&(k^A))+y[11]+2304563134&4294967295,_=b+(C<<22&4294967295|C>>>10),C=A+(k^_&(b^k))+y[12]+1804603682&4294967295,A=_+(C<<7&4294967295|C>>>25),C=k+(b^A&(_^b))+y[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=b+(_^k&(A^_))+y[14]+2792965006&4294967295,b=k+(C<<17&4294967295|C>>>15),C=_+(A^b&(k^A))+y[15]+1236535329&4294967295,_=b+(C<<22&4294967295|C>>>10),C=A+(b^k&(_^b))+y[1]+4129170786&4294967295,A=_+(C<<5&4294967295|C>>>27),C=k+(_^b&(A^_))+y[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^_&(k^A))+y[11]+643717713&4294967295,b=k+(C<<14&4294967295|C>>>18),C=_+(k^A&(b^k))+y[0]+3921069994&4294967295,_=b+(C<<20&4294967295|C>>>12),C=A+(b^k&(_^b))+y[5]+3593408605&4294967295,A=_+(C<<5&4294967295|C>>>27),C=k+(_^b&(A^_))+y[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^_&(k^A))+y[15]+3634488961&4294967295,b=k+(C<<14&4294967295|C>>>18),C=_+(k^A&(b^k))+y[4]+3889429448&4294967295,_=b+(C<<20&4294967295|C>>>12),C=A+(b^k&(_^b))+y[9]+568446438&4294967295,A=_+(C<<5&4294967295|C>>>27),C=k+(_^b&(A^_))+y[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^_&(k^A))+y[3]+4107603335&4294967295,b=k+(C<<14&4294967295|C>>>18),C=_+(k^A&(b^k))+y[8]+1163531501&4294967295,_=b+(C<<20&4294967295|C>>>12),C=A+(b^k&(_^b))+y[13]+2850285829&4294967295,A=_+(C<<5&4294967295|C>>>27),C=k+(_^b&(A^_))+y[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=b+(A^_&(k^A))+y[7]+1735328473&4294967295,b=k+(C<<14&4294967295|C>>>18),C=_+(k^A&(b^k))+y[12]+2368359562&4294967295,_=b+(C<<20&4294967295|C>>>12),C=A+(_^b^k)+y[5]+4294588738&4294967295,A=_+(C<<4&4294967295|C>>>28),C=k+(A^_^b)+y[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^_)+y[11]+1839030562&4294967295,b=k+(C<<16&4294967295|C>>>16),C=_+(b^k^A)+y[14]+4259657740&4294967295,_=b+(C<<23&4294967295|C>>>9),C=A+(_^b^k)+y[1]+2763975236&4294967295,A=_+(C<<4&4294967295|C>>>28),C=k+(A^_^b)+y[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^_)+y[7]+4139469664&4294967295,b=k+(C<<16&4294967295|C>>>16),C=_+(b^k^A)+y[10]+3200236656&4294967295,_=b+(C<<23&4294967295|C>>>9),C=A+(_^b^k)+y[13]+681279174&4294967295,A=_+(C<<4&4294967295|C>>>28),C=k+(A^_^b)+y[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^_)+y[3]+3572445317&4294967295,b=k+(C<<16&4294967295|C>>>16),C=_+(b^k^A)+y[6]+76029189&4294967295,_=b+(C<<23&4294967295|C>>>9),C=A+(_^b^k)+y[9]+3654602809&4294967295,A=_+(C<<4&4294967295|C>>>28),C=k+(A^_^b)+y[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=b+(k^A^_)+y[15]+530742520&4294967295,b=k+(C<<16&4294967295|C>>>16),C=_+(b^k^A)+y[2]+3299628645&4294967295,_=b+(C<<23&4294967295|C>>>9),C=A+(b^(_|~k))+y[0]+4096336452&4294967295,A=_+(C<<6&4294967295|C>>>26),C=k+(_^(A|~b))+y[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~_))+y[14]+2878612391&4294967295,b=k+(C<<15&4294967295|C>>>17),C=_+(k^(b|~A))+y[5]+4237533241&4294967295,_=b+(C<<21&4294967295|C>>>11),C=A+(b^(_|~k))+y[12]+1700485571&4294967295,A=_+(C<<6&4294967295|C>>>26),C=k+(_^(A|~b))+y[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~_))+y[10]+4293915773&4294967295,b=k+(C<<15&4294967295|C>>>17),C=_+(k^(b|~A))+y[1]+2240044497&4294967295,_=b+(C<<21&4294967295|C>>>11),C=A+(b^(_|~k))+y[8]+1873313359&4294967295,A=_+(C<<6&4294967295|C>>>26),C=k+(_^(A|~b))+y[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~_))+y[6]+2734768916&4294967295,b=k+(C<<15&4294967295|C>>>17),C=_+(k^(b|~A))+y[13]+1309151649&4294967295,_=b+(C<<21&4294967295|C>>>11),C=A+(b^(_|~k))+y[4]+4149444226&4294967295,A=_+(C<<6&4294967295|C>>>26),C=k+(_^(A|~b))+y[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=b+(A^(k|~_))+y[2]+718787259&4294967295,b=k+(C<<15&4294967295|C>>>17),C=_+(k^(b|~A))+y[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(b+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+b&4294967295,x.g[3]=x.g[3]+k&4294967295}i.prototype.v=function(x,A){A===void 0&&(A=x.length);const _=A-this.blockSize,y=this.C;let b=this.h,k=0;for(;k<A;){if(b==0)for(;k<=_;)r(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(y[b++]=x.charCodeAt(k++),b==this.blockSize){r(this,y),b=0;break}}else for(;k<A;)if(y[b++]=x[k++],b==this.blockSize){r(this,y),b=0;break}}this.h=b,this.o+=A},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var _=x.length-8;_<x.length;++_)x[_]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,_=0;_<4;++_)for(let y=0;y<32;y+=8)x[A++]=this.g[_]>>>y&255;return x};function s(x,A){var _=o;return Object.prototype.hasOwnProperty.call(_,x)?_[x]:_[x]=A(x)}function a(x,A){this.h=A;const _=[];let y=!0;for(let b=x.length-1;b>=0;b--){const k=x[b]|0;y&&k==A||(_[b]=k,y=!1)}this.g=_}var o={};function l(x){return-128<=x&&x<128?s(x,function(A){return new a([A|0],A<0?-1:0)}):new a([x|0],x<0?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return f;if(x<0)return D(c(-x));const A=[];let _=1;for(let y=0;x>=_;y++)A[y]=x/_|0,_*=4294967296;return new a(A,0)}function h(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return D(h(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const _=c(Math.pow(A,8));let y=f;for(let k=0;k<x.length;k+=8){var b=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+b),A);b<8?(b=c(Math.pow(A,b)),y=y.j(b).add(c(C))):(y=y.j(_),y=y.add(c(C)))}return y}var f=l(0),d=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(I(this))return-D(this).m();let x=0,A=1;for(let _=0;_<this.g.length;_++){const y=this.i(_);x+=(y>=0?y:4294967296+y)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(w(this))return"0";if(I(this))return"-"+D(this).toString(x);const A=c(Math.pow(x,6));var _=this;let y="";for(;;){const b=M(_,A).g;_=v(_,b.j(A));let k=((_.g.length>0?_.g[0]:_.h)>>>0).toString(x);if(_=b,w(_))return k+y;for(;k.length<6;)k="0"+k;y=k+y}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function w(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function I(x){return x.h==-1}t.l=function(x){return x=v(this,x),I(x)?-1:w(x)?0:1};function D(x){const A=x.g.length,_=[];for(let y=0;y<A;y++)_[y]=~x.g[y];return new a(_,~x.h).add(d)}t.abs=function(){return I(this)?D(this):this},t.add=function(x){const A=Math.max(this.g.length,x.g.length),_=[];let y=0;for(let b=0;b<=A;b++){let k=y+(this.i(b)&65535)+(x.i(b)&65535),C=(k>>>16)+(this.i(b)>>>16)+(x.i(b)>>>16);y=C>>>16,k&=65535,C&=65535,_[b]=C<<16|k}return new a(_,_[_.length-1]&-2147483648?-1:0)};function v(x,A){return x.add(D(A))}t.j=function(x){if(w(this)||w(x))return f;if(I(this))return I(x)?D(this).j(D(x)):D(D(this).j(x));if(I(x))return D(this.j(D(x)));if(this.l(p)<0&&x.l(p)<0)return c(this.m()*x.m());const A=this.g.length+x.g.length,_=[];for(var y=0;y<2*A;y++)_[y]=0;for(y=0;y<this.g.length;y++)for(let b=0;b<x.g.length;b++){const k=this.i(y)>>>16,C=this.i(y)&65535,W=x.i(b)>>>16,Z=x.i(b)&65535;_[2*y+2*b]+=C*Z,E(_,2*y+2*b),_[2*y+2*b+1]+=k*Z,E(_,2*y+2*b+1),_[2*y+2*b+1]+=C*W,E(_,2*y+2*b+1),_[2*y+2*b+2]+=k*W,E(_,2*y+2*b+2)}for(x=0;x<A;x++)_[x]=_[2*x+1]<<16|_[2*x];for(x=A;x<2*A;x++)_[x]=0;return new a(_,0)};function E(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function T(x,A){this.g=x,this.h=A}function M(x,A){if(w(A))throw Error("division by zero");if(w(x))return new T(f,f);if(I(x))return A=M(D(x),A),new T(D(A.g),D(A.h));if(I(A))return A=M(x,D(A)),new T(D(A.g),A.h);if(x.g.length>30){if(I(x)||I(A))throw Error("slowDivide_ only works with positive integers.");for(var _=d,y=A;y.l(x)<=0;)_=z(_),y=z(y);var b=V(_,1),k=V(y,1);for(y=V(y,2),_=V(_,2);!w(y);){var C=k.add(y);C.l(x)<=0&&(b=b.add(_),k=C),y=V(y,1),_=V(_,1)}return A=v(x,b.j(A)),new T(b,A)}for(b=f;x.l(A)>=0;){for(_=Math.max(1,Math.floor(x.m()/A.m())),y=Math.ceil(Math.log(_)/Math.LN2),y=y<=48?1:Math.pow(2,y-48),k=c(_),C=k.j(A);I(C)||C.l(x)>0;)_-=y,k=c(_),C=k.j(A);w(k)&&(k=d),b=b.add(k),x=v(x,C)}return new T(b,x)}t.B=function(x){return M(this,x).h},t.and=function(x){const A=Math.max(this.g.length,x.g.length),_=[];for(let y=0;y<A;y++)_[y]=this.i(y)&x.i(y);return new a(_,this.h&x.h)},t.or=function(x){const A=Math.max(this.g.length,x.g.length),_=[];for(let y=0;y<A;y++)_[y]=this.i(y)|x.i(y);return new a(_,this.h|x.h)},t.xor=function(x){const A=Math.max(this.g.length,x.g.length),_=[];for(let y=0;y<A;y++)_[y]=this.i(y)^x.i(y);return new a(_,this.h^x.h)};function z(x){const A=x.g.length+1,_=[];for(let y=0;y<A;y++)_[y]=x.i(y)<<1|x.i(y-1)>>>31;return new a(_,x.h)}function V(x,A){const _=A>>5;A%=32;const y=x.g.length-_,b=[];for(let k=0;k<y;k++)b[k]=A>0?x.i(k+_)>>>A|x.i(k+_+1)<<32-A:x.i(k+_);return new a(b,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,HA=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Lr=a}).apply(typeof b1<"u"?b1:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var GA,Jo,$A,kc,Sp,QA,YA,KA;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var i=n(this);function r(u,m){if(m)e:{var g=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in g))break e;g=g[L]}u=u[u.length-1],S=g[u],m=m(S),m!=S&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}r("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(u){return u||function(m){var g=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&g.push([S,m[S]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function l(u,m,g){return u.call.apply(u.bind,arguments)}function c(u,m,g){return c=l,c.apply(null,arguments)}function h(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function f(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(S,L,P){for(var Q=Array(arguments.length-2),de=2;de<arguments.length;de++)Q[de-2]=arguments[de];return m.prototype[L].apply(S,Q)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function p(u){const m=u.length;if(m>0){const g=Array(m);for(let S=0;S<m;S++)g[S]=u[S];return g}return[]}function w(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=u.length||0;const P=L.length||0;u.length=g+P;for(let Q=0;Q<P;Q++)u[g+Q]=L[Q]}else u.push(L)}}class I{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function D(u){a.setTimeout(()=>{throw u},0)}function v(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class E{constructor(){this.h=this.g=null}add(m,g){const S=T.get();S.set(m,g),this.h?this.h.next=S:this.g=S,this.h=S}}var T=new I(()=>new M,u=>u.reset());class M{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let z,V=!1,x=new E,A=()=>{const u=Promise.resolve(void 0);z=()=>{u.then(_)}};function _(){for(var u;u=v();){try{u.h.call(u.g)}catch(g){D(g)}var m=T;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}V=!1}function y(){this.u=this.u,this.C=this.C}y.prototype.u=!1,y.prototype.dispose=function(){this.u||(this.u=!0,this.N())},y.prototype[Symbol.dispose]=function(){this.dispose()},y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function b(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}b.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,m),a.removeEventListener("test",g,m)}catch{}return u}();function C(u){return/^[\s\xa0]*$/.test(u)}function W(u,m){b.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}f(W,b),W.prototype.init=function(u,m){const g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Z="closure_listenable_"+(Math.random()*1e6|0),H=0;function Y(u,m,g,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!S,this.ha=L,this.key=++H,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fe(u,m,g){for(const S in u)m.call(g,u[S],S,u)}function N(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function Xe(u){const m={};for(const g in u)m[g]=u[g];return m}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let g,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(g in S)u[g]=S[g];for(let P=0;P<nt.length;P++)g=nt[P],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function Oe(u){this.src=u,this.g={},this.h=0}Oe.prototype.add=function(u,m,g,S,L){const P=u.toString();u=this.g[P],u||(u=this.g[P]=[],this.h++);const Q=Ye(u,m,S,L);return Q>-1?(m=u[Q],g||(m.fa=!1)):(m=new Y(m,this.src,P,!!S,L),m.fa=g,u.push(m)),m};function Et(u,m){const g=m.type;if(g in u.g){var S=u.g[g],L=Array.prototype.indexOf.call(S,m,void 0),P;(P=L>=0)&&Array.prototype.splice.call(S,L,1),P&&(ee(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Ye(u,m,g,S){for(let L=0;L<u.length;++L){const P=u[L];if(!P.da&&P.listener==m&&P.capture==!!g&&P.ha==S)return L}return-1}var Fn="closure_lm_"+(Math.random()*1e6|0),Xt={};function qn(u,m,g,S,L){if(Array.isArray(m)){for(let P=0;P<m.length;P++)qn(u,m[P],g,S,L);return null}return g=Au(g),u&&u[Z]?u.J(m,g,o(S)?!!S.capture:!1,L):Hn(u,m,g,!1,S,L)}function Hn(u,m,g,S,L,P){if(!m)throw Error("Invalid event type");const Q=o(L)?!!L.capture:!!L;let de=$s(u);if(de||(u[Fn]=de=new Oe(u)),g=de.add(m,g,S,Q,P),g.proxy)return g;if(S=J(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)k||(L=Q),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(ei(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function J(){function u(g){return m.call(u.src,u.listener,g)}const m=Su;return u}function Be(u,m,g,S,L){if(Array.isArray(m))for(var P=0;P<m.length;P++)Be(u,m[P],g,S,L);else S=o(S)?!!S.capture:!!S,g=Au(g),u&&u[Z]?(u=u.i,P=String(m).toString(),P in u.g&&(m=u.g[P],g=Ye(m,g,S,L),g>-1&&(ee(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[P],u.h--)))):u&&(u=$s(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ye(m,g,S,L)),(g=u>-1?m[u]:null)&&Wt(g))}function Wt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Z])Et(m.i,u);else{var g=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(g,S,u.capture):m.detachEvent?m.detachEvent(ei(g),S):m.addListener&&m.removeListener&&m.removeListener(S),(g=$s(m))?(Et(g,u),g.h==0&&(g.src=null,m[Fn]=null)):ee(u)}}}function ei(u){return u in Xt?Xt[u]:Xt[u]="on"+u}function Su(u,m){if(u.da)u=!0;else{m=new W(m,this);const g=u.listener,S=u.ha||u.src;u.fa&&Wt(u),u=g.call(S,m)}return u}function $s(u){return u=u[Fn],u instanceof Oe?u:null}var Qs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Au(u){return typeof u=="function"?u:(u[Qs]||(u[Qs]=function(m){return u.handleEvent(m)}),u[Qs])}function gt(){y.call(this),this.i=new Oe(this),this.M=this,this.G=null}f(gt,y),gt.prototype[Z]=!0,gt.prototype.removeEventListener=function(u,m,g,S){Be(this,u,m,g,S)};function Tt(u,m){var g,S=u.G;if(S)for(g=[];S;S=S.G)g.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new b(m,u);else if(m instanceof b)m.target=m.target||u;else{var L=m;m=new b(S,u),O(m,L)}L=!0;let P,Q;if(g)for(Q=g.length-1;Q>=0;Q--)P=m.g=g[Q],L=Ys(P,S,!0,m)&&L;if(P=m.g=u,L=Ys(P,S,!0,m)&&L,L=Ys(P,S,!1,m)&&L,g)for(Q=0;Q<g.length;Q++)P=m.g=g[Q],L=Ys(P,S,!1,m)&&L}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let S=0;S<g.length;S++)ee(g[S]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,g,S){return this.i.add(String(u),m,!1,g,S)},gt.prototype.K=function(u,m,g,S){return this.i.add(String(u),m,!0,g,S)};function Ys(u,m,g,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let P=0;P<m.length;++P){const Q=m[P];if(Q&&!Q.da&&Q.capture==g){const de=Q.listener,yt=Q.ha||Q.src;Q.fa&&Et(u.i,Q),L=de.call(yt,S)!==!1&&L}}return L&&!S.defaultPrevented}function jf(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:a.setTimeout(u,m||0)}function xu(u){u.g=jf(()=>{u.g=null,u.i&&(u.i=!1,xu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bf extends y{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){y.call(this),this.h=u,this.g={}}f(ts,y);var U=[];function $(u){fe(u.g,function(m,g){this.g.hasOwnProperty(g)&&Wt(m)},u),u.g={}}ts.prototype.N=function(){ts.Z.N.call(this),$(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var se=a.JSON.stringify,me=a.JSON.parse,Ie=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Jt(){}function ti(){}var qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bi(){b.call(this,"d")}f(bi,b);function Si(){b.call(this,"c")}f(Si,b);var it={},Ai=null;function Zt(){return Ai=Ai||new gt}it.Ia="serverreachability";function N_(u){b.call(this,it.Ia,u)}f(N_,b);function bo(u){const m=Zt();Tt(m,new N_(m))}it.STAT_EVENT="statevent";function D_(u,m){b.call(this,it.STAT_EVENT,u),this.stat=m}f(D_,b);function Ht(u){const m=Zt();Tt(m,new D_(m,u))}it.Ja="timingevent";function O_(u,m){b.call(this,it.Ja,u),this.size=m}f(O_,b);function So(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},m)}function Ao(){this.g=!0}Ao.prototype.ua=function(){this.g=!1};function f2(u,m,g,S,L,P){u.info(function(){if(u.g)if(P){var Q="",de=P.split("&");for(let Me=0;Me<de.length;Me++){var yt=de[Me].split("=");if(yt.length>1){const bt=yt[0];yt=yt[1];const ii=bt.split("_");Q=ii.length>=2&&ii[1]=="type"?Q+(bt+"="+yt+"&"):Q+(bt+"=redacted&")}}}else Q=null;else Q=P;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+g+`
`+Q})}function d2(u,m,g,S,L,P,Q){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+g+`
`+P+" "+Q})}function Ks(u,m,g,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+p2(u,g)+(S?" "+S:"")})}function m2(u,m){u.info(function(){return"TIMEOUT: "+m})}Ao.prototype.info=function(){};function p2(u,m){if(!u.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(u=0;u<P.length;u++)if(Array.isArray(P[u])){var g=P[u];if(!(g.length<2)){var S=g[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Q=1;Q<S.length;Q++)S[Q]=""}}}}return se(P)}catch{return m}}var Cu={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},M_={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},V_;function Ff(){}f(Ff,Jt),Ff.prototype.g=function(){return new XMLHttpRequest},V_=new Ff;function xo(u){return encodeURIComponent(String(u))}function g2(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function tr(u,m,g,S){this.j=u,this.i=m,this.l=g,this.S=S||1,this.V=new ts(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new L_}function L_(){this.i=null,this.g="",this.h=!1}var P_={},qf={};function Hf(u,m,g){u.M=1,u.A=ku(ni(m)),u.u=g,u.R=!0,z_(u,null)}function z_(u,m){u.F=Date.now(),Iu(u),u.B=ni(u.A);var g=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),W_(g.i,"t",S),u.C=0,g=u.j.L,u.h=new L_,u.g=pv(u.j,g?m:null,!u.u),u.P>0&&(u.O=new Bf(c(u.Y,u,u.g),u.P)),m=u.V,g=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(U[0]=L.toString()),L=U);for(let P=0;P<L.length;P++){const Q=qn(g,L[P],S||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=u.J?Xe(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bo(),f2(u.i,u.v,u.B,u.l,u.S,u.u)}tr.prototype.ba=function(u){u=u.target;const m=this.O;m&&rr(u)==3?m.j():this.Y(u)},tr.prototype.Y=function(u){try{if(u==this.g)e:{const de=rr(this.g),yt=this.g.ya(),Me=this.g.ca();if(!(de<3)&&(de!=3||this.g&&(this.h.h||this.g.la()||rv(this.g)))){this.K||de!=4||yt==7||(yt==8||Me<=0?bo(3):bo(2)),Gf(this);var m=this.g.ca();this.X=m;var g=y2(this);if(this.o=m==200,d2(this.i,this.v,this.B,this.l,this.S,de,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var P=S;break t}}P=null}if(u=P)Ks(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$f(this,u);else{this.o=!1,this.m=3,Ht(12),ns(this),Co(this);break e}}if(this.R){u=!0;let bt;for(;!this.K&&this.C<g.length;)if(bt=_2(this,g),bt==qf){de==4&&(this.m=4,Ht(14),u=!1),Ks(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==P_){this.m=4,Ht(15),Ks(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else Ks(this.i,this.l,bt,null),$f(this,bt);if(U_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),de!=4||g.length!=0||this.h.h||(this.m=1,Ht(16),u=!1),this.o=this.o&&u,!u)Ks(this.i,this.l,g,"[Invalid Chunked Response]"),ns(this),Co(this);else if(g.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),ed(Q),Q.P=!0,Ht(11))}}else Ks(this.i,this.l,g,null),$f(this,g);de==4&&ns(this),this.o&&!this.K&&(de==4?hv(this.j,this):(this.o=!1,Iu(this)))}else D2(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),ns(this),Co(this)}}}catch{}finally{}};function y2(u){if(!U_(u))return u.g.la();const m=rv(u.g);if(m==="")return"";let g="";const S=m.length,L=rr(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ns(u),Co(u),"";u.h.i=new a.TextDecoder}for(let P=0;P<S;P++)u.h.h=!0,g+=u.h.i.decode(m[P],{stream:!(L&&P==S-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function U_(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function _2(u,m){var g=u.C,S=m.indexOf(`
`,g);return S==-1?qf:(g=Number(m.substring(g,S)),isNaN(g)?P_:(S+=1,S+g>m.length?qf:(m=m.slice(S,S+g),u.C=S+g,m)))}tr.prototype.cancel=function(){this.K=!0,ns(this)};function Iu(u){u.T=Date.now()+u.H,j_(u,u.H)}function j_(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=So(c(u.aa,u),m)}function Gf(u){u.D&&(a.clearTimeout(u.D),u.D=null)}tr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(m2(this.i,this.B),this.M!=2&&(bo(),Ht(17)),ns(this),this.m=2,Co(this)):j_(this,this.T-u)};function Co(u){u.j.I==0||u.K||hv(u.j,u)}function ns(u){Gf(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function $f(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||Qf(g.h,u))){if(!u.L&&Qf(g.h,u)&&g.I==3){try{var S=g.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)Mu(g),Du(g);else break e;Zf(g),Ht(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=So(c(g.Va,g),6e3));q_(g.h)<=1&&g.ta&&(g.ta=void 0)}else rs(g,11)}else if((u.L||g.g==u)&&Mu(g),!C(m))for(L=g.Ba.g.parse(m),m=0;m<L.length;m++){let Me=L[m];const bt=Me[0];if(!(bt<=g.K))if(g.K=bt,Me=Me[1],g.I==2)if(Me[0]=="c"){g.M=Me[1],g.ba=Me[2];const ii=Me[3];ii!=null&&(g.ka=ii,g.j.info("VER="+g.ka));const ss=Me[4];ss!=null&&(g.za=ss,g.j.info("SVER="+g.za));const sr=Me[5];sr!=null&&typeof sr=="number"&&sr>0&&(S=1.5*sr,g.O=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const ar=u.g;if(ar){const Lu=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lu){var P=S.h;P.g||Lu.indexOf("spdy")==-1&&Lu.indexOf("quic")==-1&&Lu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Yf(P,P.h),P.h=null))}if(S.G){const td=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;td&&(S.wa=td,Fe(S.J,S.G,td))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),S=g;var Q=u;if(S.na=mv(S,S.L?S.ba:null,S.W),Q.L){H_(S.h,Q);var de=Q,yt=S.O;yt&&(de.H=yt),de.D&&(Gf(de),Iu(de)),S.g=Q}else uv(S);g.i.length>0&&Ou(g)}else Me[0]!="stop"&&Me[0]!="close"||rs(g,7);else g.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?rs(g,7):Jf(g):Me[0]!="noop"&&g.l&&g.l.qa(Me),g.A=0)}}bo(4)}catch{}}var v2=class{constructor(u,m){this.g=u,this.map=m}};function B_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function F_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function q_(u){return u.h?1:u.g?u.g.size:0}function Qf(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Yf(u,m){u.g?u.g.add(m):u.h=m}function H_(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}B_.prototype.cancel=function(){if(this.i=G_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function G_(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return p(u.i)}var $_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w2(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const S=u[g].indexOf("=");let L,P=null;S>=0?(L=u[g].substring(0,S),P=u[g].substring(S+1)):L=u[g],m(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function nr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof nr?(this.l=u.l,Io(this,u.j),this.o=u.o,this.g=u.g,ko(this,u.u),this.h=u.h,Kf(this,J_(u.i)),this.m=u.m):u&&(m=String(u).match($_))?(this.l=!1,Io(this,m[1]||"",!0),this.o=Ro(m[2]||""),this.g=Ro(m[3]||"",!0),ko(this,m[4]),this.h=Ro(m[5]||"",!0),Kf(this,m[6]||"",!0),this.m=Ro(m[7]||"")):(this.l=!1,this.i=new Do(null,this.l))}nr.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(No(m,Q_,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(No(m,Q_,!0),"@"),u.push(xo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(No(g,g.charAt(0)=="/"?b2:T2,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",No(g,A2)),u.join("")},nr.prototype.resolve=function(u){const m=ni(this);let g=!!u.j;g?Io(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var S=u.h;if(g)ko(m,u.u);else if(g=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const P=[];for(let Q=0;Q<L.length;){const de=L[Q++];de=="."?S&&Q==L.length&&P.push(""):de==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),S&&Q==L.length&&P.push("")):(P.push(de),S=!0)}S=P.join("/")}else S=L}return g?m.h=S:g=u.i.toString()!=="",g?Kf(m,J_(u.i)):g=!!u.m,g&&(m.m=u.m),m};function ni(u){return new nr(u)}function Io(u,m,g){u.j=g?Ro(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ko(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Kf(u,m,g){m instanceof Do?(u.i=m,x2(u.i,u.l)):(g||(m=No(m,S2)),u.i=new Do(m,u.l))}function Fe(u,m,g){u.i.set(m,g)}function ku(u){return Fe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ro(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function No(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,E2),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function E2(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Q_=/[#\/\?@]/g,T2=/[#\?:]/g,b2=/[#\?]/g,S2=/[#\?@]/g,A2=/#/g;function Do(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function is(u){u.g||(u.g=new Map,u.h=0,u.i&&w2(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Do.prototype,t.add=function(u,m){is(this),this.i=null,u=Xs(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Y_(u,m){is(u),m=Xs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function K_(u,m){return is(u),m=Xs(u,m),u.g.has(m)}t.forEach=function(u,m){is(this),this.g.forEach(function(g,S){g.forEach(function(L){u.call(m,L,S,this)},this)},this)};function X_(u,m){is(u);let g=[];if(typeof m=="string")K_(u,m)&&(g=g.concat(u.g.get(Xs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}t.set=function(u,m){return is(this),this.i=null,u=Xs(this,u),K_(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},t.get=function(u,m){return u?(u=X_(this,u),u.length>0?String(u[0]):m):m};function W_(u,m,g){Y_(u,m),g.length>0&&(u.i=null,u.g.set(Xs(u,m),p(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var g=m[S];const L=xo(g);g=X_(this,g);for(let P=0;P<g.length;P++){let Q=L;g[P]!==""&&(Q+="="+xo(g[P])),u.push(Q)}}return this.i=u.join("&")};function J_(u){const m=new Do;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Xs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function x2(u,m){m&&!u.j&&(is(u),u.i=null,u.g.forEach(function(g,S){const L=S.toLowerCase();S!=L&&(Y_(this,S),W_(this,L,g))},u)),u.j=m}function C2(u,m){const g=new Ao;if(a.Image){const S=new Image;S.onload=h(ir,g,"TestLoadImage: loaded",!0,m,S),S.onerror=h(ir,g,"TestLoadImage: error",!1,m,S),S.onabort=h(ir,g,"TestLoadImage: abort",!1,m,S),S.ontimeout=h(ir,g,"TestLoadImage: timeout",!1,m,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function I2(u,m){const g=new Ao,S=new AbortController,L=setTimeout(()=>{S.abort(),ir(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(P=>{clearTimeout(L),P.ok?ir(g,"TestPingServer: ok",!0,m):ir(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),ir(g,"TestPingServer: error",!1,m)})}function ir(u,m,g,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(g)}catch{}}function k2(){this.g=new Ie}function Xf(u){this.i=u.Sb||null,this.h=u.ab||!1}f(Xf,Jt),Xf.prototype.g=function(){return new Ru(this.i,this.h)};function Ru(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Ru,gt),t=Ru.prototype,t.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Mo(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||a).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Oo(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Mo(this)),this.g&&(this.readyState=3,Mo(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Z_(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Z_(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Oo(this):Mo(this),this.readyState==3&&Z_(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Oo(this))},t.Na=function(u){this.g&&(this.response=u,Oo(this))},t.ga=function(){this.g&&Oo(this)};function Oo(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Mo(u)}t.setRequestHeader=function(u,m){this.A.append(u,m)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function Mo(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ev(u){let m="";return fe(u,function(g,S){m+=S,m+=":",m+=g,m+=`\r
`}),m}function Wf(u,m,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=ev(g),typeof u=="string"?g!=null&&xo(g):Fe(u,m,g))}function Je(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Je,gt);var R2=/^https?$/i,N2=["POST","PUT"];t=Je.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,m,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():V_.g(),this.g.onreadystatechange=d(c(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(P){tv(this,P);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)g.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const P of S.keys())g.set(P,S.get(P));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),L=a.FormData&&u instanceof a.FormData,!(Array.prototype.indexOf.call(N2,m,void 0)>=0)||S||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,Q]of g)this.g.setRequestHeader(P,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(P){tv(this,P)}};function tv(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,nv(u),Nu(u)}function nv(u){u.A||(u.A=!0,Tt(u,"complete"),Tt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Tt(this,"complete"),Tt(this,"abort"),Nu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nu(this,!0)),Je.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?iv(this):this.Xa())},t.Xa=function(){iv(this)};function iv(u){if(u.h&&typeof s<"u"){if(u.v&&rr(u)==4)setTimeout(u.Ca.bind(u),0);else if(Tt(u,"readystatechange"),rr(u)==4){u.h=!1;try{const P=u.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var S;if(S=P===0){let Q=String(u.D).match($_)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),S=!R2.test(Q?Q.toLowerCase():"")}g=S}if(g)Tt(u,"complete"),Tt(u,"success");else{u.o=6;try{var L=rr(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",nv(u)}}finally{Nu(u)}}}}function Nu(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||Tt(u,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function rr(u){return u.g?u.g.readyState:0}t.ca=function(){try{return rr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),me(m)}};function rv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function D2(u){const m={};u=(u.g&&rr(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var g=g2(u[S]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const P=m[L]||[];m[L]=P,P.push(g)}N(m,function(S){return S.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vo(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function sv(u){this.za=0,this.i=[],this.j=new Ao,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vo("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vo("baseRetryDelayMs",5e3,u),this.Za=Vo("retryDelaySeedMs",1e4,u),this.Ta=Vo("forwardChannelMaxRetries",2,u),this.va=Vo("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new B_(u&&u.concurrentRequestLimit),this.Ba=new k2,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=sv.prototype,t.ka=8,t.I=1,t.connect=function(u,m,g,S){Ht(0),this.W=u,this.H=m||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.J=mv(this,null,this.W),Ou(this)};function Jf(u){if(av(u),u.I==3){var m=u.V++,g=ni(u.J);if(Fe(g,"SID",u.M),Fe(g,"RID",m),Fe(g,"TYPE","terminate"),Lo(u,g),m=new tr(u,u.j,m),m.M=2,m.A=ku(ni(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&a.Image&&(new Image().src=m.A,g=!0),g||(m.g=pv(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Iu(m)}dv(u)}function Du(u){u.g&&(ed(u),u.g.cancel(),u.g=null)}function av(u){Du(u),u.v&&(a.clearTimeout(u.v),u.v=null),Mu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&a.clearTimeout(u.m),u.m=null)}function Ou(u){if(!F_(u.h)&&!u.m){u.m=!0;var m=u.Ea;z||A(),V||(z(),V=!0),x.add(m,u),u.D=0}}function O2(u,m){return q_(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=So(c(u.Ea,u,m),fv(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new tr(this,this.j,u);let P=this.o;if(this.U&&(P?(P=Xe(P),O(P,this.U)):P=this.U),this.u!==null||this.R||(L.J=P,P=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=lv(this,L,m),g=ni(this.J),Fe(g,"RID",u),Fe(g,"CVER",22),this.G&&Fe(g,"X-HTTP-Session-Id",this.G),Lo(this,g),P&&(this.R?m="headers="+xo(ev(P))+"&"+m:this.u&&Wf(g,this.u,P)),Yf(this.h,L),this.Ra&&Fe(g,"TYPE","init"),this.S?(Fe(g,"$req",m),Fe(g,"SID","null"),L.U=!0,Hf(L,g,null)):Hf(L,g,m),this.I=2}}else this.I==3&&(u?ov(this,u):this.i.length==0||F_(this.h)||ov(this))};function ov(u,m){var g;m?g=m.l:g=u.V++;const S=ni(u.J);Fe(S,"SID",u.M),Fe(S,"RID",g),Fe(S,"AID",u.K),Lo(u,S),u.u&&u.o&&Wf(S,u.u,u.o),g=new tr(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lv(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Yf(u.h,g),Hf(g,S,m)}function Lo(u,m){u.H&&fe(u.H,function(g,S){Fe(m,S,g)}),u.l&&fe({},function(g,S){Fe(m,S,g)})}function lv(u,m,g){g=Math.min(u.i.length,g);const S=u.l?c(u.l.Ka,u.l,u):null;e:{var L=u.i;let de=-1;for(;;){const yt=["count="+g];de==-1?g>0?(de=L[0].g,yt.push("ofs="+de)):de=0:yt.push("ofs="+de);let Me=!0;for(let bt=0;bt<g;bt++){var P=L[bt].g;const ii=L[bt].map;if(P-=de,P<0)de=Math.max(0,L[bt].g-100),Me=!1;else try{P="req"+P+"_"||"";try{var Q=ii instanceof Map?ii:Object.entries(ii);for(const[ss,sr]of Q){let ar=sr;o(sr)&&(ar=se(sr)),yt.push(P+ss+"="+encodeURIComponent(ar))}}catch(ss){throw yt.push(P+"type="+encodeURIComponent("_badmap")),ss}}catch{S&&S(ii)}}if(Me){Q=yt.join("&");break e}}Q=void 0}return u=u.i.splice(0,g),m.G=u,Q}function uv(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;z||A(),V||(z(),V=!0),x.add(m,u),u.A=0}}function Zf(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=So(c(u.Da,u),fv(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,cv(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=So(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),Du(this),cv(this))};function ed(u){u.B!=null&&(a.clearTimeout(u.B),u.B=null)}function cv(u){u.g=new tr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ni(u.na);Fe(m,"RID","rpc"),Fe(m,"SID",u.M),Fe(m,"AID",u.K),Fe(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Fe(m,"TO",u.ia),Fe(m,"TYPE","xmlhttp"),Lo(u,m),u.u&&u.o&&Wf(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=ku(ni(m)),g.u=null,g.R=!0,z_(g,u)}t.Va=function(){this.C!=null&&(this.C=null,Du(this),Zf(this),Ht(19))};function Mu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function hv(u,m){var g=null;if(u.g==m){Mu(u),ed(u),u.g=null;var S=2}else if(Qf(u.h,m))g=m.G,H_(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=Zt(),Tt(S,new O_(S,g)),Ou(u)}else uv(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&O2(u,m)||S==2&&Zf(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),L){case 1:rs(u,5);break;case 4:rs(u,10);break;case 3:rs(u,6);break;default:rs(u,2)}}}function fv(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function rs(u,m){if(u.j.info("Error code "+m),m==2){var g=c(u.bb,u),S=u.Ua;const L=!S;S=new nr(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Io(S,"https"),ku(S),L?C2(S.toString(),g):I2(S.toString(),g)}else Ht(2);u.I=0,u.l&&u.l.pa(m),dv(u),av(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function dv(u){if(u.I=0,u.ja=[],u.l){const m=G_(u.h);(m.length!=0||u.i.length!=0)&&(w(u.ja,m),w(u.ja,u.i),u.h.i.length=0,p(u.i),u.i.length=0),u.l.oa()}}function mv(u,m,g){var S=g instanceof nr?ni(g):new nr(g);if(S.g!="")m&&(S.g=m+"."+S.g),ko(S,S.u);else{var L=a.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const P=new nr(null);S&&Io(P,S),m&&(P.g=m),L&&ko(P,L),g&&(P.h=g),S=P}return g=u.G,m=u.wa,g&&m&&Fe(S,g,m),Fe(S,"VER",u.ka),Lo(u,S),S}function pv(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Je(new Xf({ab:g})):new Je(u.ma),m.Fa(u.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gv(){}t=gv.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vu(){}Vu.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){gt.call(this),this.g=new sv(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ws(this)}f(fn,gt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Jf(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=se(u),u=g);m.i.push(new v2(m.Ya++,u)),m.I==3&&Ou(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,fn.Z.N.call(this)};function yv(u){bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}f(yv,bi);function _v(){Si.call(this),this.status=1}f(_v,Si);function Ws(u){this.g=u}f(Ws,gv),Ws.prototype.ra=function(){Tt(this.g,"a")},Ws.prototype.qa=function(u){Tt(this.g,new yv(u))},Ws.prototype.pa=function(u){Tt(this.g,new _v)},Ws.prototype.oa=function(){Tt(this.g,"b")},Vu.prototype.createWebChannel=Vu.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,KA=function(){return new Vu},YA=function(){return Zt()},QA=it,Sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cu.NO_ERROR=0,Cu.TIMEOUT=8,Cu.HTTP_ERROR=6,kc=Cu,M_.COMPLETE="complete",$A=M_,ti.EventType=qt,qt.OPEN="a",qt.CLOSE="b",qt.ERROR="c",qt.MESSAGE="d",gt.prototype.listen=gt.prototype.J,Jo=ti,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,GA=Je}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const S1="@firebase/firestore",A1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new of("@firebase/firestore");function ra(){return Ns.logLevel}function X(t,...e){if(Ns.logLevel<=_e.DEBUG){const n=e.map(gy);Ns.debug(`Firestore (${mo}): ${t}`,...n)}}function Wi(t,...e){if(Ns.logLevel<=_e.ERROR){const n=e.map(gy);Ns.error(`Firestore (${mo}): ${t}`,...n)}}function Ya(t,...e){if(Ns.logLevel<=_e.WARN){const n=e.map(gy);Ns.warn(`Firestore (${mo}): ${t}`,...n)}}function gy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,XA(t,i,n)}function XA(t,e,n){let i=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Wi(i),new Error(i)}function Ce(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||XA(e,r,i)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class h3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f3{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0,42304);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Fi,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Fi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ce(typeof i.accessToken=="string",31837,{l:i}),new WA(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class d3{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class m3{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new d3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class x1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0,3512);const i=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new x1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new x1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=g3(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function ve(t,e){return t<e?-1:t>e?1:0}function Ap(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),s=e.charAt(i);if(r!==s)return $d(r)===$d(s)?ve(r,s):$d(r)?1:-1}return ve(t.length,e.length)}const y3=55296,_3=57343;function $d(t){const e=t.charCodeAt(0);return e>=y3&&e<=_3}function Ka(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="__name__";class si{constructor(e,n,i){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&ie(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof si?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=si.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return ve(e.length,n.length)}static compareSegments(e,n){const i=si.isNumericId(e),r=si.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?si.extractNumericId(e).compare(si.extractNumericId(n)):Ap(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lr.fromString(e.substring(4,e.length-2))}}class ze extends si{construct(e,n,i){return new ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new K(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new ze(n)}static emptyPath(){return new ze([])}}const v3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends si{construct(e,n,i){return new Dt(e,n,i)}static isValidIdentifier(e){return v3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C1}static keyField(){return new Dt([C1])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new K(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new K(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ze.fromString(e))}static fromName(e){return new te(ze.fromString(e).popFirst(5))}static empty(){return new te(ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ze(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e,n){if(!n)throw new K(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w3(t,e,n,i){if(e===!0&&i===!0)throw new K(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function I1(t){if(!te.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k1(t){if(te.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hf(t);throw new K(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){const n={typeString:t};return e&&(n.value=e),n}function pu(t,e){if(!ZA(t))throw new K(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const a=t[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new K(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=-62135596800,N1=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*N1);return new Ge(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<R1)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N1}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-R1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:mt("string",Ge._jsonSchemaVersion),seconds:mt("number"),nanoseconds:mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Ge(0,0))}static max(){return new oe(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function E3(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=oe.fromTimestamp(i===1e9?new Ge(n+1,0):new Ge(n,i));return new Fr(r,te.empty(),e)}function T3(t){return new Fr(t.readTime,t.key,Fl)}class Fr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Fr(oe.min(),te.empty(),Fl)}static max(){return new Fr(oe.max(),te.empty(),Fl)}}function b3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==S3)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,i)=>{n(e)})}static reject(e){return new F((n,i)=>{i(e)})}static waitFor(e){return new F((n,i)=>{let r=0,s=0,a=!1;e.forEach(o=>{++r,o.next(()=>{++s,a&&s===r&&n()},l=>i(l))}),a=!0,s===r&&n()})}static or(e){let n=F.resolve(!1);for(const i of e)n=n.next(r=>r?F.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new F((i,r)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{a[c]=h,++o,o===s&&i(a)},h=>r(h))}})}static doWhile(e,n){return new F((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function x3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-1;function df(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function C3(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="";function I3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=D1(e)),e=k3(t.get(n),e);return D1(e)}function k3(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case ex:n+="";break;default:n+=s}}return n}function D1(t){return t+ex+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||kt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??kt.RED,this.left=r??kt.EMPTY,this.right=s??kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new kt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return kt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}kt.EMPTY=null,kt.RED=!0,kt.BLACK=!1;kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,i,r,s){return this}insert(e,n,i){return new kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new M1(this.data.getIterator())}getIteratorFrom(e){return new M1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class M1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new vt(Dt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ka(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nx("Invalid base64 string: "+s):s}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const R3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(t){if(Ce(!!t,39018),typeof t=="string"){let e=0;const n=R3.exec(t);if(Ce(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hr(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="server_timestamp",rx="__type__",sx="__previous_value__",ax="__local_write_time__";function vy(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[rx])==null?void 0:i.stringValue)===ix}function mf(t){const e=t.mapValue.fields[sx];return vy(e)?mf(e):e}function ql(t){const e=qr(t.mapValue.fields[ax].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,i,r,s,a,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const bh="(default)";class Hl{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="__type__",D3="__max__",nc={mapValue:{}},lx="__vector__",Sh="value";function Gr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vy(t)?4:M3(t)?9007199254740991:O3(t)?10:11:ie(28295,{value:t})}function _i(t,e){if(t===e)return!0;const n=Gr(t);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ql(t).isEqual(ql(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=qr(r.timestampValue),o=qr(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Hr(r.bytesValue).isEqual(Hr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return rt(r.geoPointValue.latitude)===rt(s.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return rt(r.integerValue)===rt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=rt(r.doubleValue),o=rt(s.doubleValue);return a===o?Th(a)===Th(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Ka(t.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},o=s.mapValue.fields||{};if(O1(a)!==O1(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!_i(a[l],o[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function Gl(t,e){return(t.values||[]).find(n=>_i(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Gr(t),i=Gr(e);if(n!==i)return ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ve(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=rt(s.integerValue||s.doubleValue),l=rt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return V1(t.timestampValue,e.timestampValue);case 4:return V1(ql(t),ql(e));case 5:return Ap(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Hr(s),l=Hr(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const h=ve(o[c],l[c]);if(h!==0)return h}return ve(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=ve(rt(s.latitude),rt(a.latitude));return o!==0?o:ve(rt(s.longitude),rt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return L1(t.arrayValue,e.arrayValue);case 10:return function(s,a){var d,p,w,I;const o=s.fields||{},l=a.fields||{},c=(d=o[Sh])==null?void 0:d.arrayValue,h=(p=l[Sh])==null?void 0:p.arrayValue,f=ve(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return f!==0?f:L1(c,h)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===nc.mapValue&&a===nc.mapValue)return 0;if(s===nc.mapValue)return 1;if(a===nc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=Ap(l[f],h[f]);if(d!==0)return d;const p=Xa(o[l[f]],c[h[f]]);if(p!==0)return p}return ve(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function V1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ve(t,e);const n=qr(t),i=qr(e),r=ve(n.seconds,i.seconds);return r!==0?r:ve(n.nanos,i.nanos)}function L1(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Xa(n[r],i[r]);if(s)return s}return ve(n.length,i.length)}function Wa(t){return xp(t)}function xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=qr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=xp(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${xp(n.fields[a])}`;return r+"}"}(t.mapValue):ie(61005,{value:t})}function Rc(t){switch(Gr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(t);return e?16+Rc(e):16;case 5:return 2*t.stringValue.length;case 6:return Hr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Rc(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Wr(i.fields,(s,a)=>{r+=s.length+Rc(a)}),r}(t.mapValue);default:throw ie(13486,{value:t})}}function P1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cp(t){return!!t&&"integerValue"in t}function wy(t){return!!t&&"arrayValue"in t}function z1(t){return!!t&&"nullValue"in t}function U1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nc(t){return!!t&&"mapValue"in t}function O3(t){var n,i;return((i=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[ox])==null?void 0:i.stringValue)===lx}function vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=vl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vl(t.arrayValue.values[n]);return e}return{...t}}function M3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===D3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(n)}setAll(e){let n=Dt.emptyPath(),i={},r=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=o.popLast()}a?i[o.lastSegment()]=vl(a):r.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Nc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Wr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new on(vl(this.value))}}function ux(t){const e=[];return Wr(t.fields,(n,i)=>{const r=new Dt([n]);if(Nc(i)){const s=ux(i.mapValue).fields;if(s.length===0)e.push(r);else for(const a of s)e.push(r.child(a))}else e.push(r)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,i,r,s,a,o){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ut(e,0,oe.min(),oe.min(),oe.min(),on.empty(),0)}static newFoundDocument(e,n,i,r){return new Ut(e,1,n,oe.min(),i,r,0)}static newNoDocument(e,n){return new Ut(e,2,n,oe.min(),oe.min(),on.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,oe.min(),oe.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function j1(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],a=t.position[r];if(s.field.isKeyField()?i=te.comparator(te.fromName(a.referenceValue),n.key):i=Xa(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function B1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_i(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function V3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{}class ft extends cx{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new P3(e,n,i):n==="array-contains"?new j3(e,i):n==="in"?new B3(e,i):n==="not-in"?new F3(e,i):n==="array-contains-any"?new q3(e,i):new ft(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new z3(e,i):new U3(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends cx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return hx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hx(t){return t.op==="and"}function fx(t){return L3(t)&&hx(t)}function L3(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function Ip(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Wa(t.value);if(fx(t))return t.filters.map(e=>Ip(e)).join(",");{const e=t.filters.map(n=>Ip(n)).join(",");return`${t.op}(${e})`}}function dx(t,e){return t instanceof ft?function(i,r){return r instanceof ft&&i.op===r.op&&i.field.isEqual(r.field)&&_i(i.value,r.value)}(t,e):t instanceof Wn?function(i,r){return r instanceof Wn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,o)=>s&&dx(a,r.filters[o]),!0):!1}(t,e):void ie(19439)}function mx(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Wa(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(mx).join(" ,")+"}"}(t):"Filter"}class P3 extends ft{constructor(e,n,i){super(e,n,i),this.key=te.fromName(i.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class z3 extends ft{constructor(e,n){super(e,"in",n),this.keys=px("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class U3 extends ft{constructor(e,n){super(e,"not-in",n),this.keys=px("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function px(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(i=>te.fromName(i.referenceValue))}class j3 extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wy(n)&&Gl(n.arrayValue,this.value)}}class B3 extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class F3 extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class q3 extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Gl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n=null,i=[],r=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function F1(t,e=null,n=[],i=[],r=null,s=null,a=null){return new H3(t,e,n,i,r,s,a)}function Ey(t){const e=le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Ip(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Wa(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Wa(i)).join(",")),e.Te=n}return e.Te}function Ty(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!V3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!dx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B1(t.startAt,e.startAt)&&B1(t.endAt,e.endAt)}function kp(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,i=[],r=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G3(t,e,n,i,r,s,a,o){return new yo(t,e,n,i,r,s,a,o)}function pf(t){return new yo(t)}function q1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gx(t){return t.collectionGroup!==null}function wl(t){const e=le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new vt(Dt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new $l(s,i))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new $l(Dt.keyField(),i))}return e.Ie}function di(t){const e=le(t);return e.Ee||(e.Ee=$3(e,wl(t))),e.Ee}function $3(t,e){if(t.limitType==="F")return F1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new $l(r.field,s)});const n=t.endAt?new Ah(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Ah(t.startAt.position,t.startAt.inclusive):null;return F1(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Rp(t,e){const n=t.filters.concat([e]);return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Np(t,e,n){return new yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gf(t,e){return Ty(di(t),di(e))&&t.limitType===e.limitType}function yx(t){return`${Ey(di(t))}|lt:${t.limitType}`}function sa(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>mx(r)).join(", ")}]`),df(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Wa(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Wa(r)).join(",")),`Target(${i})`}(di(t))}; limitType=${t.limitType})`}function yf(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):te.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of wl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(a,o,l){const c=j1(a,o,l);return a.inclusive?c<=0:c<0}(i.startAt,wl(i),r)||i.endAt&&!function(a,o,l){const c=j1(a,o,l);return a.inclusive?c>=0:c>0}(i.endAt,wl(i),r))}(t,e)}function Q3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _x(t){return(e,n)=>{let i=!1;for(const r of wl(t)){const s=Y3(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Y3(t,e,n){const i=t.field.isKeyField()?te.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Xa(l,c):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return tx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=new We(te.comparator);function Ji(){return K3}const vx=new We(te.comparator);function Zo(...t){let e=vx;for(const n of t)e=e.insert(n.key,n);return e}function wx(t){let e=vx;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ms(){return El()}function Ex(){return El()}function El(){return new Fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const X3=new We(te.comparator),W3=new vt(te.comparator);function we(...t){let e=W3;for(const n of t)e=e.add(n);return e}const J3=new vt(ve);function Z3(){return J3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Tx(t){return{integerValue:""+t}}function eV(t,e){return C3(e)?Tx(e):by(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(){this._=void 0}}function tV(t,e,n){return t instanceof Ql?function(r,s){const a={fields:{[rx]:{stringValue:ix},[ax]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&vy(s)&&(s=mf(s)),s&&(a.fields[sx]=s),{mapValue:a}}(n,e):t instanceof Yl?Sx(t,e):t instanceof Kl?Ax(t,e):function(r,s){const a=bx(r,s),o=H1(a)+H1(r.Ae);return Cp(a)&&Cp(r.Ae)?Tx(o):by(r.serializer,o)}(t,e)}function nV(t,e,n){return t instanceof Yl?Sx(t,e):t instanceof Kl?Ax(t,e):n}function bx(t,e){return t instanceof xh?function(i){return Cp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Ql extends _f{}class Yl extends _f{constructor(e){super(),this.elements=e}}function Sx(t,e){const n=xx(e);for(const i of t.elements)n.some(r=>_i(r,i))||n.push(i);return{arrayValue:{values:n}}}class Kl extends _f{constructor(e){super(),this.elements=e}}function Ax(t,e){let n=xx(e);for(const i of t.elements)n=n.filter(r=>!_i(r,i));return{arrayValue:{values:n}}}class xh extends _f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function H1(t){return rt(t.integerValue||t.doubleValue)}function xx(t){return wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.field=e,this.transform=n}}function rV(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Yl&&r instanceof Yl||i instanceof Kl&&r instanceof Kl?Ka(i.elements,r.elements,_i):i instanceof xh&&r instanceof xh?_i(i.Ae,r.Ae):i instanceof Ql&&r instanceof Ql}(t.transform,e.transform)}class sV{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vf{}function Cx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sy(t.key,Yn.none()):new gu(t.key,t.data,Yn.none());{const n=t.data,i=on.empty();let r=new vt(Dt.comparator);for(let s of e.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new Jr(t.key,i,new _n(r.toArray()),Yn.none())}}function aV(t,e,n){t instanceof gu?function(r,s,a){const o=r.value.clone(),l=$1(r.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Jr?function(r,s,a){if(!Dc(r.precondition,s))return void s.convertToUnknownDocument(a.version);const o=$1(r.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(Ix(r)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Tl(t,e,n,i){return t instanceof gu?function(s,a,o,l){if(!Dc(s.precondition,a))return o;const c=s.value.clone(),h=Q1(s.fieldTransforms,l,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Jr?function(s,a,o,l){if(!Dc(s.precondition,a))return o;const c=Q1(s.fieldTransforms,l,a),h=a.data;return h.setAll(Ix(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,a,o){return Dc(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function oV(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=bx(i.transform,r||null);s!=null&&(n===null&&(n=on.empty()),n.set(i.field,s))}return n||null}function G1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ka(i,r,(s,a)=>rV(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gu extends vf{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jr extends vf{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ix(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function $1(t,e,n){const i=new Map;Ce(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const s=t[r],a=s.transform,o=e.data.field(s.field);i.set(s.field,nV(a,o,n[r]))}return i}function Q1(t,e,n){const i=new Map;for(const r of t){const s=r.transform,a=n.data.field(r.field);i.set(r.field,tV(s,a,e))}return i}class Sy extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lV extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&aV(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Tl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Tl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=Ex();return this.mutations.forEach(r=>{const s=e.get(r.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(r.key)?null:o;const l=Cx(a,o);l!==null&&i.set(r.key,l),a.isValidDocument()||a.convertToNoDocument(oe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ka(this.mutations,e.mutations,(n,i)=>G1(n,i))&&Ka(this.baseMutations,e.baseMutations,(n,i)=>G1(n,i))}}class Ay{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Ce(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let r=function(){return X3}();const s=e.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Ay(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,be;function fV(t){switch(t){case j.OK:return ie(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function kx(t){if(t===void 0)return Wi("GRPC error has no .code"),j.UNKNOWN;switch(t){case ot.OK:return j.OK;case ot.CANCELLED:return j.CANCELLED;case ot.UNKNOWN:return j.UNKNOWN;case ot.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case ot.INTERNAL:return j.INTERNAL;case ot.UNAVAILABLE:return j.UNAVAILABLE;case ot.UNAUTHENTICATED:return j.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case ot.NOT_FOUND:return j.NOT_FOUND;case ot.ALREADY_EXISTS:return j.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return j.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case ot.ABORTED:return j.ABORTED;case ot.OUT_OF_RANGE:return j.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return j.UNIMPLEMENTED;case ot.DATA_LOSS:return j.DATA_LOSS;default:return ie(39323,{code:t})}}(be=ot||(ot={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=new Lr([4294967295,4294967295],0);function Y1(t){const e=dV().encode(t),n=new HA;return n.update(e),new Uint8Array(n.digest())}function K1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Lr([n,i],0),new Lr([r,s],0)]}class xy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new el(`Invalid padding: ${n}`);if(i<0)throw new el(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new el(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new el(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Lr.fromNumber(this.ge)}ye(e,n,i){let r=e.add(n.multiply(Lr.fromNumber(i)));return r.compare(mV)===1&&(r=new Lr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y1(e),[i,r]=K1(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new xy(s,r,n);return i.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=Y1(e),[i,r]=K1(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class el extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wf(oe.min(),r,new We(ve),Ji(),we())}}class yu{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new yu(i,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,i,r){this.be=e,this.removedTargetIds=n,this.key=i,this.De=r}}class Rx{constructor(e,n){this.targetId=e,this.Ce=n}}class Nx{constructor(e,n,i=Vt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class X1{constructor(){this.ve=0,this.Fe=W1(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),i=we();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:ie(38017,{changeType:s})}}),new yu(this.Me,this.xe,e,n,i)}qe(){this.Oe=!1,this.Fe=W1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ce(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ji(),this.Je=ic(),this.He=ic(),this.Ye=new We(ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const i=this.nt(n);switch(e.state){case 0:this.rt(n)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,i=e.Ce.count,r=this.ot(n);if(r){const s=r.target;if(kp(s))if(i===0){const a=new te(s.path);this.et(n,a,Ut.newNoDocument(a,oe.min()))}else Ce(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,o;try{a=Hr(i).toUint8Array()}catch(l){if(l instanceof nx)return Ya("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new xy(a,r,s)}catch(l){return Ya(l instanceof el?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,i){return n.Ce.count===i-this.Pt(e,n.targetId)?0:2}Pt(e,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&kp(o.target)){const l=new te(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Ut.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let i=we();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const r=new wf(e,n,this.Ye,this.je,i);return this.je=Ji(),this.Je=ic(),this.He=ic(),this.Ye=new We(ve),r}Xe(e,n){if(!this.rt(e))return;const i=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,i){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),i&&(this.je=this.je.insert(n,i))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new X1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new X1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ic(){return new We(te.comparator)}function W1(){return new We(te.comparator)}const gV={asc:"ASCENDING",desc:"DESCENDING"},yV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_V={and:"AND",or:"OR"};class vV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dp(t,e){return t.useProto3Json||df(e)?e:{value:e}}function Ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wV(t,e){return Ch(t,e.toTimestamp())}function mi(t){return Ce(!!t,49232),oe.fromTimestamp(function(n){const i=qr(n);return new Ge(i.seconds,i.nanos)}(t))}function Cy(t,e){return Op(t,e).canonicalString()}function Op(t,e){const n=function(r){return new ze(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Ox(t){const e=ze.fromString(t);return Ce(zx(e),10190,{key:e.toString()}),e}function Mp(t,e){return Cy(t.databaseId,e.path)}function Qd(t,e){const n=Ox(e);if(n.get(1)!==t.databaseId.projectId)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(Vx(n))}function Mx(t,e){return Cy(t.databaseId,e)}function EV(t){const e=Ox(t);return e.length===4?ze.emptyPath():Vx(e)}function Vp(t){return new ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vx(t){return Ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function J1(t,e,n){return{name:Mp(t,e),fields:n.value.mapValue.fields}}function TV(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Ce(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(Ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const h=c.code===void 0?j.UNKNOWN:kx(c.code);return new K(h,c.message||"")}(a);n=new Nx(i,r,s,o||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Qd(t,i.document.name),s=mi(i.document.updateTime),a=i.document.createTime?mi(i.document.createTime):oe.min(),o=new on({mapValue:{fields:i.document.fields}}),l=Ut.newFoundDocument(r,s,a,o),c=i.targetIds||[],h=i.removedTargetIds||[];n=new Oc(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Qd(t,i.document),s=i.readTime?mi(i.readTime):oe.min(),a=Ut.newNoDocument(r,s),o=i.removedTargetIds||[];n=new Oc([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Qd(t,i.document),s=i.removedTargetIds||[];n=new Oc([],s,r,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new hV(r,s),o=i.targetId;n=new Rx(o,a)}}return n}function bV(t,e){let n;if(e instanceof gu)n={update:J1(t,e.key,e.value)};else if(e instanceof Sy)n={delete:Mp(t,e.key)};else if(e instanceof Jr)n={update:J1(t,e.key,e.data),updateMask:DV(e.fieldMask)};else{if(!(e instanceof lV))return ie(16599,{Vt:e.type});n={verify:Mp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,a){const o=a.transform;if(o instanceof Ql)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Kl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof xh)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw ie(20930,{transform:a.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:wV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie(27497)}(t,e.precondition)),n}function SV(t,e){return t&&t.length>0?(Ce(e!==void 0,14353),t.map(n=>function(r,s){let a=r.updateTime?mi(r.updateTime):mi(s);return a.isEqual(oe.min())&&(a=mi(s)),new sV(a,r.transformResults||[])}(n,e))):[]}function AV(t,e){return{documents:[Mx(t,e.path)]}}function xV(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Mx(t,r);const s=function(c){if(c.length!==0)return Px(Wn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(d){return{field:aa(d.field),direction:kV(d.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Dp(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:r}}function CV(t){let e=EV(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Ce(i===1,65062);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const d=Lx(f);return d instanceof Wn&&fx(d)?d.getFilters():[d]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(d=>function(w){return new $l(oa(w.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(n.orderBy));let o=null;n.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,df(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(f){const d=!!f.before,p=f.values||[];return new Ah(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const d=!f.before,p=f.values||[];return new Ah(p,d)}(n.endAt)),G3(e,r,a,s,o,"F",l,c)}function IV(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Lx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=oa(n.unaryFilter.field);return ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=oa(n.unaryFilter.field);return ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=oa(n.unaryFilter.field);return ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=oa(n.unaryFilter.field);return ft.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(oa(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(i=>Lx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function kV(t){return gV[t]}function RV(t){return yV[t]}function NV(t){return _V[t]}function aa(t){return{fieldPath:t.canonicalString()}}function oa(t){return Dt.fromServerFormat(t.fieldPath)}function Px(t){return t instanceof ft?function(n){if(n.op==="=="){if(U1(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NAN"}};if(z1(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(U1(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NAN"}};if(z1(n.value))return{unaryFilter:{field:aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(n.field),op:RV(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const i=n.getFilters().map(r=>Px(r));return i.length===1?i[0]:{compositeFilter:{op:NV(n.op),filters:i}}}(t):ie(54877,{filter:t})}function DV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n,i,r,s=oe.min(),a=oe.min(),o=Vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.yt=e}}function MV(t){const e=CV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(){this.Cn=new LV}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Fr.min())}updateCollectionGroup(e,n,i){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class LV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new vt(ze.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new vt(ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ux=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Ux,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ja(0)}static cr(){return new Ja(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="LruGarbageCollector",PV=1048576;function tw([t,e],[n,i]){const r=ve(t,n);return r===0?ve(e,i):r}class zV{constructor(e){this.Ir=e,this.buffer=new vt(tw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();tw(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UV{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?X(ew,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Vr(3e5)})}}class jV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return F.resolve(ff.ce);const i=new zV(n);return this.mr.forEachTarget(e,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.mr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Z1)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z1):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let i,r,s,a,o,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,a=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,o=Date.now(),this.removeTargets(e,i,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),ra()<=_e.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${r} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}function BV(t,e){return new jV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?F.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Tl(i.mutation,r,_n.empty(),Ge.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,we()).next(()=>i))}getLocalViewOfDocuments(e,n,i=we()){const r=ms();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let a=Zo();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const i=ms();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,we()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,i,r){let s=Ji();const a=El(),o=function(){return El()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Jr)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Tl(h.mutation,c,h.mutation.getFieldMask(),Ge.now())):a.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>o.set(c,new qV(h,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const i=El();let r=new We((a,o)=>a-o),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||_n.empty();h=o.applyToLocalView(c,h),i.set(l,h);const f=(r.get(o.batchId)||we()).add(l);r=r.insert(o.batchId,f)})}).next(()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,h=l.value,f=Ex();h.forEach(d=>{if(!s.has(d)){const p=Cx(n.get(d),i.get(d));p!==null&&f.set(d,p),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(a){return te.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):F.resolve(ms());let o=Fl,l=s;return a.next(c=>F.forEach(c,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,we())).next(h=>({batchId:o,changes:wx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(i=>{let r=Zo();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let a=Zo();return this.indexManager.getCollectionParents(e,s).next(o=>F.forEach(o,l=>{const c=function(f,d){return new yo(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(a=>{s.forEach((l,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Ut.newInvalidDocument(h)))});let o=Zo();return a.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Tl(h.mutation,c,_n.empty(),Ge.now()),yf(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:mi(r.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:MV(r.bundledQuery),readTime:mi(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.overlays=new We(te.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ms();return F.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),F.resolve()}getOverlaysForCollection(e,n,i){const r=ms(),s=n.length+1,a=new te(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return F.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new We((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=ms(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=ms(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=r)););return F.resolve(o)}St(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new cV(n,i));let s=this.qr.get(n);s===void 0&&(s=we(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(){this.Qr=new vt(St.$r),this.Ur=new vt(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const i=new St(e,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(i=>this.removeReference(i,n))}jr(e){const n=new te(new ze([])),i=new St(n,e),r=new St(n,e+1),s=[];return this.Ur.forEachInRange([i,r],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new te(new ze([])),i=new St(n,e),r=new St(n,e+1);let s=we();return this.Ur.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new St(e,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return te.comparator(e.key,n.key)||ve(e.Yr,n.Yr)}static Kr(e,n){return ve(e.Yr,n.Yr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(St.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new uV(s,n,i,r);this.mutationQueue.push(a);for(const o of r)this.Zr=this.Zr.add(new St(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?_y:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new St(n,0),r=new St(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],a=>{const o=this.Xr(a.Yr);s.push(o)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new vt(ve);return n.forEach(r=>{const s=new St(r,0),a=new St(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{i=i.add(o.Yr)})}),F.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;te.isDocumentKey(s)||(s=s.child(""));const a=new St(new te(s),0);let o=new vt(ve);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(o=o.add(l.Yr)),!0)},a),F.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Ce(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return F.forEach(n.mutations,r=>{const s=new St(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=i})}ir(e){}containsKey(e,n){const i=new St(n,0),r=this.Zr.firstAfterOrEqual(i);return F.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.ri=e,this.docs=function(){return new We(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return F.resolve(i?i.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let i=Ji();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Ut.newInvalidDocument(r))}),F.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ji();const a=n.path,o=new te(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||b3(T3(h),i)<=0||(r.has(h.key)||yf(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,i,r){ie(9500)}ii(e,n){return F.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new XV(this)}getSize(e){return F.resolve(this.size)}}class XV extends FV{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(i)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.persistence=e,this.si=new Fs(n=>Ey(n),Ty),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Iy,this.targetCount=0,this.ai=Ja.ur()}forEachTarget(e,n){return this.si.forEach((i,r)=>n(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ja(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&i.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),F.waitFor(s).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const i=this.si.get(n)||null;return F.resolve(i)}addMatchingKeys(e,n,i){return this._i.Wr(n,i),F.resolve()}removeMatchingKeys(e,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(e,a))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const i=this._i.Hr(n);return F.resolve(i)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.ui={},this.overlays={},this.ci=new ff(0),this.li=!1,this.li=!0,this.hi=new QV,this.referenceDelegate=e(this),this.Pi=new WV(this),this.indexManager=new VV,this.remoteDocumentCache=function(r){return new KV(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new OV(n),this.Ii=new GV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $V,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ui[e.toKey()];return i||(i=new YV(n,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,i){X("MemoryPersistence","Starting transaction:",e);const r=new JV(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(i=>()=>i.containsKey(e,n)))}}class JV extends A3{constructor(e){super(),this.currentSequenceNumber=e}}class ky{constructor(e){this.persistence=e,this.Ri=new Iy,this.Vi=null}static mi(e){return new ky(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),F.resolve()}removeReference(e,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,i=>{const r=te.fromPath(i);return this.gi(e,r).next(s=>{s||n.removeEntry(r,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ih{constructor(e,n){this.persistence=e,this.pi=new Fs(i=>I3(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=BV(this,n)}static mi(e,n){return new Ih(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}wr(e){let n=0;return this.pr(e,i=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(i,r)=>this.br(e,i,r).next(s=>s?F.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(o=>{o||(i++,s.removeEntry(a,oe.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}removeReference(e,n,i){return this.pi.set(i,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rc(e.data.value)),n}br(e,n,i){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return F.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Es=i,this.ds=r}static As(e,n){let i=we(),r=we();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Ry(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return FD()?8:x3(Bt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new ZV;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,i,r){return i.documentReadCount<this.fs?(ra()<=_e.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",sa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(ra()<=_e.DEBUG&&X("QueryEngine","Query:",sa(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ra()<=_e.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",sa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):F.resolve())}ys(e,n){if(q1(n))return F.resolve(null);let i=di(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Np(n,null,"F"),i=di(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const a=we(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,Np(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,i,r){return q1(n)||r.isEqual(oe.min())?F.resolve(null):this.ps.getDocuments(e,i).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,i,r)?F.resolve(null):(ra()<=_e.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sa(n)),this.vs(e,a,n,E3(r,Fl)).next(o=>o))})}Ds(e,n){let i=new vt(_x(e));return n.forEach((r,s)=>{yf(e,s)&&(i=i.add(s))}),i}Cs(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,n,i){return ra()<=_e.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",sa(n)),this.ps.getDocumentsMatchingQuery(e,n,Fr.min(),i)}vs(e,n,i,r){return this.ps.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="LocalStore",t6=3e8;class n6{constructor(e,n,i,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new We(ve),this.xs=new Fs(s=>Ey(s),Ty),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function i6(t,e,n,i){return new n6(t,e,n,i)}async function Bx(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],o=[];let l=we();for(const c of r){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function r6(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,h){const f=c.batch,d=f.keys();let p=F.resolve();return d.forEach(w=>{p=p.next(()=>h.getEntry(l,w)).next(I=>{const D=c.docVersions.get(w);Ce(D!==null,48541),I.version.compareTo(D)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(o){let l=we();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function Fx(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function s6(t,e){const n=le(t),i=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const o=[];e.targetChanges.forEach((h,f)=>{const d=r.get(f);if(!d)return;o.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,f)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Vt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,i)),r=r.insert(f,p),function(I,D,v){return I.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=t6?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,p,h)&&o.push(n.Pi.updateTargetData(s,p))});let l=Ji(),c=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(a6(s,a,e.documentUpdates).next(h=>{l=h.ks,c=h.qs})),!i.isEqual(oe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));o.push(h)}return F.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=r,s))}function a6(t,e,n){let i=we(),r=we();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let a=Ji();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(o)),l.isNoDocument()&&l.version.isEqual(oe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):X(Ny,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:r}})}function o6(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=_y),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function l6(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,e).next(s=>s?(r=s,F.resolve(r)):n.Pi.allocateTargetId(i).next(a=>(r=new Sr(e,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(e,i.targetId)),i})}async function Lp(t,e,n){const i=le(t),r=i.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!go(a))throw a;X(Ny,`Failed to update sequence numbers for target ${e}: ${a}`)}i.Ms=i.Ms.remove(e),i.xs.delete(r.target)}function nw(t,e,n){const i=le(t);let r=oe.min(),s=we();return i.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,h){const f=le(l),d=f.xs.get(h);return d!==void 0?F.resolve(f.Ms.get(d)):f.Pi.getTargetData(c,h)}(i,a,di(e)).next(o=>{if(o)return r=o.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,e,n?r:oe.min(),n?s:we())).next(o=>(u6(i,Q3(e),o),{documents:o,Qs:s})))}function u6(t,e,n){let i=t.Os.get(e)||oe.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Os.set(e,i)}class iw{constructor(){this.activeTargetIds=Z3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c6{constructor(){this.Mo=new iw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,i){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iw,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="ConnectivityMonitor";class sw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(rw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(rw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Pp(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="RestConnection",f6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===bh?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(e,n,i,r,s){const a=Pp(),o=this.zo(e,n.toUriEncodedString());X(Yd,`Sending RPC '${e}' ${a}:`,o,i);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,r,s);const{host:c}=new URL(o),h=co(c);return this.Jo(e,o,l,i,h).then(f=>(X(Yd,`Received RPC '${e}' ${a}: `,f),f),f=>{throw Ya(Yd,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",i),f})}Ho(e,n,i,r,s,a){return this.Go(e,n,i,r,s)}jo(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}zo(e,n){const i=f6[e];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class p6 extends d6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,r,s){const a=Pp();return new Promise((o,l)=>{const c=new GA;c.setWithCredentials(!0),c.listenOnce($A.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case kc.NO_ERROR:const f=c.getResponseJson();X(Pt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case kc.TIMEOUT:X(Pt,`RPC '${e}' ${a} timed out`),l(new K(j.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const d=c.getStatus();if(X(Pt,`RPC '${e}' ${a} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const w=p==null?void 0:p.error;if(w&&w.status&&w.message){const I=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(E)>=0?E:j.UNKNOWN}(w.status);l(new K(I,w.message))}else l(new K(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new K(j.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{X(Pt,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(r);X(Pt,`RPC '${e}' ${a} sending request:`,r),c.send(n,"POST",h,i,15)})}T_(e,n,i){const r=Pp(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=KA(),o=YA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");X(Pt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const f=a.createWebChannel(h,l);this.I_(f);let d=!1,p=!1;const w=new m6({Yo:D=>{p?X(Pt,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(d||(X(Pt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),d=!0),X(Pt,`RPC '${e}' stream ${r} sending:`,D),f.send(D))},Zo:()=>f.close()}),I=(D,v,E)=>{D.listen(v,T=>{try{E(T)}catch(M){setTimeout(()=>{throw M},0)}})};return I(f,Jo.EventType.OPEN,()=>{p||(X(Pt,`RPC '${e}' stream ${r} transport opened.`),w.o_())}),I(f,Jo.EventType.CLOSE,()=>{p||(p=!0,X(Pt,`RPC '${e}' stream ${r} transport closed`),w.a_(),this.E_(f))}),I(f,Jo.EventType.ERROR,D=>{p||(p=!0,Ya(Pt,`RPC '${e}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),w.a_(new K(j.UNAVAILABLE,"The operation could not be completed")))}),I(f,Jo.EventType.MESSAGE,D=>{var v;if(!p){const E=D.data[0];Ce(!!E,16349);const T=E,M=(T==null?void 0:T.error)||((v=T[0])==null?void 0:v.error);if(M){X(Pt,`RPC '${e}' stream ${r} received error:`,M);const z=M.status;let V=function(_){const y=ot[_];if(y!==void 0)return kx(y)}(z),x=M.message;V===void 0&&(V=j.INTERNAL,x="Unknown error status: "+z+" with message "+M.message),p=!0,w.a_(new K(V,x)),f.close()}else X(Pt,`RPC '${e}' stream ${r} received:`,E),w.u_(E)}}),I(o,QA.STAT_EVENT,D=>{D.stat===Sp.PROXY?X(Pt,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===Sp.NOPROXY&&X(Pt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){return new vV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&X("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="PersistentStream";class Hx{constructor(e,n,i,r,s,a,o,l){this.Mi=e,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Wi(n.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{e(()=>{const r=new K(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(e,n){const i=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g6 extends Hx{constructor(e,n,i,r,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TV(this.serializer,e),i=function(s){if(!("targetChange"in s))return oe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?oe.min():a.readTime?mi(a.readTime):oe.min()}(e);return this.listener.H_(n,i)}Y_(e){const n={};n.database=Vp(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=kp(l)?{documents:AV(s,l)}:{query:xV(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Dx(s,a.resumeToken);const c=Dp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(oe.min())>0){o.readTime=Ch(s,a.snapshotVersion.toTimestamp());const c=Dp(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const i=IV(this.serializer,e);i&&(n.labels=i),this.q_(n)}Z_(e){const n={};n.database=Vp(this.serializer),n.removeTarget=e,this.q_(n)}}class y6 extends Hx{constructor(e,n,i,r,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SV(e.writeResults,e.commitTime),i=mi(e.commitTime);return this.listener.na(i,n)}ra(){const e={};e.database=Vp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>bV(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{}class v6 extends _6{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Op(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(j.UNKNOWN,s.toString())})}Ho(e,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Op(n,i),r,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new K(j.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class w6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="RemoteStore";class E6{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{qs(this)&&(X(Ds,"Restarting streams for network reachability change."),await async function(l){const c=le(l);c.Ea.add(4),await _u(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Tf(c)}(this))})}),this.Ra=new w6(i,r)}}async function Tf(t){if(qs(t))for(const e of t.da)await e(!0)}async function _u(t){for(const e of t.da)await e(!1)}function Gx(t,e){const n=le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Vy(n)?My(n):_o(n).O_()&&Oy(n,e))}function Dy(t,e){const n=le(t),i=_o(n);n.Ia.delete(e),i.O_()&&$x(n,e),n.Ia.size===0&&(i.O_()?i.L_():qs(n)&&n.Ra.set("Unknown"))}function Oy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(t).Y_(e)}function $x(t,e){t.Va.Ue(e),_o(t).Z_(e)}function My(t){t.Va=new pV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),_o(t).start(),t.Ra.ua()}function Vy(t){return qs(t)&&!_o(t).x_()&&t.Ia.size>0}function qs(t){return le(t).Ea.size===0}function Qx(t){t.Va=void 0}async function T6(t){t.Ra.set("Online")}async function b6(t){t.Ia.forEach((e,n)=>{Oy(t,e)})}async function S6(t,e){Qx(t),Vy(t)?(t.Ra.ha(e),My(t)):t.Ra.set("Unknown")}async function A6(t,e,n){if(t.Ra.set("Online"),e instanceof Nx&&e.state===2&&e.cause)try{await async function(r,s){const a=s.cause;for(const o of s.targetIds)r.Ia.has(o)&&(await r.remoteSyncer.rejectListen(o,a),r.Ia.delete(o),r.Va.removeTarget(o))}(t,e)}catch(i){X(Ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kh(t,i)}else if(e instanceof Oc?t.Va.Ze(e):e instanceof Rx?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const i=await Fx(t.localStore);n.compareTo(i)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const h=s.Ia.get(l);if(!h)return;s.Ia.set(l,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),$x(s,l);const f=new Sr(h.target,l,c,h.sequenceNumber);Oy(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(i){X(Ds,"Failed to raise snapshot:",i),await kh(t,i)}}async function kh(t,e,n){if(!go(e))throw e;t.Ea.add(1),await _u(t),t.Ra.set("Offline"),n||(n=()=>Fx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Ds,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Tf(t)})}function Yx(t,e){return e().catch(n=>kh(t,n,e))}async function bf(t){const e=le(t),n=$r(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_y;for(;x6(e);)try{const r=await o6(e.localStore,i);if(r===null){e.Ta.length===0&&n.L_();break}i=r.batchId,C6(e,r)}catch(r){await kh(e,r)}Kx(e)&&Xx(e)}function x6(t){return qs(t)&&t.Ta.length<10}function C6(t,e){t.Ta.push(e);const n=$r(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Kx(t){return qs(t)&&!$r(t).x_()&&t.Ta.length>0}function Xx(t){$r(t).start()}async function I6(t){$r(t).ra()}async function k6(t){const e=$r(t);for(const n of t.Ta)e.ea(n.mutations)}async function R6(t,e,n){const i=t.Ta.shift(),r=Ay.from(i,e,n);await Yx(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await bf(t)}async function N6(t,e){e&&$r(t).X_&&await async function(i,r){if(function(a){return fV(a)&&a!==j.ABORTED}(r.code)){const s=i.Ta.shift();$r(i).B_(),await Yx(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await bf(i)}}(t,e),Kx(t)&&Xx(t)}async function ow(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X(Ds,"RemoteStore received new credentials");const i=qs(n);n.Ea.add(3),await _u(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Tf(n)}async function D6(t,e){const n=le(t);e?(n.Ea.delete(2),await Tf(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function _o(t){return t.ma||(t.ma=function(n,i,r){const s=le(n);return s.sa(),new g6(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:T6.bind(null,t),t_:b6.bind(null,t),r_:S6.bind(null,t),H_:A6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Vy(t)?My(t):t.Ra.set("Unknown")):(await t.ma.stop(),Qx(t))})),t.ma}function $r(t){return t.fa||(t.fa=function(n,i,r){const s=le(n);return s.sa(),new y6(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:I6.bind(null,t),r_:N6.bind(null,t),ta:k6.bind(null,t),na:R6.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await bf(t)):(await t.fa.stop(),t.Ta.length>0&&(X(Ds,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const a=Date.now()+i,o=new Ly(e,n,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Py(t,e){if(Wi("AsyncQueue",`${e}: ${t}`),go(t))return new K(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{static emptySet(e){return new Oa(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||te.comparator(n.key,i.key):(n,i)=>te.comparator(n.key,i.key),this.keyedMap=Zo(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Oa;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.ga=new We(te.comparator)}track(e){const n=e.doc.key,i=this.ga.get(n);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(n,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(n):e.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,i)=>{e.push(i)}),e}}class Za{constructor(e,n,i,r,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Za(e,n,Oa.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class M6{constructor(){this.queries=uw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=le(n),s=r.queries;r.queries=uw(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(i)})})(this,new K(j.ABORTED,"Firestore shutting down"))}}function uw(){return new Fs(t=>yx(t),gf)}async function zy(t,e){const n=le(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.ba()&&e.Da()&&(i=2):(s=new O6,i=e.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const o=Py(a,`Initialization of query '${sa(e.query)}' failed`);return void e.onError(o)}n.queries.set(r,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&jy(n)}async function Uy(t,e){const n=le(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=e.Da()?0:1:!s.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function V6(t,e){const n=le(t);let i=!1;for(const r of e){const s=r.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(r)&&(i=!0);a.wa=r}}i&&jy(n)}function L6(t,e,n){const i=le(t),r=i.queries.get(e);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(e)}function jy(t){t.Ca.forEach(e=>{e.next()})}var zp,cw;(cw=zp||(zp={})).Ma="default",cw.Cache="cache";class By{constructor(e,n,i){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Za(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.key=e}}class Jx{constructor(e){this.key=e}}class P6{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=_x(e),this.tu=new Oa(this.eu)}get nu(){return this.Ya}ru(e,n){const i=n?n.iu:new lw,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,o=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const d=r.get(h),p=yf(this.query,f)?f:null,w=!!d&&this.mutatedKeys.has(d.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let D=!1;d&&p?d.data.isEqual(p.data)?w!==I&&(i.track({type:3,doc:p}),D=!0):this.su(d,p)||(i.track({type:2,doc:p}),D=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!d&&p?(i.track({type:0,doc:p}),D=!0):d&&!p&&(i.track({type:1,doc:d}),D=!0,(l||c)&&(o=!0)),D&&(p?(a=a.add(p),s=I?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{tu:a,iu:i,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,f)=>function(p,w){const I=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:D})}};return I(p)-I(w)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(i),r=r??!1;const o=n&&!r?this._u():[],l=this.Xa.size===0&&this.current&&!r?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new Za(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return e.forEach(i=>{this.Xa.has(i)||n.push(new Jx(i))}),this.Xa.forEach(i=>{e.has(i)||n.push(new Wx(i))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Za.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fy="SyncEngine";class z6{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class U6{constructor(e){this.key=e,this.hu=!1}}class j6{constructor(e,n,i,r,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Fs(o=>yx(o),gf),this.Iu=new Map,this.Eu=new Set,this.du=new We(te.comparator),this.Au=new Map,this.Ru=new Iy,this.Vu={},this.mu=new Map,this.fu=Ja.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B6(t,e,n=!0){const i=rC(t);let r;const s=i.Tu.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await Zx(i,e,n,!0),r}async function F6(t,e){const n=rC(t);await Zx(n,e,!0,!1)}async function Zx(t,e,n,i){const r=await l6(t.localStore,di(e)),s=r.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return i&&(o=await q6(t,e,s,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&Gx(t.remoteStore,r),o}async function q6(t,e,n,i,r){t.pu=(f,d,p)=>async function(I,D,v,E){let T=D.view.ru(v);T.Cs&&(T=await nw(I.localStore,D.query,!1).then(({documents:x})=>D.view.ru(x,T)));const M=E&&E.targetChanges.get(D.targetId),z=E&&E.targetMismatches.get(D.targetId)!=null,V=D.view.applyChanges(T,I.isPrimaryClient,M,z);return fw(I,D.targetId,V.au),V.snapshot}(t,f,d,p);const s=await nw(t.localStore,e,!0),a=new P6(e,s.Qs),o=a.ru(s.documents),l=yu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=a.applyChanges(o,t.isPrimaryClient,l);fw(t,n,c.au);const h=new z6(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function H6(t,e,n){const i=le(t),r=i.Tu.get(e),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!gf(a,e))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Lp(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Dy(i.remoteStore,r.targetId),Up(i,r.targetId)}).catch(po)):(Up(i,r.targetId),await Lp(i.localStore,r.targetId,!0))}async function G6(t,e){const n=le(t),i=n.Tu.get(e),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Dy(n.remoteStore,i.targetId))}async function $6(t,e,n){const i=Z6(t);try{const r=await function(a,o){const l=le(a),c=Ge.now(),h=o.reduce((p,w)=>p.add(w.key),we());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let w=Ji(),I=we();return l.Ns.getEntries(p,h).next(D=>{w=D,w.forEach((v,E)=>{E.isValidDocument()||(I=I.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,w)).next(D=>{f=D;const v=[];for(const E of o){const T=oV(E,f.get(E.key).overlayedDocument);T!=null&&v.push(new Jr(E.key,T,ux(T.value.mapValue),Yn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,o)}).next(D=>{d=D;const v=D.applyToLocalDocumentSet(f,I);return l.documentOverlayCache.saveOverlays(p,D.batchId,v)})}).then(()=>({batchId:d.batchId,changes:wx(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new We(ve)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(i,r.batchId,n),await vu(i,r.changes),await bf(i.remoteStore)}catch(r){const s=Py(r,"Failed to persist write");n.reject(s)}}async function eC(t,e){const n=le(t);try{const i=await s6(n.localStore,e);e.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(Ce(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?Ce(a.hu,14607):r.removedDocuments.size>0&&(Ce(a.hu,42227),a.hu=!1))}),await vu(n,i,e)}catch(i){await po(i)}}function hw(t,e,n){const i=le(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&r.push(o.snapshot)}),function(a,o){const l=le(a);l.onlineState=o;let c=!1;l.queries.forEach((h,f)=>{for(const d of f.Sa)d.va(o)&&(c=!0)}),c&&jy(l)}(i.eventManager,e),r.length&&i.Pu.H_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Q6(t,e,n){const i=le(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Au.get(e),s=r&&r.key;if(s){let a=new We(te.comparator);a=a.insert(s,Ut.newNoDocument(s,oe.min()));const o=we().add(s),l=new wf(oe.min(),new Map,new We(ve),a,o);await eC(i,l),i.du=i.du.remove(s),i.Au.delete(e),qy(i)}else await Lp(i.localStore,e,!1).then(()=>Up(i,e,n)).catch(po)}async function Y6(t,e){const n=le(t),i=e.batch.batchId;try{const r=await r6(n.localStore,e);nC(n,i,null),tC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await vu(n,r)}catch(r){await po(r)}}async function K6(t,e,n){const i=le(t);try{const r=await function(a,o){const l=le(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Ce(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);nC(i,e,n),tC(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await vu(i,r)}catch(r){await po(r)}}function tC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function nC(t,e,n){const i=le(t);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Vu[i.currentUser.toKey()]=r}}function Up(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Iu.get(e))t.Tu.delete(i),n&&t.Pu.yu(i,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(i=>{t.Ru.containsKey(i)||iC(t,i)})}function iC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Dy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qy(t))}function fw(t,e,n){for(const i of n)i instanceof Wx?(t.Ru.addReference(i.key,e),X6(t,i)):i instanceof Jx?(X(Fy,"Document no longer in limbo: "+i.key),t.Ru.removeReference(i.key,e),t.Ru.containsKey(i.key)||iC(t,i.key)):ie(19791,{wu:i})}function X6(t,e){const n=e.key,i=n.path.canonicalString();t.du.get(n)||t.Eu.has(i)||(X(Fy,"New document in limbo: "+n),t.Eu.add(i),qy(t))}function qy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(ze.fromString(e)),i=t.fu.next();t.Au.set(i,new U6(n)),t.du=t.du.insert(n,i),Gx(t.remoteStore,new Sr(di(pf(n.path)),i,"TargetPurposeLimboResolution",ff.ce))}}async function vu(t,e,n){const i=le(t),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((o,l)=>{a.push(i.pu(l,e,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Ry.As(l.targetId,c);s.push(f)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(l,c){const h=le(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,d=>F.forEach(d.Es,p=>h.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>F.forEach(d.ds,p=>h.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!go(f))throw f;X(Ny,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const p=h.Ms.get(d),w=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(d,I)}}}(i.localStore,s))}async function W6(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X(Fy,"User change. New user:",e.toKey());const i=await Bx(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new K(j.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await vu(n,i.Ls)}}function J6(t,e){const n=le(t),i=n.Au.get(e);if(i&&i.hu)return we().add(i.key);{let r=we();const s=n.Iu.get(e);if(!s)return r;for(const a of s){const o=n.Tu.get(a);r=r.unionWith(o.view.nu)}return r}}function rC(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q6.bind(null,e),e.Pu.H_=V6.bind(null,e.eventManager),e.Pu.yu=L6.bind(null,e.eventManager),e}function Z6(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Y6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K6.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return i6(this.persistence,new e6,e.initialUser,this.serializer)}Cu(e){return new jx(ky.mi,this.serializer)}Du(e){return new c6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class eL extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ce(this.persistence.referenceDelegate instanceof Ih,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new UV(i,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new jx(i=>Ih.mi(i,n),this.serializer)}}class jp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=W6.bind(null,this.syncEngine),await D6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new M6}()}createDatastore(e){const n=Ef(e.databaseInfo.databaseId),i=function(s){return new p6(s)}(e.databaseInfo);return function(s,a,o,l){return new v6(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,a,o){return new E6(i,r,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>hw(this.syncEngine,n,0),function(){return sw.v()?new sw:new h6}())}createSyncEngine(e,n){return function(r,s,a,o,l,c,h){const f=new j6(r,s,a,o,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=le(r);X(Ds,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}jp.provider={build:()=>new jp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class tL{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=zt.UNAUTHENTICATED,this.clientId=yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{X(Qr,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(X(Qr,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Py(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Xd(t,e){t.asyncQueue.verifyOperationInProgress(),X(Qr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await Bx(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nL(t);X(Qr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>ow(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>ow(e.remoteStore,r)),t._onlineComponents=e}async function nL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Qr,"Using user provided OfflineComponentProvider");try{await Xd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),await Xd(t,new Rh)}}else X(Qr,"Using default OfflineComponentProvider"),await Xd(t,new eL(void 0));return t._offlineComponents}async function sC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Qr,"Using user provided OnlineComponentProvider"),await dw(t,t._uninitializedComponentsProvider._online)):(X(Qr,"Using default OnlineComponentProvider"),await dw(t,new jp))),t._onlineComponents}function iL(t){return sC(t).then(e=>e.syncEngine)}async function Nh(t){const e=await sC(t),n=e.eventManager;return n.onListen=B6.bind(null,e.syncEngine),n.onUnlisten=H6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=G6.bind(null,e.syncEngine),n}function rL(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new Hy({next:d=>{h.Nu(),a.enqueueAndForget(()=>Uy(s,f));const p=d.docs.has(o);!p&&d.fromCache?c.reject(new K(j.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new K(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new By(pf(o.path),h,{includeMetadataChanges:!0,qa:!0});return zy(s,f)}(await Nh(t),t.asyncQueue,e,n,i)),i.promise}function sL(t,e,n={}){const i=new Fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const h=new Hy({next:d=>{h.Nu(),a.enqueueAndForget(()=>Uy(s,f)),d.fromCache&&l.source==="server"?c.reject(new K(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new By(o,h,{includeMetadataChanges:!0,qa:!0});return zy(s,f)}(await Nh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firestore.googleapis.com",pw=!0;class gw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oC,this.ssl=pw}else this.host=e.host,this.ssl=e.ssl??pw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ux;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PV)throw new K(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aC(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new c3;switch(i.type){case"firstParty":return new m3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=mw.get(n);i&&(X("ComponentProvider","Removing Datastore"),mw.delete(n),i.terminate())}(this),Promise.resolve()}}function aL(t,e,n,i={}){var c;t=bn(t,Sf);const r=co(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;r&&(eA(`https://${o}`),tA("Firestore",!0)),s.host!==oC&&s.host!==o&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:r,emulatorOptions:i};if(!ks(l,a)&&(t._setSettings(l),i.mockUserToken)){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=zt.MOCK_USER;else{h=MD(i.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new K(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new zt(d)}t._authCredentials=new h3(new WA(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zr(this.firestore,e,this._query)}}class tt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(pu(n,tt._jsonSchema))return new tt(e,i||null,new te(ze.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:mt("string",tt._jsonSchemaVersion),referencePath:mt("string")};class Pr extends Zr{constructor(e,n,i){super(e,n,pf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new te(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function vo(t,e,...n){if(t=pt(t),JA("collection","path",e),t instanceof Sf){const i=ze.fromString(e,...n);return k1(i),new Pr(t,null,i)}{if(!(t instanceof tt||t instanceof Pr))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ze.fromString(e,...n));return k1(i),new Pr(t.firestore,null,i)}}function Bn(t,e,...n){if(t=pt(t),arguments.length===1&&(e=yy.newId()),JA("doc","path",e),t instanceof Sf){const i=ze.fromString(e,...n);return I1(i),new tt(t,null,new te(i))}{if(!(t instanceof tt||t instanceof Pr))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(ze.fromString(e,...n));return I1(i),new tt(t.firestore,t instanceof Pr?t.converter:null,new te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="AsyncQueue";class _w{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qx(this,"async_queue_retry"),this._c=()=>{const i=Kd();i&&X(yw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=Kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Fi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;X(yw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",vw(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Ly.createAndSchedule(this,e,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&ie(47125,{Pc:vw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function vw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Yr extends Sf{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new _w,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _w(e),this._firestoreClient=void 0,await e}}}function oL(t,e){const n=typeof t=="object"?t:uA(),i=typeof t=="string"?t:bh,r=hu(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=DD("firestore");s&&aL(r,...s)}return r}function Af(t){if(t._terminated)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lL(t),t._firestoreClient}function lL(t){var i,r,s;const e=t._freezeSettings(),n=function(o,l,c,h){return new N3(o,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((i=t._app)==null?void 0:i.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new tL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Vt.fromBase64String(e))}catch(n){throw new K(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:mt("string",Vn._jsonSchemaVersion),bytes:mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pi._jsonSchemaVersion}}static fromJSON(e){if(pu(e,pi._jsonSchema))return new pi(e.latitude,e.longitude)}}pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:mt("string",pi._jsonSchemaVersion),latitude:mt("number"),longitude:mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gi(e.vectorValues);throw new K(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:mt("string",gi._jsonSchemaVersion),vectorValues:mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=/^__.*__$/;class cL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class lC{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Jr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class Gy{constructor(e,n,i,r,s,a){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(uC(this.Ac)&&uL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Ef(e)}Cc(e,n,i,r=!1){return new Gy({Ac:e,methodName:n,Dc:i,path:Dt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $y(t){const e=t._freezeSettings(),n=Ef(t._databaseId);return new hL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function fL(t,e,n,i,r,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,r);Yy("Data must be an object, but it was:",a,i);const o=cC(i,a);let l,c;if(s.merge)l=new _n(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const d=Bp(e,f,n);if(!a.contains(d))throw new K(j.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);fC(h,d)||h.push(d)}l=new _n(h),c=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=a.fieldTransforms;return new cL(new on(o),l,c)}class If extends Cf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof If}}class Qy extends Cf{_toFieldTransform(e){return new iV(e.path,new Ql)}isEqual(e){return e instanceof Qy}}function dL(t,e,n,i){const r=t.Cc(1,e,n);Yy("Data must be an object, but it was:",r,i);const s=[],a=on.empty();Wr(i,(l,c)=>{const h=Ky(e,l,n);c=pt(c);const f=r.yc(h);if(c instanceof If)s.push(h);else{const d=wu(c,f);d!=null&&(s.push(h),a.set(h,d))}});const o=new _n(s);return new lC(a,o,r.fieldTransforms)}function mL(t,e,n,i,r,s){const a=t.Cc(1,e,n),o=[Bp(e,i,n)],l=[r];if(s.length%2!=0)throw new K(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)o.push(Bp(e,s[d])),l.push(s[d+1]);const c=[],h=on.empty();for(let d=o.length-1;d>=0;--d)if(!fC(c,o[d])){const p=o[d];let w=l[d];w=pt(w);const I=a.yc(p);if(w instanceof If)c.push(p);else{const D=wu(w,I);D!=null&&(c.push(p),h.set(p,D))}}const f=new _n(c);return new lC(h,f,a.fieldTransforms)}function pL(t,e,n,i=!1){return wu(n,t.Cc(i?4:3,e))}function wu(t,e){if(hC(t=pt(t)))return Yy("Unsupported field value:",e,t),cC(t,e);if(t instanceof Cf)return function(i,r){if(!uC(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const o of i){let l=wu(o,r.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return eV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ge.fromDate(i);return{timestampValue:Ch(r.serializer,s)}}if(i instanceof Ge){const s=new Ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ch(r.serializer,s)}}if(i instanceof pi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vn)return{bytesValue:Dx(r.serializer,i._byteString)};if(i instanceof tt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Cy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof gi)return function(a,o){return{mapValue:{fields:{[ox]:{stringValue:lx},[Sh]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return by(o.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${hf(i)}`)}(t,e)}function cC(t,e){const n={};return tx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(i,r)=>{const s=wu(r,e.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function hC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof pi||t instanceof Vn||t instanceof tt||t instanceof Cf||t instanceof gi)}function Yy(t,e,n){if(!hC(n)||!ZA(n)){const i=hf(n);throw i==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+i)}}function Bp(t,e,n){if((e=pt(e))instanceof xf)return e._internalPath;if(typeof e=="string")return Ky(t,e);throw Dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const gL=new RegExp("[~\\*/\\[\\]]");function Ky(t,e,n){if(e.search(gL)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dh(t,e,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${r}`),l+=")"),new K(j.INVALID_ARGUMENT,o+t+l)}function fC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yL extends dC{data(){return super.data()}}function kf(t,e){return typeof e=="string"?Ky(t,e):e instanceof xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xy{}class pC extends Xy{}function Rf(t,e,...n){let i=[];e instanceof Xy&&i.push(e),i=i.concat(n),function(s){const a=s.filter(l=>l instanceof Wy).length,o=s.filter(l=>l instanceof Nf).length;if(a>1||a>0&&o>0)throw new K(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Nf extends pC{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Nf(e,n,i)}_apply(e){const n=this._parse(e);return gC(e._query,n),new Zr(e.firestore,e.converter,Rp(e._query,n))}_parse(e){const n=$y(e.firestore);return function(s,a,o,l,c,h,f){let d;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Tw(f,h);const w=[];for(const I of f)w.push(Ew(l,s,I));d={arrayValue:{values:w}}}else d=Ew(l,s,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Tw(f,h),d=pL(o,a,f,h==="in"||h==="not-in");return ft.create(c,h,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Fp(t,e,n){const i=e,r=kf("where",t);return Nf._create(r,i,n)}class Wy extends Xy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wy(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let a=r;const o=s.getFlattenedFilters();for(const l of o)gC(a,l),a=Rp(a,l)}(e._query,n),new Zr(e.firestore,e.converter,Rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Jy extends pC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Jy(e,n)}_apply(e){const n=function(r,s,a){if(r.startAt!==null)throw new K(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(s,a)}(e._query,this._field,this._direction);return new Zr(e.firestore,e.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new yo(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Zy(t,e="asc"){const n=e,i=kf("orderBy",t);return Jy._create(i,n)}function Ew(t,e,n){if(typeof(n=pt(n))=="string"){if(n==="")throw new K(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gx(e)&&n.indexOf("/")!==-1)throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ze.fromString(n));if(!te.isDocumentKey(i))throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return P1(t,new te(i))}if(n instanceof tt)return P1(t,n._key);throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hf(n)}.`)}function Tw(t,e){if(!Array.isArray(t)||t.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gC(t,e){const n=function(r,s){for(const a of r)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class _L{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Wr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var i,r,s;const n=(s=(r=(i=e.fields)==null?void 0:i[Sh].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>rt(a.doubleValue));return new gi(n)}convertGeoPoint(e){return new pi(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=mf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const n=qr(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ze.fromString(e);Ce(zx(i),9688,{name:e});const r=new Hl(i.get(1),i.get(3)),s=new te(i.popFirst(5));return r.isEqual(n)||Wi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ts extends dC{constructor(e,n,i,r,s,a){super(e,n,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(kf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ts._jsonSchema={type:mt("string",Ts._jsonSchemaVersion),bundleSource:mt("string","DocumentSnapshot"),bundleName:mt("string"),bundle:mt("string")};class Mc extends Ts{data(e={}){return super.data(e)}}class bs{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new tl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Mc(this._firestore,this._userDataWriter,i.key,i,new tl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(o=>{const l=new Mc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new tl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new Mc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new tl(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:wL(o.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=bs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function wL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(t){t=bn(t,tt);const e=bn(t.firestore,Yr);return rL(Af(e),t._key).then(n=>_C(e,t,n))}bs._jsonSchemaVersion="firestore/querySnapshot/1.0",bs._jsonSchema={type:mt("string",bs._jsonSchemaVersion),bundleSource:mt("string","QuerySnapshot"),bundleName:mt("string"),bundle:mt("string")};class e_ extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function t_(t){t=bn(t,Zr);const e=bn(t.firestore,Yr),n=Af(e),i=new e_(e);return mC(t._query),sL(n,t._query).then(r=>new bs(e,i,t,r))}function Hs(t,e,n){t=bn(t,tt);const i=bn(t.firestore,Yr),r=vL(t.converter,e,n);return r_(i,[fL($y(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Yn.none())])}function n_(t,e,n,...i){t=bn(t,tt);const r=bn(t.firestore,Yr),s=$y(r);let a;return a=typeof(e=pt(e))=="string"||e instanceof xf?mL(s,"updateDoc",t._key,e,n,i):dL(s,"updateDoc",t._key,e),r_(r,[a.toMutation(t._key,Yn.exists(!0))])}function i_(t){return r_(bn(t.firestore,Yr),[new Sy(t._key,Yn.none())])}function yC(t,...e){var l,c,h;t=pt(t);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||ww(e[i])||(n=e[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(ww(e[i])){const f=e[i];e[i]=(l=f.next)==null?void 0:l.bind(f),e[i+1]=(c=f.error)==null?void 0:c.bind(f),e[i+2]=(h=f.complete)==null?void 0:h.bind(f)}let s,a,o;if(t instanceof tt)a=bn(t.firestore,Yr),o=pf(t._key.path),s={next:f=>{e[i]&&e[i](_C(a,t,f))},error:e[i+1],complete:e[i+2]};else{const f=bn(t,Zr);a=bn(f.firestore,Yr),o=f._query;const d=new e_(a);s={next:p=>{e[i]&&e[i](new bs(a,d,f,p))},error:e[i+1],complete:e[i+2]},mC(t._query)}return function(d,p,w,I){const D=new Hy(I),v=new By(p,D,w);return d.asyncQueue.enqueueAndForget(async()=>zy(await Nh(d),v)),()=>{D.Nu(),d.asyncQueue.enqueueAndForget(async()=>Uy(await Nh(d),v))}}(Af(a),o,r,s)}function r_(t,e){return function(i,r){const s=new Fi;return i.asyncQueue.enqueueAndForget(async()=>$6(await iL(i),r,s)),s.promise}(Af(t),e)}function _C(t,e,n){const i=n.docs.get(e._key),r=new e_(t);return new Ts(t,r,e._key,i,new tl(n.hasPendingWrites,n.fromCache),e.converter)}function vi(){return new Qy("serverTimestamp")}(function(e,n=!0){(function(r){mo=r})(ho),yi(new Xn("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new Yr(new f3(i.getProvider("auth-internal")),new p3(a,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(c.options.projectId,h)}(a,r),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),zn(S1,A1,e),zn(S1,A1,"esm2020")})();const vC="@firebase/installations",s_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1e4,EC=`w:${s_}`,TC="FIS_v2",EL="https://firebaseinstallations.googleapis.com/v1",TL=60*60*1e3,bL="installations",SL="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Os=new Bs(bL,SL,AL);function bC(t){return t instanceof Zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC({projectId:t}){return`${EL}/projects/${t}/installations`}function AC(t){return{token:t.token,requestStatus:2,expiresIn:CL(t.expiresIn),creationTime:Date.now()}}async function xC(t,e){const i=(await e.json()).error;return Os.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function CC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xL(t,{refreshToken:e}){const n=CC(t);return n.append("Authorization",IL(e)),n}async function IC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function CL(t){return Number(t.replace("s","000"))}function IL(t){return`${TC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kL({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=SC(t),r=CC(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={fid:n,authVersion:TC,appId:t.appId,sdkVersion:EC},o={method:"POST",headers:r,body:JSON.stringify(a)},l=await IC(()=>fetch(i,o));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:AC(c.authToken)}}else throw await xC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=/^[cdef][\w-]{21}$/,qp="";function DL(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=OL(t);return NL.test(n)?n:qp}catch{return qp}}function OL(t){return RL(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new Map;function NC(t,e){const n=Df(t);DC(n,e),ML(n,e)}function DC(t,e){const n=RC.get(t);if(n)for(const i of n)i(e)}function ML(t,e){const n=VL();n&&n.postMessage({key:t,fid:e}),LL()}let ps=null;function VL(){return!ps&&"BroadcastChannel"in self&&(ps=new BroadcastChannel("[Firebase] FID Change"),ps.onmessage=t=>{DC(t.data.key,t.data.fid)}),ps}function LL(){RC.size===0&&ps&&(ps.close(),ps=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="firebase-installations-database",zL=1,Ms="firebase-installations-store";let Wd=null;function a_(){return Wd||(Wd=oA(PL,zL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ms)}}})),Wd}async function Oh(t,e){const n=Df(t),r=(await a_()).transaction(Ms,"readwrite"),s=r.objectStore(Ms),a=await s.get(n);return await s.put(e,n),await r.done,(!a||a.fid!==e.fid)&&NC(t,e.fid),e}async function OC(t){const e=Df(t),i=(await a_()).transaction(Ms,"readwrite");await i.objectStore(Ms).delete(e),await i.done}async function Of(t,e){const n=Df(t),r=(await a_()).transaction(Ms,"readwrite"),s=r.objectStore(Ms),a=await s.get(n),o=e(a);return o===void 0?await s.delete(n):await s.put(o,n),await r.done,o&&(!a||a.fid!==o.fid)&&NC(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o_(t){let e;const n=await Of(t.appConfig,i=>{const r=UL(i),s=jL(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===qp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function UL(t){const e=t||{fid:DL(),registrationStatus:0};return MC(e)}function jL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Os.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=BL(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FL(t)}:{installationEntry:e}}async function BL(t,e){try{const n=await kL(t,e);return Oh(t.appConfig,n)}catch(n){throw bC(n)&&n.customData.serverCode===409?await OC(t.appConfig):await Oh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FL(t){let e=await bw(t.appConfig);for(;e.registrationStatus===1;)await kC(100),e=await bw(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await o_(t);return i||n}return e}function bw(t){return Of(t,e=>{if(!e)throw Os.create("installation-not-found");return MC(e)})}function MC(t){return qL(t)?{fid:t.fid,registrationStatus:0}:t}function qL(t){return t.registrationStatus===1&&t.registrationTime+wC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL({appConfig:t,heartbeatServiceProvider:e},n){const i=GL(t,n),r=xL(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&r.append("x-firebase-client",c)}const a={installation:{sdkVersion:EC,appId:t.appId}},o={method:"POST",headers:r,body:JSON.stringify(a)},l=await IC(()=>fetch(i,o));if(l.ok){const c=await l.json();return AC(c)}else throw await xC("Generate Auth Token",l)}function GL(t,{fid:e}){return`${SC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l_(t,e=!1){let n;const i=await Of(t.appConfig,s=>{if(!VC(s))throw Os.create("not-registered");const a=s.authToken;if(!e&&YL(a))return s;if(a.requestStatus===1)return n=$L(t,e),s;{if(!navigator.onLine)throw Os.create("app-offline");const o=XL(s);return n=QL(t,o),o}});return n?await n:i.authToken}async function $L(t,e){let n=await Sw(t.appConfig);for(;n.authToken.requestStatus===1;)await kC(100),n=await Sw(t.appConfig);const i=n.authToken;return i.requestStatus===0?l_(t,e):i}function Sw(t){return Of(t,e=>{if(!VC(e))throw Os.create("not-registered");const n=e.authToken;return WL(n)?{...e,authToken:{requestStatus:0}}:e})}async function QL(t,e){try{const n=await HL(t,e),i={...e,authToken:n};return await Oh(t.appConfig,i),n}catch(n){if(bC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OC(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Oh(t.appConfig,i)}throw n}}function VC(t){return t!==void 0&&t.registrationStatus===2}function YL(t){return t.requestStatus===2&&!KL(t)}function KL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+TL}function XL(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function WL(t){return t.requestStatus===1&&t.requestTime+wC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t){const e=t,{installationEntry:n,registrationPromise:i}=await o_(e);return i?i.catch(console.error):l_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e=!1){const n=t;return await eP(n),(await l_(n,e)).token}async function eP(t){const{registrationPromise:e}=await o_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t){if(!t||!t.options)throw Jd("App Configuration");if(!t.name)throw Jd("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Jd(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Jd(t){return Os.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="installations",nP="installations-internal",iP=t=>{const e=t.getProvider("app").getImmediate(),n=tP(e),i=hu(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},rP=t=>{const e=t.getProvider("app").getImmediate(),n=hu(e,LC).getImmediate();return{getId:()=>JL(n),getToken:r=>ZL(n,r)}};function sP(){yi(new Xn(LC,iP,"PUBLIC")),yi(new Xn(nP,rP,"PRIVATE"))}sP();zn(vC,s_);zn(vC,s_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="analytics",aP="firebase_id",oP="origin",lP=60*1e3,uP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",u_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt=new of("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new Bs("analytics","Analytics",cP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t){if(!t.startsWith(u_)){const e=Un.create("invalid-gtag-resource",{gtagURL:t});return Yt.warn(e.message),""}return t}function PC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function dP(t,e){const n=fP("firebase-js-sdk-policy",{createScriptURL:hP}),i=document.createElement("script"),r=`${u_}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function mP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function pP(t,e,n,i,r,s){const a=i[r];try{if(a)await e[a];else{const l=(await PC(n)).find(c=>c.measurementId===r);l&&await e[l.appId]}}catch(o){Yt.error(o)}t("config",r,s)}async function gP(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const o=await PC(n);for(const l of a){const c=o.find(f=>f.measurementId===l),h=c&&e[c.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){Yt.error(s)}}function yP(t,e,n,i){async function r(s,...a){try{if(s==="event"){const[o,l]=a;await gP(t,e,n,o,l)}else if(s==="config"){const[o,l]=a;await pP(t,e,n,i,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,c]=a;t("get",o,l,c)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){Yt.error(o)}}return r}function _P(t,e,n,i,r){let s=function(...a){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=yP(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function vP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(u_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=30,EP=1e3;class TP{constructor(e={},n=EP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const zC=new TP;function bP(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function SP(t){var a;const{appId:e,apiKey:n}=t,i={method:"GET",headers:bP(n)},r=uP.replace("{app-id}",e),s=await fetch(r,i);if(s.status!==200&&s.status!==304){let o="";try{const l=await s.json();(a=l.error)!=null&&a.message&&(o=l.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function AP(t,e=zC,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw Un.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Un.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new IP;return setTimeout(async()=>{o.abort()},lP),UC({appId:i,apiKey:r,measurementId:s},a,o,e)}async function UC(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=zC){var o;const{appId:s,measurementId:a}=t;try{await xP(i,e)}catch(l){if(a)return Yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await SP(t);return r.deleteThrottleMetadata(s),l}catch(l){const c=l;if(!CP(c)){if(r.deleteThrottleMetadata(s),a)return Yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw l}const h=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?W0(n,r.intervalMillis,wP):W0(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return r.setThrottleMetadata(s,f),Yt.debug(`Calling attemptFetch again in ${h} millis`),UC(t,f,i,r)}}function xP(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function CP(t){if(!(t instanceof Zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class IP{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kP(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const s=await e,a={...i,send_to:s};t("event",n,a)}}async function RP(t,e,n,i){if(i&&i.global){const r={};for(const s of Object.keys(n))r[`user_properties.${s}`]=n[s];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(){if(iA())try{await rA()}catch(t){return Yt.warn(Un.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yt.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function DP(t,e,n,i,r,s,a){const o=AP(t);o.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&Yt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Yt.error(d)),e.push(o);const l=NP().then(d=>{if(d)return i.getId()}),[c,h]=await Promise.all([o,l]);vP(s)||dP(s,c.measurementId),r("js",new Date);const f=(a==null?void 0:a.config)??{};return f[oP]="firebase",f.update=!0,h!=null&&(f[aP]=h),r("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.app=e}_delete(){return delete Ma[this.app.options.appId],Promise.resolve()}}let Ma={},xw=[];const Cw={};let Zd="dataLayer",MP="gtag",Iw,c_,kw=!1;function VP(){const t=[];if(nA()&&t.push("This is a browser extension environment."),qD()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Un.create("invalid-analytics-context",{errorInfo:e});Yt.warn(n.message)}}function LP(t,e,n){VP();const i=t.options.appId;if(!i)throw Un.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(Ma[i]!=null)throw Un.create("already-exists",{id:i});if(!kw){mP(Zd);const{wrappedGtag:s,gtagCore:a}=_P(Ma,xw,Cw,Zd,MP);c_=s,Iw=a,kw=!0}return Ma[i]=DP(t,xw,Cw,e,Iw,Zd,n),new OP(t)}function PP(t,e,n){t=pt(t),RP(c_,Ma[t.app.options.appId],e,n).catch(i=>Yt.error(i))}function zP(t,e,n,i){t=pt(t),kP(c_,Ma[t.app.options.appId],e,n,i).catch(r=>Yt.error(r))}const Rw="@firebase/analytics",Nw="0.10.19";function UP(){yi(new Xn(Aw,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return LP(i,r,n)},"PUBLIC")),yi(new Xn("analytics-internal",t,"PRIVATE")),zn(Rw,Nw),zn(Rw,Nw,"esm2020");function t(e){try{const n=e.getProvider(Aw).getImmediate();return{logEvent:(i,r,s)=>zP(n,i,r,s),setUserProperties:(i,r)=>PP(n,i,r)}}catch(n){throw Un.create("interop-component-reg-failed",{reason:n})}}}UP();const jP={apiKey:"AIzaSyAPA95DcThrXBxA9VXtooGpYGwp8hDUfQA",authDomain:"horizon-30aa6.firebaseapp.com",projectId:"horizon-30aa6",storageBucket:"horizon-30aa6.firebasestorage.app",messagingSenderId:"1021420058440",appId:"1:1021420058440:web:df604e11c37cfc63d4257d",measurementId:"G-98C90DF795"},jC=lA(jP),h_=a3(jC),Lt=oL(jC);async function BP(){try{const t=await new Promise((i,r)=>{chrome.identity.getAuthToken({interactive:!0},s=>{chrome.runtime.lastError?r(new Error(chrome.runtime.lastError.message)):s?i(s):r(new Error("No token received"))})}),e=Oi.credential(null,t);return(await GO(h_,e)).user}catch(t){throw console.error("Sign in error:",t),t}}async function FP(){await KO(h_)}function qP(t){return YO(h_,t)}const HP=["nature","travel","architecture","earth"],BC="horizon_all_wallpapers",FC="horizon_current_wallpaper";function GP(){try{const t=localStorage.getItem(BC);if(!t)return null;const e=JSON.parse(t);return Date.now()-e.cachedAt<60*60*1e3?e.wallpapers:null}catch{return null}}function $P(t){try{const e={wallpapers:t,cachedAt:Date.now()};localStorage.setItem(BC,JSON.stringify(e))}catch(e){console.error("Failed to cache wallpapers:",e)}}async function QP(){try{const t=[],e=HP.map(async i=>{const r=vo(Lt,"wallpapers",i,"photos"),s=Rf(r,Zy("createdAt","desc"));return(await t_(s)).docs.map(o=>o.data())});return(await Promise.all(e)).forEach(i=>t.push(...i)),t.length>0&&$P(t),console.log(`Fetched ${t.length} wallpapers from all categories`),t}catch(t){return console.error("Failed to fetch wallpapers from Firestore:",t),[]}}async function YP(){const t=GP();return t&&t.length>0?(console.log(`Using ${t.length} cached wallpapers`),t):(console.log("Fetching wallpapers from Firestore..."),QP())}async function qC(){const t=await YP();if(t.length===0)return console.warn("No wallpapers found"),null;const e=Math.floor(Math.random()*t.length);return console.log(`Random wallpaper: ${e+1}/${t.length}`),t[e]}function KP(){try{const t=localStorage.getItem(FC);return t?JSON.parse(t).wallpaper:null}catch{return null}}function Hp(t){try{const e={wallpaper:t,setAt:Date.now()};localStorage.setItem(FC,JSON.stringify(e))}catch(e){console.error("Failed to save current wallpaper:",e)}}async function XP(){const t=KP();if(t)return console.log("Using saved current wallpaper"),t;console.log("No current wallpaper, getting random");const e=await qC();return e&&Hp(e),e}const HC={auto:!0,cityName:"Shanghai",lat:31.23,lon:121.47},eo={weather:HC,clockFormat:"24h",showQuote:!0};async function GC(t){const e=Bn(Lt,"users",t),n=await wo(e);if(n.exists()){const i=n.data();if(i.settings)return{weather:i.settings.weather||HC,clockFormat:i.settings.clockFormat||"24h",showQuote:i.settings.showQuote??!0}}return await Hs(e,{settings:eo,updatedAt:vi()},{merge:!0}),eo}async function Ta(t,e){const n=Bn(Lt,"users",t),i=await wo(n);if(i.exists()){const r=i.data().settings||eo;await n_(n,{settings:{...r,weather:e},updatedAt:vi()})}else await Hs(n,{settings:{...eo,weather:e},updatedAt:vi()})}async function WP(t,e){const n=Bn(Lt,"users",t),i=await wo(n);if(i.exists()){const r=i.data().settings||eo;await n_(n,{settings:{...r,clockFormat:e},updatedAt:vi()})}else await Hs(n,{settings:{...eo,clockFormat:e},updatedAt:vi()})}const JP={maxFavorites:9,maxTodoLists:1};function ZP(){return JP}const Dw="today";async function $C(t){const e=Bn(Lt,"users",t,"todolists",Dw);return(await wo(e)).exists()||await Hs(e,{name:"Today",order:0,isDefault:!0,createdAt:vi()}),Dw}function QC(t,e,n){const i=vo(Lt,"users",t,"todos"),r=Rf(i,Fp("listId","==",e),Zy("createdAt","desc"));return yC(r,s=>{const a=s.docs.map(o=>{var l,c;return{id:o.id,...o.data(),createdAt:((l=o.data().createdAt)==null?void 0:l.toDate())||new Date,updatedAt:((c=o.data().updatedAt)==null?void 0:c.toDate())||new Date}});n(a)})}async function YC(t,e,n){const i=vo(Lt,"users",t,"todos"),r=Bn(i);return await Hs(r,{text:e,completed:!1,listId:n,createdAt:vi(),updatedAt:vi()}),r.id}async function KC(t,e,n){const i=Bn(Lt,"users",t,"todos",e);await n_(i,{completed:n,updatedAt:vi()})}async function XC(t,e){const n=Bn(Lt,"users",t,"todos",e);await i_(n)}async function WC(t,e){const n=vo(Lt,"users",t,"todos"),i=Rf(n,Fp("listId","==",e),Fp("completed","==",!0)),s=(await t_(i)).docs.map(a=>i_(a.ref));await Promise.all(s)}async function e5(t){const e=Bn(Lt,"users",t),n=await wo(e);return n.exists()&&n.data().nickname||null}async function t5(t,e){const n=Bn(Lt,"users",t);await Hs(n,{nickname:e},{merge:!0})}async function n5(t,e){const n=Bn(Lt,"users",t,"favorites",e);return(await wo(n)).exists()}async function i5(t,e){const n=Bn(Lt,"users",t,"favorites",e.id);await Hs(n,{...e,createdAt:vi()})}async function JC(t,e){const n=Bn(Lt,"users",t,"favorites",e);await i_(n)}async function r5(t){const e=vo(Lt,"users",t,"favorites");return(await t_(e)).size}async function s5(t){const e=ZP();return await r5(t)<e.maxFavorites}function a5(t,e){const n=vo(Lt,"users",t,"favorites"),i=Rf(n,Zy("createdAt","desc"));return yC(i,r=>{const s=r.docs.map(a=>{var o;return{...a.data(),id:a.id,createdAt:((o=a.data().createdAt)==null?void 0:o.toDate())||new Date}});e(s)})}function o5(t){return t>=5&&t<12?"Good Morning":t>=12&&t<18?"Good Afternoon":t>=18&&t<22?"Good Evening":"Good Night"}function l5(t,e){if(e==="12h"){const n=t.toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"2-digit"}),i=n.match(/^(.+?)\s*(AM|PM)$/i);return i?{time:i[1],period:i[2].toUpperCase()}:{time:n}}return{time:t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"})}}function u5({userName:t,nickname:e,onNicknameChange:n,clockFormat:i="24h",isWorkMode:r=!1}){const[s,a]=q.useState(new Date),[o,l]=q.useState(!1),[c,h]=q.useState(""),f=q.useRef(null);q.useEffect(()=>{const T=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(T)},[]),q.useEffect(()=>{o&&f.current&&(f.current.focus(),f.current.select())},[o]);const d=o5(s.getHours()),p=e||t||"there",w=()=>{n&&(h(p==="there"?"":p),l(!0))},I=()=>{const T=c.trim();T&&T!==p&&n&&n(T),l(!1)},D=T=>{T.key==="Enter"?I():T.key==="Escape"&&l(!1)},v=()=>{I()},E=l5(s,i);return R.jsxs("div",{className:`select-none transition-all duration-700 ease-in-out ${r?"text-right":"text-center"}`,children:[R.jsxs("div",{className:"relative inline-block",children:[R.jsx("h1",{className:`leading-none font-normal tracking-tight text-transparent bg-clip-text bg-gradient-to-b from-white to-white/70 drop-shadow-2xl font-clock transition-all duration-700 ease-in-out ${r?"text-[3rem] md:text-[4rem]":"text-[8rem] md:text-[11rem]"}`,children:E.time}),E.period&&R.jsx("span",{className:`absolute font-clock text-white/60 font-light transition-all duration-700 ease-in-out ${r?"-right-8 md:-right-10 top-1 md:top-2 text-[1rem] md:text-[1.25rem]":"-right-12 md:-right-16 top-4 md:top-6 text-[1.5rem] md:text-[2rem]"}`,children:E.period})]}),R.jsxs("h2",{className:`mt-4 text-2xl md:text-3xl font-serif-elegant italic text-white/80 drop-shadow-md font-normal transition-all duration-500 ease-in-out ${r?"opacity-0 h-0 mt-0 overflow-hidden":"opacity-100"}`,children:[d,","," ",o?R.jsx("input",{ref:f,type:"text",value:c,onChange:T=>h(T.target.value),onKeyDown:D,onBlur:v,maxLength:30,className:"bg-transparent border-b border-white/40 outline-none text-white/80 font-serif-elegant italic w-32 md:w-40 text-center",placeholder:"Your name"}):R.jsx("span",{onDoubleClick:w,className:n?"cursor-pointer hover:text-white transition-colors":"",title:n?"Double-click to edit":void 0,children:p})]})]})}function Gp(){return(navigator.language||"en")==="en-US"?"imperial":"metric"}function c5(t){return Math.round(t*9/5+32)}const ZC="horizon_weather_settings",nl={lat:31.23,lon:121.47,cityName:"Shanghai"};function h5(t){return t===0?_D:t>=1&&t<=3?BS:t>=45&&t<=48?HN:t>=51&&t<=67?YN:t>=71&&t<=86?XN:t>=95?$N:ZN}function f5(t){return t===0?"Clear":t===1?"Mainly Clear":t===2?"Partly Cloudy":t===3?"Overcast":t>=45&&t<=48?"Foggy":t>=51&&t<=57?"Drizzle":t>=61&&t<=67?"Rainy":t>=71&&t<=77?"Snowy":t>=80&&t<=82?"Showers":t>=85&&t<=86?"Snow Showers":t>=95?"Thunderstorm":"Cloudy"}function em(){try{const t=localStorage.getItem(ZC);if(t){const e=JSON.parse(t);return{...e,unit:e.unit||Gp()}}}catch{}return{isAuto:!0,...nl,unit:Gp()}}function Ho(t){try{localStorage.setItem(ZC,JSON.stringify(t))}catch{}}async function d5(t,e){var n,i,r,s,a,o;try{const l=`https://nominatim.openstreetmap.org/reverse?lat=${t}&lon=${e}&format=json&accept-language=en`,c=await fetch(l,{headers:{"User-Agent":"HorizonNewTab/1.0"}});if(!c.ok)return{city:"Unknown",countryCode:""};const h=await c.json(),f=((n=h.address)==null?void 0:n.city)||((i=h.address)==null?void 0:i.town)||((r=h.address)==null?void 0:r.village)||((s=h.address)==null?void 0:s.county)||"Unknown",d=((o=(a=h.address)==null?void 0:a.country_code)==null?void 0:o.toUpperCase())||"";return{city:f.replace(/\s*(City|District|County|Prefecture)$/i,"").trim(),countryCode:d}}catch{return{city:"Unknown",countryCode:""}}}const m5=["US","PR","GU","VI","AS","MP"];function p5(t){return m5.includes(t)?"imperial":"metric"}async function g5(t){try{const e=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(t)}&count=1&language=en&format=json`,n=await fetch(e);if(!n.ok)return null;const i=await n.json();if(i.results&&i.results.length>0){const r=i.results[0];return{lat:r.latitude,lon:r.longitude,name:r.name+(r.country?`, ${r.country_code}`:"")}}return null}catch{return null}}async function y5(t,e,n){const i=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${e}&current=temperature_2m,weather_code&timezone=auto`);if(!i.ok)throw new Error("Failed to fetch weather");const r=await i.json();let s,a="";if(n)s=n;else{const o=await d5(t,e);s=o.city,a=o.countryCode}return{temperature:Math.round(r.current.temperature_2m),weatherCode:r.current.weather_code,city:s,countryCode:a}}function _5(){return new Promise(t=>{if(!navigator.geolocation){t({latitude:nl.lat,longitude:nl.lon});return}navigator.geolocation.getCurrentPosition(e=>{t({latitude:e.coords.latitude,longitude:e.coords.longitude})},()=>t({latitude:nl.lat,longitude:nl.lon}),{enableHighAccuracy:!1,timeout:5e3,maximumAge:6e5})})}function v5({onWeatherChange:t,userId:e,refreshTrigger:n}){const[i,r]=q.useState(null),[s,a]=q.useState(!0),[o,l]=q.useState(!1),[c,h]=q.useState(em),[f,d]=q.useState(""),[p,w]=q.useState(!1),[I,D]=q.useState(!1),v=q.useRef(null),E=async _=>{try{a(!0);let y,b,k;if(_.isAuto){const Y=await _5();y=Y.latitude,b=Y.longitude,k=void 0}else y=_.lat,b=_.lon,k=_.cityName;const C=await y5(y,b,k);r(C);let W={..._},Z=!1;if(!_.unitInitialized&&C.countryCode){const Y=p5(C.countryCode);W={...W,unit:Y,unitInitialized:!0},Z=!0,console.log(`Temperature unit initialized to ${Y} based on country: ${C.countryCode}`)}if(_.isAuto&&C.city!==_.cityName&&(W={...W,lat:y,lon:b,cityName:C.city},Z=!0),Z&&(h(W),Ho(W),e)){const Y={auto:W.isAuto,lat:W.lat,lon:W.lon,cityName:W.cityName,unit:W.unit};Ta(e,Y).catch(ee=>console.error("Failed to sync weather settings to cloud:",ee))}const H=f5(C.weatherCode);t==null||t(H)}catch(y){console.error("Weather error:",y)}finally{a(!1)}};q.useEffect(()=>{E(c);const _=setInterval(()=>E(c),30*60*1e3);return()=>clearInterval(_)},[]),q.useEffect(()=>{if(!e||I)return;(async()=>{try{const b=(await GC(e)).weather,k={isAuto:b.auto,lat:b.lat,lon:b.lon,cityName:b.cityName,unit:b.unit||Gp()},C=em();(C.isAuto!==k.isAuto||C.lat!==k.lat||C.lon!==k.lon||C.cityName!==k.cityName||C.unit!==k.unit)&&(Ho(k),h(k),await E(k)),D(!0)}catch(y){console.error("Failed to sync weather settings:",y),D(!0)}})()},[e,I]),q.useEffect(()=>{if(n!==void 0&&n>0){const _=em();h(_),E(_)}},[n]),q.useEffect(()=>{const _=y=>{v.current&&!v.current.contains(y.target)&&l(!1)};return o&&document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[o]);const T=async()=>{const _=!c.isAuto,y={...c,isAuto:_};if(h(y),Ho(y),e){const b={auto:y.isAuto,lat:y.lat,lon:y.lon,cityName:y.cityName,unit:y.unit};Ta(e,b).catch(k=>console.error("Failed to sync weather settings to cloud:",k))}_&&await E(y)},M=()=>{const _=c.unit==="metric"?"imperial":"metric",y={...c,unit:_,unitInitialized:!0};if(h(y),Ho(y),e){const b={auto:y.isAuto,lat:y.lat,lon:y.lon,cityName:y.cityName,unit:_};Ta(e,b).catch(k=>console.error("Failed to sync weather settings to cloud:",k))}},z=async()=>{if(f.trim()){w(!0);try{const _=await g5(f.trim());if(_){const y={isAuto:!1,lat:_.lat,lon:_.lon,cityName:_.name};if(h(y),Ho(y),d(""),await E(y),e){const b={auto:!1,lat:_.lat,lon:_.lon,cityName:_.name,unit:c.unit};Ta(e,b).catch(k=>console.error("Failed to sync weather settings to cloud:",k))}}}finally{w(!1)}}},V=_=>{_.key==="Enter"&&z()},x=i?c.unit==="imperial"?c5(i.temperature):i.temperature:null;if(c.unit,s&&!i)return R.jsxs("div",{className:"flex flex-col items-end text-right px-3 py-2 -mr-3 -mt-2",children:[R.jsxs("div",{className:"flex items-center gap-2.5",children:[R.jsx("span",{className:"font-clock text-3xl leading-none text-white/40",children:"--"}),R.jsx(BS,{size:24,className:"text-white/40"})]}),R.jsx("span",{className:"text-[11px] text-white/30 font-medium tracking-[0.12em] uppercase mt-1.5",children:"Loading..."})]});if(!i)return null;const A=h5(i.weatherCode);return R.jsxs("div",{className:"relative",ref:v,children:[R.jsxs("button",{onClick:()=>l(!o),className:"flex flex-col items-end text-right rounded-lg px-3 py-2 -mr-3 -mt-2 hover:bg-white/10 transition-colors cursor-pointer",children:[R.jsxs("div",{className:"flex items-center gap-2.5",children:[R.jsxs("span",{className:"font-clock text-3xl leading-none text-white/90",children:[x,""]}),R.jsx(A,{size:24,className:"text-white/80"})]}),R.jsx("span",{className:"text-[11px] text-white/60 font-medium tracking-[0.12em] uppercase mt-1.5",children:i.city})]}),o&&R.jsxs("div",{className:"absolute top-full right-0 mt-2 w-64 bg-[#0a0a0a]/90 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-modal-content",children:[R.jsx("div",{className:"p-4 border-b border-white/5",children:R.jsx("h3",{className:"text-sm font-medium text-white/90",children:"Weather Settings"})}),R.jsx("div",{className:"p-4 border-b border-white/5",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("span",{className:"text-sm text-white/80",children:"Temperature"}),R.jsxs("div",{className:"flex bg-white/10 rounded-lg p-0.5",children:[R.jsx("button",{onClick:()=>{c.unit!=="metric"&&M()},className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${c.unit==="metric"?"bg-white/20 text-white":"text-white/50 hover:text-white/70"}`,children:"C"}),R.jsx("button",{onClick:()=>{c.unit!=="imperial"&&M()},className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${c.unit==="imperial"?"bg-white/20 text-white":"text-white/50 hover:text-white/70"}`,children:"F"})]})]})}),R.jsx("div",{className:"p-4 border-b border-white/5",children:R.jsxs("button",{onClick:T,className:"w-full flex items-center justify-between",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(qS,{size:16,className:"text-white/60"}),R.jsx("span",{className:"text-sm text-white/80",children:"Auto Location"})]}),R.jsx("div",{className:`w-10 h-6 rounded-full transition-colors ${c.isAuto?"bg-blue-500":"bg-white/20"}`,children:R.jsx("div",{className:`w-4 h-4 rounded-full bg-white mt-1 transition-transform ${c.isAuto?"translate-x-5":"translate-x-1"}`})})]})}),!c.isAuto&&R.jsx("div",{className:"p-4 border-b border-white/5",children:R.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2",children:[R.jsx(GS,{size:14,className:"text-white/40"}),R.jsx("input",{type:"text",value:f,onChange:_=>d(_.target.value),onKeyDown:V,placeholder:"Enter city name...",className:"flex-1 bg-transparent text-sm text-white placeholder-white/30 outline-none"}),R.jsx("button",{onClick:z,disabled:p||!f.trim(),className:"text-xs text-white/60 hover:text-white disabled:opacity-40 transition-colors",children:p?"...":"Go"})]})}),R.jsxs("div",{className:"p-4",children:[R.jsx("div",{className:"text-xs text-white/40 mb-1",children:"Current Location"}),R.jsx("div",{className:"text-sm text-white/80",children:i.city})]})]})]})}const Ow={Clear:["Let the sunshine warm your soul and brighten your path.","Clear skies invite endless possibilities.","Sunshine is the best medicine for the soul.","A clear day is a gift wrapped in blue sky."],Sunny:["Golden rays remind us that light always returns.","Embrace the warmth of this beautiful day.","Let the sun inspire your brightest ideas.","Sunny days are made for dreaming big."],Cloudy:["Behind every cloud, the sun waits with endless patience.","Soft clouds paint stories across the sky.","Even cloudy days hold hidden beauty.","The sky speaks in shades of gray today."],Overcast:["Gray skies create the perfect canvas for reflection.","Overcast days invite us to look inward.","Find peace in the quiet of a clouded sky."],Rainy:["Rain washes the world clean, preparing it for new beginnings.","Let the rain remind you that growth needs storms.","Dancing raindrops write poetry on windows.","After rain, the world sparkles anew."],Drizzle:["Gentle drops whisper secrets to the earth.","A soft drizzle is nature's lullaby."],Snowy:["Snowflakes are whispers from the sky, each one unique.","Snow transforms the world into a peaceful dream.","Winter's blanket covers the world in wonder."],Foggy:["In the mist, we find the beauty of mystery.","Fog invites us to slow down and wonder.","Mystery awaits in the gentle embrace of fog."],Thunderstorm:["Storms remind us of nature's magnificent power.","Thunder speaks, and the world listens.","Even storms pass, leaving clearer skies behind."],default:["Every weather brings its own kind of beauty.","Nature's mood paints today's atmosphere.","The sky tells a different story each day."]};function w5(t){const e=Object.keys(Ow).find(i=>t.toLowerCase().includes(i.toLowerCase())),n=Ow[e||"default"];return n[Math.floor(Math.random()*n.length)]}function E5({weatherDescription:t}){const[e,n]=q.useState(null);return q.useEffect(()=>{t&&n(w5(t))},[t]),R.jsx("p",{className:"text-base md:text-lg font-serif-elegant italic text-white/60 max-w-lg text-center leading-relaxed",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:e?`"${e}"`:""})}const eI="horizon_weather_settings",T5={lat:31.23,lon:121.47,cityName:"Shanghai"};function Mw(){try{const t=localStorage.getItem(eI);if(t)return JSON.parse(t)}catch{}return{isAuto:!0,...T5}}function Vw(t){try{localStorage.setItem(eI,JSON.stringify(t))}catch{}}async function b5(t){try{const e=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(t)}&count=1&language=en&format=json`,n=await fetch(e);if(!n.ok)return null;const i=await n.json();if(i.results&&i.results.length>0){const r=i.results[0];return{lat:r.latitude,lon:r.longitude,name:r.name+(r.country?`, ${r.country_code}`:"")}}return null}catch{return null}}function S5({isOpen:t,onClose:e,user:n,onSignOut:i,onSetWallpaper:r,onWeatherSettingsChange:s,clockFormat:a,onClockFormatChange:o}){const[l,c]=q.useState("general"),[h,f]=q.useState([]),[d,p]=q.useState(Mw),[w,I]=q.useState(""),[D,v]=q.useState(!1);q.useEffect(()=>{if(!t||!n){f([]);return}const _=a5(n.uid,f);return()=>_()},[t,n]),q.useEffect(()=>{t&&(c("general"),p(Mw()))},[t]);const E=()=>{const _={...d,isAuto:!d.isAuto};if(p(_),Vw(_),n){const y={auto:_.isAuto,lat:_.lat,lon:_.lon,cityName:_.cityName};Ta(n.uid,y).catch(b=>console.error("Failed to sync weather settings to cloud:",b))}s==null||s()},T=async()=>{if(w.trim()){v(!0);try{const _=await b5(w.trim());if(_){const y={isAuto:!1,lat:_.lat,lon:_.lon,cityName:_.name};if(p(y),Vw(y),I(""),n){const b={auto:!1,lat:_.lat,lon:_.lon,cityName:_.name};Ta(n.uid,b).catch(k=>console.error("Failed to sync weather settings to cloud:",k))}s==null||s()}}finally{v(!1)}}},M=()=>{const _=a==="24h"?"12h":"24h";o(_),n&&WP(n.uid,_).catch(y=>console.error("Failed to sync clock format to cloud:",y))},z=_=>{_.key==="Enter"&&T()},V=_=>{const y={imageUrl:_.imageUrl,photographer:_.photographer,photographerUrl:_.photographerUrl,photoUrl:_.photoUrl,category:_.category,unsplashId:_.id};r(y),e()},x=async(_,y)=>{if(_.stopPropagation(),!!n)try{await JC(n.uid,y)}catch(b){console.error("Failed to remove favorite:",b)}};if(!t)return null;const A=[{id:"general",icon:$S,label:"General"},{id:"favorites",icon:FS,label:"Favorites"},{id:"account",icon:dh,label:"Account"}];return R.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm animate-modal-backdrop",children:R.jsxs("div",{className:"relative w-[500px] h-[380px] mx-4 bg-[#0a0a0a]/90 backdrop-blur-2xl border border-white/10 rounded-3xl shadow-2xl animate-modal-content flex overflow-hidden",children:[R.jsx("nav",{className:"w-[60px] border-r border-white/10 flex flex-col items-center py-6 gap-2",children:A.map(({id:_,icon:y})=>R.jsx("button",{onClick:()=>c(_),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${l===_?"bg-white/15 text-white":"text-white/40 hover:text-white/70 hover:bg-white/5"}`,title:_.charAt(0).toUpperCase()+_.slice(1),children:R.jsx(y,{size:20})},_))}),R.jsxs("div",{className:"flex-1 flex flex-col",children:[R.jsxs("header",{className:"flex items-center justify-between px-6 py-4 border-b border-white/5",children:[R.jsxs("h3",{className:"text-lg font-medium text-white",children:[l==="general"&&"General",l==="favorites"&&"Favorites",l==="account"&&"Account"]}),R.jsx("button",{onClick:e,className:"text-white/40 hover:text-white transition-colors p-1",children:R.jsx(sf,{size:20})})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l==="general"&&R.jsxs("div",{className:"space-y-4",children:[R.jsx("div",{className:"text-sm text-white/50 mb-4",children:"Weather Location"}),R.jsxs("div",{className:"flex items-center justify-between py-2",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(qS,{size:18,className:"text-white/60"}),R.jsx("span",{className:"text-sm text-white/80",children:"Auto Location"})]}),R.jsx("button",{onClick:E,className:`w-11 h-6 rounded-full transition-colors ${d.isAuto?"bg-blue-500":"bg-white/20"}`,children:R.jsx("div",{className:`w-5 h-5 rounded-full bg-white transition-transform ${d.isAuto?"translate-x-[22px]":"translate-x-[2px]"}`})})]}),!d.isAuto&&R.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-xl px-4 py-3",children:[R.jsx(GS,{size:16,className:"text-white/40"}),R.jsx("input",{type:"text",value:w,onChange:_=>I(_.target.value),onKeyDown:z,placeholder:"Enter city name...",className:"flex-1 bg-transparent text-sm text-white placeholder-white/30 outline-none"}),R.jsx("button",{onClick:T,disabled:D||!w.trim(),className:"text-xs text-white/60 hover:text-white disabled:opacity-40 transition-colors px-2 py-1",children:D?"...":"Search"})]}),R.jsxs("div",{className:"pt-2",children:[R.jsx("div",{className:"text-xs text-white/40 mb-1",children:"Current Location"}),R.jsx("div",{className:"text-sm text-white/80",children:d.cityName})]}),R.jsx("div",{className:"border-t border-white/10 my-4"}),R.jsx("div",{className:"text-sm text-white/50 mb-4",children:"Clock"}),R.jsxs("div",{className:"flex items-center justify-between py-2",children:[R.jsxs("div",{className:"flex items-center gap-3",children:[R.jsx(FN,{size:18,className:"text-white/60"}),R.jsx("span",{className:"text-sm text-white/80",children:"24-Hour Format"})]}),R.jsx("button",{onClick:M,className:`w-11 h-6 rounded-full transition-colors ${a==="24h"?"bg-blue-500":"bg-white/20"}`,children:R.jsx("div",{className:`w-5 h-5 rounded-full bg-white transition-transform ${a==="24h"?"translate-x-[22px]":"translate-x-[2px]"}`})})]})]}),l==="favorites"&&R.jsx("div",{children:n?h.length===0?R.jsx("div",{className:"flex items-center justify-center h-48 text-white/40 text-sm",children:"No favorites yet"}):R.jsx("div",{className:"grid grid-cols-3 gap-3",children:h.map(_=>R.jsxs("button",{onClick:()=>V(_),className:"group relative aspect-[16/10] rounded-xl overflow-hidden hover:ring-2 hover:ring-white/30 transition-all",children:[R.jsx("img",{src:_.imageUrl,alt:_.photographer,className:"w-full h-full object-cover"}),R.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:R.jsx("button",{onClick:y=>x(y,_.id),className:"p-2 rounded-full bg-black/50 hover:bg-red-500/80 transition-colors",title:"Remove from favorites",children:R.jsx(ay,{size:16,className:"text-white"})})})]},_.id))}):R.jsx("div",{className:"flex items-center justify-center h-48 text-white/40 text-sm",children:"Sign in to save favorites"})}),l==="account"&&R.jsx("div",{className:"flex flex-col h-full",children:n?R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[R.jsx("div",{className:"p-1 rounded-full bg-white/5 border border-white/10",children:n.photoURL?R.jsx("img",{src:n.photoURL,alt:"avatar",className:"w-16 h-16 rounded-full"}):R.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:R.jsx(dh,{size:28,className:"text-white"})})}),R.jsxs("div",{children:[R.jsx("div",{className:"text-lg text-white font-medium",children:n.displayName||"User"}),R.jsx("div",{className:"text-sm text-white/50",children:n.email})]})]}),R.jsxs("div",{className:"space-y-3 mb-auto",children:[R.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5",children:[R.jsx("span",{className:"text-sm text-white/60",children:"Favorites"}),R.jsx("span",{className:"text-sm text-white/80",children:h.length})]}),n.metadata.creationTime&&R.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-white/5",children:[R.jsx("span",{className:"text-sm text-white/60",children:"Joined"}),R.jsx("span",{className:"text-sm text-white/80",children:new Date(n.metadata.creationTime).toLocaleDateString("en-US",{year:"numeric",month:"short"})})]})]}),R.jsx("button",{onClick:()=>{i(),e()},className:"mt-6 w-full py-3 rounded-xl bg-red-500/10 hover:bg-red-500/20 text-red-400 text-sm font-medium transition-colors",children:"Sign Out"})]}):R.jsx("div",{className:"flex items-center justify-center h-48 text-white/40 text-sm",children:"Sign in to view account"})})]})]})]})})}const tm=100,nm=20,A5="today";function x5({userId:t,isOpen:e,isPinned:n,onToggle:i,onPinToggle:r}){const[s,a]=q.useState([]),[o,l]=q.useState(""),[c,h]=q.useState(!0),[f,d]=q.useState(A5),[p,w]=q.useState(!1),I=q.useRef(null),D=q.useRef(null);q.useEffect(()=>{!t||!e||(h(!0),$C(t).then(_=>{d(_);const y=QC(t,_,b=>{a(b),h(!1)});return()=>y()}))},[t,e]),q.useEffect(()=>{e&&I.current&&I.current.focus()},[e]),q.useEffect(()=>{const _=y=>{D.current&&!D.current.contains(y.target)&&(n||i())};return e&&document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[e,n,i]);const v=async()=>{const _=o.trim();if(!_)return;if(s.length>=nm){console.warn("Todo limit reached");return}const y={id:`temp-${Date.now()}`,text:_.slice(0,tm),completed:!1,listId:f,createdAt:new Date,updatedAt:new Date};a(b=>[y,...b]),l("");try{const b=await YC(t,_.slice(0,tm),f);a(k=>k.map(C=>C.id===y.id?{...C,id:b}:C))}catch(b){console.error("Failed to add todo:",b),a(k=>k.filter(C=>C.id!==y.id))}},E=async()=>{try{await WC(t,f)}catch(_){console.error("Failed to clear completed todos:",_)}},T=async(_,y)=>{try{await KC(t,_,!y)}catch(b){console.error("Failed to toggle todo:",b)}},M=async _=>{try{await XC(t,_)}catch(y){console.error("Failed to delete todo:",y)}},z=_=>{_.key==="Enter"&&v()},V=s.filter(_=>!_.completed),x=s.filter(_=>_.completed);if(!e)return null;const A=()=>{n&&r(!1),i()};return R.jsxs("div",{ref:D,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),className:`absolute bottom-14 left-0 w-80 max-h-96 bg-[#0a0a0a]/90 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-modal-content transition-opacity duration-300 ${n&&!p?"opacity-60":"opacity-100"}`,children:[R.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5",children:[R.jsx("h3",{className:"text-sm font-medium text-white/90 tracking-wide",children:"Today's Tasks"}),R.jsxs("div",{className:"flex items-center gap-2",children:[x.length>0&&R.jsx("button",{onClick:E,className:"text-xs text-white/30 hover:text-white/60 transition-colors",children:"Clear done"}),R.jsx("button",{onClick:()=>r(!n),className:`transition-colors ${n?"text-blue-400 hover:text-blue-300":"text-white/40 hover:text-white"}`,title:n?"Unpin panel":"Pin panel",children:R.jsx(cD,{size:16,className:n?"fill-current":""})}),R.jsx("button",{onClick:A,className:"text-white/40 hover:text-white transition-colors",children:R.jsx(sf,{size:16})})]})]}),R.jsx("div",{className:"overflow-y-auto max-h-60 p-2",children:c?R.jsx("div",{className:"space-y-1 p-1",children:[1,2,3].map(_=>R.jsxs("div",{className:"flex items-center gap-2.5 pl-3 pr-8 py-2 animate-pulse",children:[R.jsx("div",{className:"w-4 h-4 rounded-[3px] bg-white/10 shrink-0"}),R.jsx("div",{className:"h-4 bg-white/10 rounded w-full",style:{width:`${65+_*10}%`}})]},_))}):s.length===0?R.jsx("div",{className:"text-center py-8 text-white/40 text-sm",children:"No tasks for today, enjoy!"}):R.jsxs("div",{className:"space-y-1",children:[V.map(_=>R.jsx(Lw,{todo:_,onToggle:()=>T(_.id,_.completed),onDelete:()=>M(_.id)},_.id)),x.length>0&&V.length>0&&R.jsx("div",{className:"h-px w-full bg-white/5 my-2"}),x.map(_=>R.jsx(Lw,{todo:_,onToggle:()=>T(_.id,_.completed),onDelete:()=>M(_.id)},_.id))]})}),R.jsx("div",{className:"p-3 border-t border-white/5",children:s.length>=nm?R.jsxs("div",{className:"text-center text-xs text-white/30 py-1",children:["Limit reached (",nm," tasks). Complete or delete some tasks."]}):R.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2",children:[R.jsx(HS,{size:16,className:"text-white/40"}),R.jsx("input",{ref:I,type:"text",value:o,onChange:_=>l(_.target.value),onKeyDown:z,placeholder:"Add a task...",maxLength:tm,className:"flex-1 bg-transparent text-sm text-white placeholder-white/30 outline-none"})]})})]})}function Lw({todo:t,onToggle:e,onDelete:n}){const[i,r]=q.useState(!1);return R.jsxs("div",{className:"group relative flex items-start gap-2.5 pl-3 pr-8 py-2 rounded-lg hover:bg-white/5 transition-colors",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[R.jsx("button",{onClick:e,className:`mt-px shrink-0 w-4 h-4 rounded-[3px] border flex items-center justify-center transition-all ${t.completed?"bg-white/20 border-white/30":"border-white/20 hover:border-white/40"}`,children:t.completed&&R.jsx(jS,{size:10,className:"text-white/70"})}),R.jsx("span",{className:`flex-1 text-sm leading-snug break-words line-clamp-2 transition-all ${t.completed?"text-white/30 line-through":"text-white/80"}`,title:t.text,children:t.text}),R.jsx("button",{onClick:n,className:`absolute right-2 top-1/2 -translate-y-1/2 text-white/30 hover:text-red-400 transition-all ${i?"opacity-100":"opacity-0"}`,children:R.jsx(ay,{size:14})})]})}function C5({message:t,type:e="warning",duration:n=3e3,onClose:i}){q.useEffect(()=>{const s=setTimeout(()=>{i()},n);return()=>clearTimeout(s)},[n,i]);const r=()=>{switch(e){case"success":return R.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500/20 flex items-center justify-center",children:R.jsx(jN,{size:14,className:"text-green-400",strokeWidth:2.5})});case"error":return R.jsx("div",{className:"w-5 h-5 rounded-full bg-red-500/20 flex items-center justify-center",children:R.jsx(sf,{size:14,className:"text-red-400",strokeWidth:2.5})});default:return R.jsx("div",{className:"w-5 h-5 rounded-full bg-yellow-500/20 flex items-center justify-center",children:R.jsx(ED,{size:14,className:"text-yellow-400",strokeWidth:2.5})})}};return R.jsxs("div",{className:"fixed top-6 left-1/2 -translate-x-1/2 z-[100]",children:[R.jsxs("div",{className:`
          px-5 py-3
          bg-black/70 backdrop-blur-md
          border border-white/10
          rounded-full shadow-2xl
          flex items-center gap-3
        `,style:{animation:"toastSlideIn 0.3s ease-out forwards"},children:[r(),R.jsx("p",{className:"text-sm text-white/90 font-medium",children:t})]}),R.jsx("style",{children:`
        @keyframes toastSlideIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}const I5=280,k5=200;function Pw(t){try{const e=localStorage.getItem(`widget_pos_${t}`);if(e)return JSON.parse(e)}catch{}return null}function zw(t,e){try{localStorage.setItem(`widget_pos_${t}`,JSON.stringify(e))}catch{}}function R5(t){try{const e=localStorage.getItem(`widget_size_${t}`);if(e)return JSON.parse(e)}catch{}return null}function N5(t,e){try{localStorage.setItem(`widget_size_${t}`,JSON.stringify(e))}catch{}}function tI({id:t,title:e,icon:n,children:i,onClose:r,defaultWidth:s=320,defaultHeight:a=300,className:o=""}){const l=q.useRef(null),[c,h]=q.useState(()=>Pw(t)||{x:0,y:0}),[f,d]=q.useState(()=>R5(t)||{width:s,height:a}),[p,w]=q.useState(!1),[I,D]=q.useState(!1),[v,E]=q.useState(!1),T=q.useRef({x:0,y:0}),M=q.useRef({width:0,height:0,x:0,y:0});q.useEffect(()=>{if(!v&&l.current){if(!Pw(t)){let k=0,C=0;if(t==="todo")k=-200,C=0;else if(t==="notes")k=200,C=0;else{const Z=t.split("").reduce((H,Y)=>H+Y.charCodeAt(0),0);k=(Z%3-1)*200,C=Z%2*50-25}const W={x:k,y:C};h(W),zw(t,W)}E(!0)}},[t,v]);const z=q.useCallback(b=>{b.preventDefault(),w(!0),T.current={x:b.clientX-c.x,y:b.clientY-c.y}},[c]),V=q.useCallback(b=>{if(!p)return;const k=b.clientX-T.current.x,C=b.clientY-T.current.y,W=20,Z=100,H=f.width/2,Y=f.height/2,ee=-window.innerWidth/2+H+Z,fe=window.innerWidth/2-H-W,N=-window.innerHeight/2+Y+W,Xe=window.innerHeight/2-Y-W,nt=Math.max(ee,Math.min(fe,k)),O=Math.max(N,Math.min(Xe,C));h({x:nt,y:O})},[p,f]),x=q.useCallback(()=>{p&&(w(!1),zw(t,c))},[p,t,c]),A=q.useCallback(b=>{b.preventDefault(),b.stopPropagation(),D(!0),M.current={width:f.width,height:f.height,x:b.clientX,y:b.clientY}},[f]),_=q.useCallback(b=>{if(!I)return;const k=b.clientX-M.current.x,C=b.clientY-M.current.y,W=Math.max(I5,M.current.width+k),Z=Math.max(k5,M.current.height+C),H=window.innerWidth-100,Y=window.innerHeight-150;d({width:Math.min(W,H),height:Math.min(Z,Y)})},[I]),y=q.useCallback(()=>{I&&(D(!1),N5(t,f))},[I,t,f]);return q.useEffect(()=>{if(p)return window.addEventListener("mousemove",V),window.addEventListener("mouseup",x),()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",x)}},[p,V,x]),q.useEffect(()=>{if(I)return window.addEventListener("mousemove",_),window.addEventListener("mouseup",y),()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",y)}},[I,_,y]),R.jsxs("div",{ref:l,className:`fixed bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl rounded-2xl overflow-hidden select-none ${p||I?"cursor-grabbing":""} ${o}`,style:{width:f.width,height:f.height,left:"50%",top:"50%",transform:`translate(calc(-50% + ${c.x}px), calc(-50% + ${c.y}px))`,zIndex:p||I?100:10},children:[R.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/5 cursor-grab active:cursor-grabbing",onMouseDown:z,children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx(tD,{size:14,className:"text-white/30"}),R.jsx(n,{size:16,className:"text-white/60"}),R.jsx("span",{className:"text-sm font-medium text-white/80 tracking-wide",children:e})]}),r&&R.jsx("button",{onClick:b=>{b.stopPropagation(),r()},onMouseDown:b=>b.stopPropagation(),className:"text-white/40 hover:text-white/80 transition-colors",children:R.jsx(sf,{size:14})})]}),R.jsx("div",{className:"p-4 overflow-hidden flex flex-col",style:{height:"calc(100% - 48px)"},children:i}),R.jsx("div",{className:"absolute bottom-0 right-0 w-6 h-6 cursor-se-resize group",onMouseDown:A,children:R.jsx("svg",{className:"absolute bottom-1 right-1 text-white/20 group-hover:text-white/40 transition-colors",width:"12",height:"12",viewBox:"0 0 12 12",children:R.jsx("path",{d:"M10 0L0 10M10 4L4 10M10 8L8 10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})})})]})}function D5(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const O5=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,M5=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,V5={};function Uw(t,e){return(V5.jsx?M5:O5).test(t)}const L5=/[ \t\n\f\r]/g;function P5(t){return typeof t=="object"?t.type==="text"?jw(t.value):!1:jw(t)}function jw(t){return t.replace(L5,"")===""}class Eu{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}Eu.prototype.normal={};Eu.prototype.property={};Eu.prototype.space=void 0;function nI(t,e){const n={},i={};for(const r of t)Object.assign(n,r.property),Object.assign(i,r.normal);return new Eu(n,i,e)}function $p(t){return t.toLowerCase()}class hn{constructor(e,n){this.attribute=n,this.property=e}}hn.prototype.attribute="";hn.prototype.booleanish=!1;hn.prototype.boolean=!1;hn.prototype.commaOrSpaceSeparated=!1;hn.prototype.commaSeparated=!1;hn.prototype.defined=!1;hn.prototype.mustUseProperty=!1;hn.prototype.number=!1;hn.prototype.overloadedBoolean=!1;hn.prototype.property="";hn.prototype.spaceSeparated=!1;hn.prototype.space=void 0;let z5=0;const he=Gs(),lt=Gs(),Qp=Gs(),G=Gs(),Pe=Gs(),Va=Gs(),dn=Gs();function Gs(){return 2**++z5}const Yp=Object.freeze(Object.defineProperty({__proto__:null,boolean:he,booleanish:lt,commaOrSpaceSeparated:dn,commaSeparated:Va,number:G,overloadedBoolean:Qp,spaceSeparated:Pe},Symbol.toStringTag,{value:"Module"})),im=Object.keys(Yp);class f_ extends hn{constructor(e,n,i,r){let s=-1;if(super(e,n),Bw(this,"space",r),typeof i=="number")for(;++s<im.length;){const a=im[s];Bw(this,im[s],(i&Yp[a])===Yp[a])}}}f_.prototype.defined=!0;function Bw(t,e,n){n&&(t[e]=n)}function Eo(t){const e={},n={};for(const[i,r]of Object.entries(t.properties)){const s=new f_(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,n[$p(i)]=i,n[$p(s.attribute)]=i}return new Eu(e,n,t.space)}const iI=Eo({properties:{ariaActiveDescendant:null,ariaAtomic:lt,ariaAutoComplete:null,ariaBusy:lt,ariaChecked:lt,ariaColCount:G,ariaColIndex:G,ariaColSpan:G,ariaControls:Pe,ariaCurrent:null,ariaDescribedBy:Pe,ariaDetails:null,ariaDisabled:lt,ariaDropEffect:Pe,ariaErrorMessage:null,ariaExpanded:lt,ariaFlowTo:Pe,ariaGrabbed:lt,ariaHasPopup:null,ariaHidden:lt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Pe,ariaLevel:G,ariaLive:null,ariaModal:lt,ariaMultiLine:lt,ariaMultiSelectable:lt,ariaOrientation:null,ariaOwns:Pe,ariaPlaceholder:null,ariaPosInSet:G,ariaPressed:lt,ariaReadOnly:lt,ariaRelevant:null,ariaRequired:lt,ariaRoleDescription:Pe,ariaRowCount:G,ariaRowIndex:G,ariaRowSpan:G,ariaSelected:lt,ariaSetSize:G,ariaSort:null,ariaValueMax:G,ariaValueMin:G,ariaValueNow:G,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function rI(t,e){return e in t?t[e]:e}function sI(t,e){return rI(t,e.toLowerCase())}const U5=Eo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Va,acceptCharset:Pe,accessKey:Pe,action:null,allow:null,allowFullScreen:he,allowPaymentRequest:he,allowUserMedia:he,alt:null,as:null,async:he,autoCapitalize:null,autoComplete:Pe,autoFocus:he,autoPlay:he,blocking:Pe,capture:null,charSet:null,checked:he,cite:null,className:Pe,cols:G,colSpan:null,content:null,contentEditable:lt,controls:he,controlsList:Pe,coords:G|Va,crossOrigin:null,data:null,dateTime:null,decoding:null,default:he,defer:he,dir:null,dirName:null,disabled:he,download:Qp,draggable:lt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:he,formTarget:null,headers:Pe,height:G,hidden:Qp,high:G,href:null,hrefLang:null,htmlFor:Pe,httpEquiv:Pe,id:null,imageSizes:null,imageSrcSet:null,inert:he,inputMode:null,integrity:null,is:null,isMap:he,itemId:null,itemProp:Pe,itemRef:Pe,itemScope:he,itemType:Pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:he,low:G,manifest:null,max:null,maxLength:G,media:null,method:null,min:null,minLength:G,multiple:he,muted:he,name:null,nonce:null,noModule:he,noValidate:he,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:he,optimum:G,pattern:null,ping:Pe,placeholder:null,playsInline:he,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:he,referrerPolicy:null,rel:Pe,required:he,reversed:he,rows:G,rowSpan:G,sandbox:Pe,scope:null,scoped:he,seamless:he,selected:he,shadowRootClonable:he,shadowRootDelegatesFocus:he,shadowRootMode:null,shape:null,size:G,sizes:null,slot:null,span:G,spellCheck:lt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:G,step:null,style:null,tabIndex:G,target:null,title:null,translate:null,type:null,typeMustMatch:he,useMap:null,value:lt,width:G,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Pe,axis:null,background:null,bgColor:null,border:G,borderColor:null,bottomMargin:G,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:he,declare:he,event:null,face:null,frame:null,frameBorder:null,hSpace:G,leftMargin:G,link:null,longDesc:null,lowSrc:null,marginHeight:G,marginWidth:G,noResize:he,noHref:he,noShade:he,noWrap:he,object:null,profile:null,prompt:null,rev:null,rightMargin:G,rules:null,scheme:null,scrolling:lt,standby:null,summary:null,text:null,topMargin:G,valueType:null,version:null,vAlign:null,vLink:null,vSpace:G,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:he,disableRemotePlayback:he,prefix:null,property:null,results:G,security:null,unselectable:null},space:"html",transform:sI}),j5=Eo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:dn,accentHeight:G,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:G,amplitude:G,arabicForm:null,ascent:G,attributeName:null,attributeType:null,azimuth:G,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:G,by:null,calcMode:null,capHeight:G,className:Pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:G,diffuseConstant:G,direction:null,display:null,dur:null,divisor:G,dominantBaseline:null,download:he,dx:null,dy:null,edgeMode:null,editable:null,elevation:G,enableBackground:null,end:null,event:null,exponent:G,externalResourcesRequired:null,fill:null,fillOpacity:G,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Va,g2:Va,glyphName:Va,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:G,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:G,horizOriginX:G,horizOriginY:G,id:null,ideographic:G,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:G,k:G,k1:G,k2:G,k3:G,k4:G,kernelMatrix:dn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:G,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:G,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:G,overlineThickness:G,paintOrder:null,panose1:null,path:null,pathLength:G,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:G,pointsAtY:G,pointsAtZ:G,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dn,rev:dn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dn,requiredFeatures:dn,requiredFonts:dn,requiredFormats:dn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:G,specularExponent:G,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:G,strikethroughThickness:G,string:null,stroke:null,strokeDashArray:dn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:G,strokeOpacity:G,strokeWidth:null,style:null,surfaceScale:G,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dn,tabIndex:G,tableValues:null,target:null,targetX:G,targetY:G,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:G,underlineThickness:G,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:G,values:null,vAlphabetic:G,vMathematical:G,vectorEffect:null,vHanging:G,vIdeographic:G,version:null,vertAdvY:G,vertOriginX:G,vertOriginY:G,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:G,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:rI}),aI=Eo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),oI=Eo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:sI}),lI=Eo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),B5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},F5=/[A-Z]/g,Fw=/-[a-z]/g,q5=/^data[-\w.:]+$/i;function H5(t,e){const n=$p(e);let i=e,r=hn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&q5.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(Fw,$5);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!Fw.test(s)){let a=s.replace(F5,G5);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}r=f_}return new r(i,e)}function G5(t){return"-"+t.toLowerCase()}function $5(t){return t.charAt(1).toUpperCase()}const Q5=nI([iI,U5,aI,oI,lI],"html"),d_=nI([iI,j5,aI,oI,lI],"svg");function Y5(t){return t.join(" ").trim()}var m_={},qw=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,K5=/\n/g,X5=/^\s*/,W5=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,J5=/^:\s*/,Z5=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,e9=/^[;\s]*/,t9=/^\s+|\s+$/g,n9=`
`,Hw="/",Gw="*",ds="",i9="comment",r9="declaration";function s9(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,i=1;function r(w){var I=w.match(K5);I&&(n+=I.length);var D=w.lastIndexOf(n9);i=~D?w.length-D:i+w.length}function s(){var w={line:n,column:i};return function(I){return I.position=new a(w),c(),I}}function a(w){this.start=w,this.end={line:n,column:i},this.source=e.source}a.prototype.content=t;function o(w){var I=new Error(e.source+":"+n+":"+i+": "+w);if(I.reason=w,I.filename=e.source,I.line=n,I.column=i,I.source=t,!e.silent)throw I}function l(w){var I=w.exec(t);if(I){var D=I[0];return r(D),t=t.slice(D.length),I}}function c(){l(X5)}function h(w){var I;for(w=w||[];I=f();)I!==!1&&w.push(I);return w}function f(){var w=s();if(!(Hw!=t.charAt(0)||Gw!=t.charAt(1))){for(var I=2;ds!=t.charAt(I)&&(Gw!=t.charAt(I)||Hw!=t.charAt(I+1));)++I;if(I+=2,ds===t.charAt(I-1))return o("End of comment missing");var D=t.slice(2,I-2);return i+=2,r(D),t=t.slice(I),i+=2,w({type:i9,comment:D})}}function d(){var w=s(),I=l(W5);if(I){if(f(),!l(J5))return o("property missing ':'");var D=l(Z5),v=w({type:r9,property:$w(I[0].replace(qw,ds)),value:D?$w(D[0].replace(qw,ds)):ds});return l(e9),v}}function p(){var w=[];h(w);for(var I;I=d();)I!==!1&&(w.push(I),h(w));return w}return c(),p()}function $w(t){return t?t.replace(t9,ds):ds}var a9=s9,o9=Pc&&Pc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m_,"__esModule",{value:!0});m_.default=u9;const l9=o9(a9);function u9(t,e){let n=null;if(!t||typeof t!="string")return n;const i=(0,l9.default)(t),r=typeof e=="function";return i.forEach(s=>{if(s.type!=="declaration")return;const{property:a,value:o}=s;r?e(a,o,s):o&&(n=n||{},n[a]=o)}),n}var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});Mf.camelCase=void 0;var c9=/^--[a-zA-Z0-9_-]+$/,h9=/-([a-z])/g,f9=/^[^-]+$/,d9=/^-(webkit|moz|ms|o|khtml)-/,m9=/^-(ms)-/,p9=function(t){return!t||f9.test(t)||c9.test(t)},g9=function(t,e){return e.toUpperCase()},Qw=function(t,e){return"".concat(e,"-")},y9=function(t,e){return e===void 0&&(e={}),p9(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(m9,Qw):t=t.replace(d9,Qw),t.replace(h9,g9))};Mf.camelCase=y9;var _9=Pc&&Pc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},v9=_9(m_),w9=Mf;function Kp(t,e){var n={};return!t||typeof t!="string"||(0,v9.default)(t,function(i,r){i&&r&&(n[(0,w9.camelCase)(i,e)]=r)}),n}Kp.default=Kp;var E9=Kp;const T9=zh(E9),uI=cI("end"),p_=cI("start");function cI(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function b9(t){const e=p_(t),n=uI(t);if(e&&n)return{start:e,end:n}}function bl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Yw(t.position):"start"in t||"end"in t?Yw(t):"line"in t||"column"in t?Xp(t):""}function Xp(t){return Kw(t&&t.line)+":"+Kw(t&&t.column)}function Yw(t){return Xp(t&&t.start)+"-"+Xp(t&&t.end)}function Kw(t){return t&&typeof t=="number"?t:1}class Ft extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let r="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?r=e:!s.cause&&e&&(a=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const l=i.indexOf(":");l===-1?s.ruleId=i:(s.source=i.slice(0,l),s.ruleId=i.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=o?o.line:void 0,this.name=bl(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ft.prototype.file="";Ft.prototype.name="";Ft.prototype.reason="";Ft.prototype.message="";Ft.prototype.stack="";Ft.prototype.column=void 0;Ft.prototype.line=void 0;Ft.prototype.ancestors=void 0;Ft.prototype.cause=void 0;Ft.prototype.fatal=void 0;Ft.prototype.place=void 0;Ft.prototype.ruleId=void 0;Ft.prototype.source=void 0;const g_={}.hasOwnProperty,S9=new Map,A9=/[A-Z]/g,x9=new Set(["table","tbody","thead","tfoot","tr"]),C9=new Set(["td","th"]),hI="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function I9(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=L9(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=V9(n,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?d_:Q5,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=fI(r,t,void 0);return s&&typeof s!="string"?s:r.create(t,r.Fragment,{children:s||void 0},void 0)}function fI(t,e,n){if(e.type==="element")return k9(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return R9(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return D9(t,e,n);if(e.type==="mdxjsEsm")return N9(t,e);if(e.type==="root")return O9(t,e,n);if(e.type==="text")return M9(t,e)}function k9(t,e,n){const i=t.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=d_,t.schema=r),t.ancestors.push(e);const s=mI(t,e.tagName,!1),a=P9(t,e);let o=__(t,e);return x9.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!P5(l):!0})),dI(t,a,s,e),y_(a,o),t.ancestors.pop(),t.schema=i,t.create(e,s,a,n)}function R9(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}Xl(t,e.position)}function N9(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Xl(t,e.position)}function D9(t,e,n){const i=t.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=d_,t.schema=r),t.ancestors.push(e);const s=e.name===null?t.Fragment:mI(t,e.name,!0),a=z9(t,e),o=__(t,e);return dI(t,a,s,e),y_(a,o),t.ancestors.pop(),t.schema=i,t.create(e,s,a,n)}function O9(t,e,n){const i={};return y_(i,__(t,e)),t.create(e,t.Fragment,i,n)}function M9(t,e){return e.value}function dI(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function y_(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function V9(t,e,n){return i;function i(r,s,a,o){const c=Array.isArray(a.children)?n:e;return o?c(s,a,o):c(s,a)}}function L9(t,e){return n;function n(i,r,s,a){const o=Array.isArray(s.children),l=p_(i);return e(r,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function P9(t,e){const n={};let i,r;for(r in e.properties)if(r!=="children"&&g_.call(e.properties,r)){const s=U9(t,r,e.properties[r]);if(s){const[a,o]=s;t.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&C9.has(e.tagName)?i=o:n[a]=o}}if(i){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function z9(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const s=i.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else Xl(t,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const o=i.value.data.estree.body[0];o.type,s=t.evaluater.evaluateExpression(o.expression)}else Xl(t,e.position);else s=i.value===null?!0:i.value;n[r]=s}return n}function __(t,e){const n=[];let i=-1;const r=t.passKeys?new Map:S9;for(;++i<e.children.length;){const s=e.children[i];let a;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=r.get(l)||0;a=l+"-"+c,r.set(l,c+1)}}const o=fI(t,s,a);o!==void 0&&n.push(o)}return n}function U9(t,e,n){const i=H5(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?D5(n):Y5(n)),i.property==="style"){let r=typeof n=="object"?n:j9(t,String(n));return t.stylePropertyNameCase==="css"&&(r=B9(r)),["style",r]}return[t.elementAttributeNameCase==="react"&&i.space?B5[i.property]||i.property:i.attribute,n]}}function j9(t,e){try{return T9(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,r=new Ft("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=t.filePath||void 0,r.url=hI+"#cannot-parse-style-attribute",r}}function mI(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,a;for(;++s<r.length;){const o=Uw(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}i=a}else i=Uw(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return g_.call(t.components,r)?t.components[r]:r}if(t.evaluater)return t.evaluater.evaluateExpression(i);Xl(t)}function Xl(t,e){const n=new Ft("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=hI+"#cannot-handle-mdx-estrees-without-createevaluater",n}function B9(t){const e={};let n;for(n in t)g_.call(t,n)&&(e[F9(n)]=t[n]);return e}function F9(t){let e=t.replace(A9,q9);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function q9(t){return"-"+t.toLowerCase()}const rm={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},H9={};function v_(t,e){const n=H9,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return pI(t,i,r)}function pI(t,e,n){if(G9(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Xw(t.children,e,n)}return Array.isArray(t)?Xw(t,e,n):""}function Xw(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=pI(t[r],e,n);return i.join("")}function G9(t){return!!(t&&typeof t=="object")}const Ww=document.createElement("i");function w_(t){const e="&"+t+";";Ww.innerHTML=e;const n=Ww.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Sn(t,e,n,i){const r=t.length;let s=0,a;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<i.length;)a=i.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Nn(t,e){return t.length>0?(Sn(t,t.length,0,e),t):e}const Jw={}.hasOwnProperty;function gI(t){const e={};let n=-1;for(;++n<t.length;)$9(e,t[n]);return e}function $9(t,e){let n;for(n in e){const r=(Jw.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let a;if(s)for(a in s){Jw.call(r,a)||(r[a]=[]);const o=s[a];Q9(r[a],Array.isArray(o)?o:o?[o]:[])}}}function Q9(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Sn(t,0,0,i)}function yI(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Kn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $t=es(/[A-Za-z]/),jt=es(/[\dA-Za-z]/),Y9=es(/[#-'*+\--9=?A-Z^-~]/);function Mh(t){return t!==null&&(t<32||t===127)}const Wp=es(/\d/),K9=es(/[\dA-Fa-f]/),X9=es(/[!-/:-@[-`{-~]/);function ne(t){return t!==null&&t<-2}function Le(t){return t!==null&&(t<0||t===32)}function ye(t){return t===-2||t===-1||t===32}const Vf=es(new RegExp("\\p{P}|\\p{S}","u")),Vs=es(/\s/);function es(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function To(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const s=t.charCodeAt(n);let a="";if(s===37&&jt(t.charCodeAt(n+1))&&jt(t.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=t.charCodeAt(n+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),r=1):a=""}else a=String.fromCharCode(s);a&&(e.push(t.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function Se(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return ye(l)?(t.enter(n),o(l)):e(l)}function o(l){return ye(l)&&s++<r?(t.consume(l),o):(t.exit(n),e(l))}}const W9={tokenize:J9};function J9(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Se(t,e,"linePrefix")}function r(o){return t.enter("paragraph"),s(o)}function s(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(o)}function a(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return ne(o)?(t.consume(o),t.exit("chunkText"),s):(t.consume(o),a)}}const Z9={tokenize:ez},Zw={tokenize:tz};function ez(t){const e=this,n=[];let i=0,r,s,a;return o;function o(T){if(i<n.length){const M=n[i];return e.containerState=M[1],t.attempt(M[0].continuation,l,c)(T)}return c(T)}function l(T){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&E();const M=e.events.length;let z=M,V;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){V=e.events[z][1].end;break}v(i);let x=M;for(;x<e.events.length;)e.events[x][1].end={...V},x++;return Sn(e.events,z+1,0,e.events.slice(M)),e.events.length=x,c(T)}return o(T)}function c(T){if(i===n.length){if(!r)return d(T);if(r.currentConstruct&&r.currentConstruct.concrete)return w(T);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Zw,h,f)(T)}function h(T){return r&&E(),v(i),d(T)}function f(T){return e.parser.lazy[e.now().line]=i!==n.length,a=e.now().offset,w(T)}function d(T){return e.containerState={},t.attempt(Zw,p,w)(T)}function p(T){return i++,n.push([e.currentConstruct,e.containerState]),d(T)}function w(T){if(T===null){r&&E(),v(0),t.consume(T);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),I(T)}function I(T){if(T===null){D(t.exit("chunkFlow"),!0),v(0),t.consume(T);return}return ne(T)?(t.consume(T),D(t.exit("chunkFlow")),i=0,e.interrupt=void 0,o):(t.consume(T),I)}function D(T,M){const z=e.sliceStream(T);if(M&&z.push(null),T.previous=s,s&&(s.next=T),s=T,r.defineSkip(T.start),r.write(z),e.parser.lazy[T.start.line]){let V=r.events.length;for(;V--;)if(r.events[V][1].start.offset<a&&(!r.events[V][1].end||r.events[V][1].end.offset>a))return;const x=e.events.length;let A=x,_,y;for(;A--;)if(e.events[A][0]==="exit"&&e.events[A][1].type==="chunkFlow"){if(_){y=e.events[A][1].end;break}_=!0}for(v(i),V=x;V<e.events.length;)e.events[V][1].end={...y},V++;Sn(e.events,A+1,0,e.events.slice(x)),e.events.length=V}}function v(T){let M=n.length;for(;M-- >T;){const z=n[M];e.containerState=z[1],z[0].exit.call(e,t)}n.length=T}function E(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function tz(t,e,n){return Se(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function to(t){if(t===null||Le(t)||Vs(t))return 1;if(Vf(t))return 2}function Lf(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const s=t[r].resolveAll;s&&!i.includes(s)&&(e=s(e,n),i.push(s))}return e}const Jp={name:"attention",resolveAll:nz,tokenize:iz};function nz(t,e){let n=-1,i,r,s,a,o,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[i][1].end},d={...t[n][1].start};eE(f,-l),eE(d,l),a={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[i][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:d},s={type:l>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},r={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},t[i][1].end={...a.start},t[n][1].start={...o.end},c=[],t[i][1].end.offset-t[i][1].start.offset&&(c=Nn(c,[["enter",t[i][1],e],["exit",t[i][1],e]])),c=Nn(c,[["enter",r,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=Nn(c,Lf(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),c=Nn(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=Nn(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Sn(t,i-1,n-i+3,c),n=i+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function iz(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=to(i);let s;return a;function a(l){return s=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===s)return t.consume(l),o;const c=t.exit("attentionSequence"),h=to(l),f=!h||h===2&&r||n.includes(l),d=!r||r===2&&h||n.includes(i);return c._open=!!(s===42?f:f&&(r||!d)),c._close=!!(s===42?d:d&&(h||!f)),e(l)}}function eE(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const rz={name:"autolink",tokenize:sz};function sz(t,e,n){let i=0;return r;function r(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return $t(p)?(t.consume(p),a):p===64?n(p):c(p)}function a(p){return p===43||p===45||p===46||jt(p)?(i=1,o(p)):c(p)}function o(p){return p===58?(t.consume(p),i=0,l):(p===43||p===45||p===46||jt(p))&&i++<32?(t.consume(p),o):(i=0,c(p))}function l(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Mh(p)?n(p):(t.consume(p),l)}function c(p){return p===64?(t.consume(p),h):Y9(p)?(t.consume(p),c):n(p)}function h(p){return jt(p)?f(p):n(p)}function f(p){return p===46?(t.consume(p),i=0,h):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):d(p)}function d(p){if((p===45||jt(p))&&i++<63){const w=p===45?d:f;return t.consume(p),w}return n(p)}}const Tu={partial:!0,tokenize:az};function az(t,e,n){return i;function i(s){return ye(s)?Se(t,r,"linePrefix")(s):r(s)}function r(s){return s===null||ne(s)?e(s):n(s)}}const _I={continuation:{tokenize:lz},exit:uz,name:"blockQuote",tokenize:oz};function oz(t,e,n){const i=this;return r;function r(a){if(a===62){const o=i.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return ye(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function lz(t,e,n){const i=this;return r;function r(a){return ye(a)?Se(t,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(_I,e,n)(a)}}function uz(t){t.exit("blockQuote")}const vI={name:"characterEscape",tokenize:cz};function cz(t,e,n){return i;function i(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),r}function r(s){return X9(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const wI={name:"characterReference",tokenize:hz};function hz(t,e,n){const i=this;let r=0,s,a;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=jt,h(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=K9,h):(t.enter("characterReferenceValue"),s=7,a=Wp,h(f))}function h(f){if(f===59&&r){const d=t.exit("characterReferenceValue");return a===jt&&!w_(i.sliceSerialize(d))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(f)&&r++<s?(t.consume(f),h):n(f)}}const tE={partial:!0,tokenize:dz},nE={concrete:!0,name:"codeFenced",tokenize:fz};function fz(t,e,n){const i=this,r={partial:!0,tokenize:z};let s=0,a=0,o;return l;function l(V){return c(V)}function c(V){const x=i.events[i.events.length-1];return s=x&&x[1].type==="linePrefix"?x[2].sliceSerialize(x[1],!0).length:0,o=V,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(V)}function h(V){return V===o?(a++,t.consume(V),h):a<3?n(V):(t.exit("codeFencedFenceSequence"),ye(V)?Se(t,f,"whitespace")(V):f(V))}function f(V){return V===null||ne(V)?(t.exit("codeFencedFence"),i.interrupt?e(V):t.check(tE,I,M)(V)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(V))}function d(V){return V===null||ne(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(V)):ye(V)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Se(t,p,"whitespace")(V)):V===96&&V===o?n(V):(t.consume(V),d)}function p(V){return V===null||ne(V)?f(V):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(V))}function w(V){return V===null||ne(V)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(V)):V===96&&V===o?n(V):(t.consume(V),w)}function I(V){return t.attempt(r,M,D)(V)}function D(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),v}function v(V){return s>0&&ye(V)?Se(t,E,"linePrefix",s+1)(V):E(V)}function E(V){return V===null||ne(V)?t.check(tE,I,M)(V):(t.enter("codeFlowValue"),T(V))}function T(V){return V===null||ne(V)?(t.exit("codeFlowValue"),E(V)):(t.consume(V),T)}function M(V){return t.exit("codeFenced"),e(V)}function z(V,x,A){let _=0;return y;function y(Z){return V.enter("lineEnding"),V.consume(Z),V.exit("lineEnding"),b}function b(Z){return V.enter("codeFencedFence"),ye(Z)?Se(V,k,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):k(Z)}function k(Z){return Z===o?(V.enter("codeFencedFenceSequence"),C(Z)):A(Z)}function C(Z){return Z===o?(_++,V.consume(Z),C):_>=a?(V.exit("codeFencedFenceSequence"),ye(Z)?Se(V,W,"whitespace")(Z):W(Z)):A(Z)}function W(Z){return Z===null||ne(Z)?(V.exit("codeFencedFence"),x(Z)):A(Z)}}}function dz(t,e,n){const i=this;return r;function r(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}const sm={name:"codeIndented",tokenize:pz},mz={partial:!0,tokenize:gz};function pz(t,e,n){const i=this;return r;function r(c){return t.enter("codeIndented"),Se(t,s,"linePrefix",5)(c)}function s(c){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):ne(c)?t.attempt(mz,a,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||ne(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function gz(t,e,n){const i=this;return r;function r(a){return i.parser.lazy[i.now().line]?n(a):ne(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),r):Se(t,s,"linePrefix",5)(a)}function s(a){const o=i.events[i.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):ne(a)?r(a):n(a)}}const yz={name:"codeText",previous:vz,resolve:_z,tokenize:wz};function _z(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function vz(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function wz(t,e,n){let i=0,r,s;return a;function a(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),i++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(s=t.enter("codeTextSequence"),r=0,h(f)):ne(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||ne(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function h(f){return f===96?(t.consume(f),r++,h):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}class Ez{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const r=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Go(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Go(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Go(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Go(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Go(this.left,n.reverse())}}}function Go(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function EI(t){const e={};let n=-1,i,r,s,a,o,l,c;const h=new Ez(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Tz(h,n)),n=e[n],c=!0);else if(i[1]._container){for(s=n,r=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(r&&(h.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;r&&(i[1].end={...h.get(r)[1].start},o=h.slice(r,n),o.unshift(i),h.splice(r,n-r+1,o))}}return Sn(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function Tz(t,e){const n=t.get(e)[1],i=t.get(e)[2];let r=e-1;const s=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let h,f,d=-1,p=n,w=0,I=0;const D=[I];for(;p;){for(;t.get(++r)[1]!==p;);s.push(r),p._tokenizer||(h=i.sliceStream(p),p.next||h.push(null),f&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),f=p,p=p.next}for(p=n;++d<o.length;)o[d][0]==="exit"&&o[d-1][0]==="enter"&&o[d][1].type===o[d-1][1].type&&o[d][1].start.line!==o[d][1].end.line&&(I=d+1,D.push(I),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):D.pop(),d=D.length;d--;){const v=o.slice(D[d],D[d+1]),E=s.pop();l.push([E,E+v.length-1]),t.splice(E,2,v)}for(l.reverse(),d=-1;++d<l.length;)c[w+l[d][0]]=w+l[d][1],w+=l[d][1]-l[d][0]-1;return c}const bz={resolve:Az,tokenize:xz},Sz={partial:!0,tokenize:Cz};function Az(t){return EI(t),t}function xz(t,e){let n;return i;function i(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(o)}function r(o){return o===null?s(o):ne(o)?t.check(Sz,a,s)(o):(t.consume(o),r)}function s(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function a(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function Cz(t,e,n){const i=this;return r;function r(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),Se(t,s,"linePrefix")}function s(a){if(a===null||ne(a))return n(a);const o=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):t.interrupt(i.parser.constructs.flow,n,e)(a)}}function TI(t,e,n,i,r,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return f;function f(v){return v===60?(t.enter(i),t.enter(r),t.enter(s),t.consume(v),t.exit(s),d):v===null||v===32||v===41||Mh(v)?n(v):(t.enter(i),t.enter(a),t.enter(o),t.enter("chunkString",{contentType:"string"}),I(v))}function d(v){return v===62?(t.enter(s),t.consume(v),t.exit(s),t.exit(r),t.exit(i),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(t.exit("chunkString"),t.exit(o),d(v)):v===null||v===60||ne(v)?n(v):(t.consume(v),v===92?w:p)}function w(v){return v===60||v===62||v===92?(t.consume(v),p):p(v)}function I(v){return!h&&(v===null||v===41||Le(v))?(t.exit("chunkString"),t.exit(o),t.exit(a),t.exit(i),e(v)):h<c&&v===40?(t.consume(v),h++,I):v===41?(t.consume(v),h--,I):v===null||v===32||v===40||Mh(v)?n(v):(t.consume(v),v===92?D:I)}function D(v){return v===40||v===41||v===92?(t.consume(v),I):I(v)}}function bI(t,e,n,i,r,s){const a=this;let o=0,l;return c;function c(p){return t.enter(i),t.enter(r),t.consume(p),t.exit(r),t.enter(s),h}function h(p){return o>999||p===null||p===91||p===93&&!l||p===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(t.exit(s),t.enter(r),t.consume(p),t.exit(r),t.exit(i),e):ne(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===null||p===91||p===93||ne(p)||o++>999?(t.exit("chunkString"),h(p)):(t.consume(p),l||(l=!ye(p)),p===92?d:f)}function d(p){return p===91||p===92||p===93?(t.consume(p),o++,f):f(p)}}function SI(t,e,n,i,r,s){let a;return o;function o(d){return d===34||d===39||d===40?(t.enter(i),t.enter(r),t.consume(d),t.exit(r),a=d===40?41:d,l):n(d)}function l(d){return d===a?(t.enter(r),t.consume(d),t.exit(r),t.exit(i),e):(t.enter(s),c(d))}function c(d){return d===a?(t.exit(s),l(a)):d===null?n(d):ne(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Se(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===a||d===null||ne(d)?(t.exit("chunkString"),c(d)):(t.consume(d),d===92?f:h)}function f(d){return d===a||d===92?(t.consume(d),h):h(d)}}function Sl(t,e){let n;return i;function i(r){return ne(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):ye(r)?Se(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}const Iz={name:"definition",tokenize:Rz},kz={partial:!0,tokenize:Nz};function Rz(t,e,n){const i=this;let r;return s;function s(p){return t.enter("definition"),a(p)}function a(p){return bI.call(i,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function o(p){return r=Kn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),l):n(p)}function l(p){return Le(p)?Sl(t,c)(p):c(p)}function c(p){return TI(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return t.attempt(kz,f,f)(p)}function f(p){return ye(p)?Se(t,d,"whitespace")(p):d(p)}function d(p){return p===null||ne(p)?(t.exit("definition"),i.parser.defined.push(r),e(p)):n(p)}}function Nz(t,e,n){return i;function i(o){return Le(o)?Sl(t,r)(o):n(o)}function r(o){return SI(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return ye(o)?Se(t,a,"whitespace")(o):a(o)}function a(o){return o===null||ne(o)?e(o):n(o)}}const Dz={name:"hardBreakEscape",tokenize:Oz};function Oz(t,e,n){return i;function i(s){return t.enter("hardBreakEscape"),t.consume(s),r}function r(s){return ne(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const Mz={name:"headingAtx",resolve:Vz,tokenize:Lz};function Vz(t,e){let n=t.length-2,i=3,r,s;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},s={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Sn(t,i,n-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),t}function Lz(t,e,n){let i=0;return r;function r(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&i++<6?(t.consume(h),a):h===null||Le(h)?(t.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||ne(h)?(t.exit("atxHeading"),e(h)):ye(h)?Se(t,o,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||Le(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),c)}}const Pz=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iE=["pre","script","style","textarea"],zz={concrete:!0,name:"htmlFlow",resolveTo:Bz,tokenize:Fz},Uz={partial:!0,tokenize:Hz},jz={partial:!0,tokenize:qz};function Bz(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Fz(t,e,n){const i=this;let r,s,a,o,l;return c;function c(O){return h(O)}function h(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),f}function f(O){return O===33?(t.consume(O),d):O===47?(t.consume(O),s=!0,I):O===63?(t.consume(O),r=3,i.interrupt?e:N):$t(O)?(t.consume(O),a=String.fromCharCode(O),D):n(O)}function d(O){return O===45?(t.consume(O),r=2,p):O===91?(t.consume(O),r=5,o=0,w):$t(O)?(t.consume(O),r=4,i.interrupt?e:N):n(O)}function p(O){return O===45?(t.consume(O),i.interrupt?e:N):n(O)}function w(O){const Oe="CDATA[";return O===Oe.charCodeAt(o++)?(t.consume(O),o===Oe.length?i.interrupt?e:k:w):n(O)}function I(O){return $t(O)?(t.consume(O),a=String.fromCharCode(O),D):n(O)}function D(O){if(O===null||O===47||O===62||Le(O)){const Oe=O===47,Et=a.toLowerCase();return!Oe&&!s&&iE.includes(Et)?(r=1,i.interrupt?e(O):k(O)):Pz.includes(a.toLowerCase())?(r=6,Oe?(t.consume(O),v):i.interrupt?e(O):k(O)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(O):s?E(O):T(O))}return O===45||jt(O)?(t.consume(O),a+=String.fromCharCode(O),D):n(O)}function v(O){return O===62?(t.consume(O),i.interrupt?e:k):n(O)}function E(O){return ye(O)?(t.consume(O),E):y(O)}function T(O){return O===47?(t.consume(O),y):O===58||O===95||$t(O)?(t.consume(O),M):ye(O)?(t.consume(O),T):y(O)}function M(O){return O===45||O===46||O===58||O===95||jt(O)?(t.consume(O),M):z(O)}function z(O){return O===61?(t.consume(O),V):ye(O)?(t.consume(O),z):T(O)}function V(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),l=O,x):ye(O)?(t.consume(O),V):A(O)}function x(O){return O===l?(t.consume(O),l=null,_):O===null||ne(O)?n(O):(t.consume(O),x)}function A(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Le(O)?z(O):(t.consume(O),A)}function _(O){return O===47||O===62||ye(O)?T(O):n(O)}function y(O){return O===62?(t.consume(O),b):n(O)}function b(O){return O===null||ne(O)?k(O):ye(O)?(t.consume(O),b):n(O)}function k(O){return O===45&&r===2?(t.consume(O),H):O===60&&r===1?(t.consume(O),Y):O===62&&r===4?(t.consume(O),Xe):O===63&&r===3?(t.consume(O),N):O===93&&r===5?(t.consume(O),fe):ne(O)&&(r===6||r===7)?(t.exit("htmlFlowData"),t.check(Uz,nt,C)(O)):O===null||ne(O)?(t.exit("htmlFlowData"),C(O)):(t.consume(O),k)}function C(O){return t.check(jz,W,nt)(O)}function W(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),Z}function Z(O){return O===null||ne(O)?C(O):(t.enter("htmlFlowData"),k(O))}function H(O){return O===45?(t.consume(O),N):k(O)}function Y(O){return O===47?(t.consume(O),a="",ee):k(O)}function ee(O){if(O===62){const Oe=a.toLowerCase();return iE.includes(Oe)?(t.consume(O),Xe):k(O)}return $t(O)&&a.length<8?(t.consume(O),a+=String.fromCharCode(O),ee):k(O)}function fe(O){return O===93?(t.consume(O),N):k(O)}function N(O){return O===62?(t.consume(O),Xe):O===45&&r===2?(t.consume(O),N):k(O)}function Xe(O){return O===null||ne(O)?(t.exit("htmlFlowData"),nt(O)):(t.consume(O),Xe)}function nt(O){return t.exit("htmlFlow"),e(O)}}function qz(t,e,n){const i=this;return r;function r(a){return ne(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return i.parser.lazy[i.now().line]?n(a):e(a)}}function Hz(t,e,n){return i;function i(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),t.attempt(Tu,e,n)}}const Gz={name:"htmlText",tokenize:$z};function $z(t,e,n){const i=this;let r,s,a;return o;function o(N){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(N),l}function l(N){return N===33?(t.consume(N),c):N===47?(t.consume(N),z):N===63?(t.consume(N),T):$t(N)?(t.consume(N),A):n(N)}function c(N){return N===45?(t.consume(N),h):N===91?(t.consume(N),s=0,w):$t(N)?(t.consume(N),E):n(N)}function h(N){return N===45?(t.consume(N),p):n(N)}function f(N){return N===null?n(N):N===45?(t.consume(N),d):ne(N)?(a=f,Y(N)):(t.consume(N),f)}function d(N){return N===45?(t.consume(N),p):f(N)}function p(N){return N===62?H(N):N===45?d(N):f(N)}function w(N){const Xe="CDATA[";return N===Xe.charCodeAt(s++)?(t.consume(N),s===Xe.length?I:w):n(N)}function I(N){return N===null?n(N):N===93?(t.consume(N),D):ne(N)?(a=I,Y(N)):(t.consume(N),I)}function D(N){return N===93?(t.consume(N),v):I(N)}function v(N){return N===62?H(N):N===93?(t.consume(N),v):I(N)}function E(N){return N===null||N===62?H(N):ne(N)?(a=E,Y(N)):(t.consume(N),E)}function T(N){return N===null?n(N):N===63?(t.consume(N),M):ne(N)?(a=T,Y(N)):(t.consume(N),T)}function M(N){return N===62?H(N):T(N)}function z(N){return $t(N)?(t.consume(N),V):n(N)}function V(N){return N===45||jt(N)?(t.consume(N),V):x(N)}function x(N){return ne(N)?(a=x,Y(N)):ye(N)?(t.consume(N),x):H(N)}function A(N){return N===45||jt(N)?(t.consume(N),A):N===47||N===62||Le(N)?_(N):n(N)}function _(N){return N===47?(t.consume(N),H):N===58||N===95||$t(N)?(t.consume(N),y):ne(N)?(a=_,Y(N)):ye(N)?(t.consume(N),_):H(N)}function y(N){return N===45||N===46||N===58||N===95||jt(N)?(t.consume(N),y):b(N)}function b(N){return N===61?(t.consume(N),k):ne(N)?(a=b,Y(N)):ye(N)?(t.consume(N),b):_(N)}function k(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(t.consume(N),r=N,C):ne(N)?(a=k,Y(N)):ye(N)?(t.consume(N),k):(t.consume(N),W)}function C(N){return N===r?(t.consume(N),r=void 0,Z):N===null?n(N):ne(N)?(a=C,Y(N)):(t.consume(N),C)}function W(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||Le(N)?_(N):(t.consume(N),W)}function Z(N){return N===47||N===62||Le(N)?_(N):n(N)}function H(N){return N===62?(t.consume(N),t.exit("htmlTextData"),t.exit("htmlText"),e):n(N)}function Y(N){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),ee}function ee(N){return ye(N)?Se(t,fe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):fe(N)}function fe(N){return t.enter("htmlTextData"),a(N)}}const E_={name:"labelEnd",resolveAll:Xz,resolveTo:Wz,tokenize:Jz},Qz={tokenize:Zz},Yz={tokenize:eU},Kz={tokenize:tU};function Xz(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return t.length!==n.length&&Sn(t,0,t.length,n),t}function Wz(t,e){let n=t.length,i=0,r,s,a,o;for(;n--;)if(r=t[n][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(a=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},h={type:"labelText",start:{...t[s+i+2][1].end},end:{...t[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=Nn(o,t.slice(s+1,s+i+3)),o=Nn(o,[["enter",h,e]]),o=Nn(o,Lf(e.parser.constructs.insideSpan.null,t.slice(s+i+4,a-3),e)),o=Nn(o,[["exit",h,e],t[a-2],t[a-1],["exit",c,e]]),o=Nn(o,t.slice(a+1)),o=Nn(o,[["exit",l,e]]),Sn(t,s,t.length,o),t}function Jz(t,e,n){const i=this;let r=i.events.length,s,a;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return o;function o(d){return s?s._inactive?f(d):(a=i.parser.defined.includes(Kn(i.sliceSerialize({start:s.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),l):n(d)}function l(d){return d===40?t.attempt(Qz,h,a?h:f)(d):d===91?t.attempt(Yz,h,a?c:f)(d):a?h(d):f(d)}function c(d){return t.attempt(Kz,h,f)(d)}function h(d){return e(d)}function f(d){return s._balanced=!0,n(d)}}function Zz(t,e,n){return i;function i(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),r}function r(f){return Le(f)?Sl(t,s)(f):s(f)}function s(f){return f===41?h(f):TI(t,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function a(f){return Le(f)?Sl(t,l)(f):h(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?SI(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function c(f){return Le(f)?Sl(t,h)(f):h(f)}function h(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function eU(t,e,n){const i=this;return r;function r(o){return bI.call(i,t,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return i.parser.defined.includes(Kn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function a(o){return n(o)}}function tU(t,e,n){return i;function i(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),r}function r(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const nU={name:"labelStartImage",resolveAll:E_.resolveAll,tokenize:iU};function iU(t,e,n){const i=this;return r;function r(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),s}function s(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),a):n(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(o):e(o)}}const rU={name:"labelStartLink",resolveAll:E_.resolveAll,tokenize:sU};function sU(t,e,n){const i=this;return r;function r(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):e(a)}}const am={name:"lineEnding",tokenize:aU};function aU(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Se(t,e,"linePrefix")}}const Vc={name:"thematicBreak",tokenize:oU};function oU(t,e,n){let i=0,r;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return r=c,o(c)}function o(c){return c===r?(t.enter("thematicBreakSequence"),l(c)):i>=3&&(c===null||ne(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===r?(t.consume(c),i++,l):(t.exit("thematicBreakSequence"),ye(c)?Se(t,o,"whitespace")(c):o(c))}}const nn={continuation:{tokenize:hU},exit:dU,name:"list",tokenize:cU},lU={partial:!0,tokenize:mU},uU={partial:!0,tokenize:fU};function cU(t,e,n){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return o;function o(p){const w=i.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!i.containerState.marker||p===i.containerState.marker:Wp(p)){if(i.containerState.type||(i.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Vc,n,c)(p):c(p);if(!i.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(p)}return n(p)}function l(p){return Wp(p)&&++a<10?(t.consume(p),l):(!i.interrupt||a<2)&&(i.containerState.marker?p===i.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||p,t.check(Tu,i.interrupt?n:h,t.attempt(lU,d,f))}function h(p){return i.containerState.initialBlankLine=!0,s++,d(p)}function f(p){return ye(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),d):n(p)}function d(p){return i.containerState.size=s+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}function hU(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Tu,r,s);function r(o){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Se(t,e,"listItemIndent",i.containerState.size+1)(o)}function s(o){return i.containerState.furtherBlankLines||!ye(o)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(o)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(uU,e,a)(o))}function a(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,Se(t,t.attempt(nn,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function fU(t,e,n){const i=this;return Se(t,r,"listItemIndent",i.containerState.size+1);function r(s){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?e(s):n(s)}}function dU(t){t.exit(this.containerState.type)}function mU(t,e,n){const i=this;return Se(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const a=i.events[i.events.length-1];return!ye(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const rE={name:"setextUnderline",resolveTo:pU,tokenize:gU};function pU(t,e){let n=t.length,i,r,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const a={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[r][1].type="setextHeadingText",s?(t.splice(r,0,["enter",a,e]),t.splice(s+1,0,["exit",t[i][1],e]),t[i][1].end={...t[s][1].end}):t[i][1]=a,t.push(["exit",a,e]),t}function gU(t,e,n){const i=this;let r;return s;function s(c){let h=i.events.length,f;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){f=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||f)?(t.enter("setextHeadingLine"),r=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===r?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),ye(c)?Se(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||ne(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const yU={tokenize:_U};function _U(t){const e=this,n=t.attempt(Tu,i,t.attempt(this.parser.constructs.flowInitial,r,Se(t,t.attempt(this.parser.constructs.flow,r,t.attempt(bz,r)),"linePrefix")));return n;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const vU={resolveAll:xI()},wU=AI("string"),EU=AI("text");function AI(t){return{resolveAll:xI(t==="text"?TU:void 0),tokenize:e};function e(n){const i=this,r=this.parser.constructs[t],s=n.attempt(r,a,o);return a;function a(h){return c(h)?s(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),s(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const f=r[h];let d=-1;if(f)for(;++d<f.length;){const p=f[d];if(!p.previous||p.previous.call(i,i.previous))return!0}return!1}}}function xI(t){return e;function e(n,i){let r=-1,s;for(;++r<=n.length;)s===void 0?n[r]&&n[r][1].type==="data"&&(s=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==s+2&&(n[s][1].end=n[r-1][1].end,n.splice(s+2,r-s-2),r=s+2),s=void 0);return t?t(n,i):n}}function TU(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let s=r.length,a=-1,o=0,l;for(;s--;){const c=r[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:i.start._bufferIndex+a,_index:i.start._index+s,line:i.end.line,column:i.end.column-o,offset:i.end.offset-o},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const bU={42:nn,43:nn,45:nn,48:nn,49:nn,50:nn,51:nn,52:nn,53:nn,54:nn,55:nn,56:nn,57:nn,62:_I},SU={91:Iz},AU={[-2]:sm,[-1]:sm,32:sm},xU={35:Mz,42:Vc,45:[rE,Vc],60:zz,61:rE,95:Vc,96:nE,126:nE},CU={38:wI,92:vI},IU={[-5]:am,[-4]:am,[-3]:am,33:nU,38:wI,42:Jp,60:[rz,Gz],91:rU,92:[Dz,vI],93:E_,95:Jp,96:yz},kU={null:[Jp,vU]},RU={null:[42,95]},NU={null:[]},DU=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:RU,contentInitial:SU,disable:NU,document:bU,flow:xU,flowInitial:AU,insideSpan:kU,string:CU,text:IU},Symbol.toStringTag,{value:"Module"}));function OU(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let a=[],o=[];const l={attempt:x(z),check:x(V),consume:E,enter:T,exit:M,interrupt:x(V,{interrupt:!0})},c={code:null,containerState:{},defineSkip:I,events:[],now:w,parser:t,previous:null,sliceSerialize:d,sliceStream:p,write:f};let h=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(b){return a=Nn(a,b),D(),a[a.length-1]!==null?[]:(A(e,0),c.events=Lf(s,c.events,c),c.events)}function d(b,k){return VU(p(b),k)}function p(b){return MU(a,b)}function w(){const{_bufferIndex:b,_index:k,line:C,column:W,offset:Z}=i;return{_bufferIndex:b,_index:k,line:C,column:W,offset:Z}}function I(b){r[b.line]=b.column,y()}function D(){let b;for(;i._index<a.length;){const k=a[i._index];if(typeof k=="string")for(b=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===b&&i._bufferIndex<k.length;)v(k.charCodeAt(i._bufferIndex));else v(k)}}function v(b){h=h(b)}function E(b){ne(b)?(i.line++,i.column=1,i.offset+=b===-3?2:1,y()):b!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=b}function T(b,k){const C=k||{};return C.type=b,C.start=w(),c.events.push(["enter",C,c]),o.push(C),C}function M(b){const k=o.pop();return k.end=w(),c.events.push(["exit",k,c]),k}function z(b,k){A(b,k.from)}function V(b,k){k.restore()}function x(b,k){return C;function C(W,Z,H){let Y,ee,fe,N;return Array.isArray(W)?nt(W):"tokenize"in W?nt([W]):Xe(W);function Xe(Ye){return Fn;function Fn(Xt){const qn=Xt!==null&&Ye[Xt],Hn=Xt!==null&&Ye.null,J=[...Array.isArray(qn)?qn:qn?[qn]:[],...Array.isArray(Hn)?Hn:Hn?[Hn]:[]];return nt(J)(Xt)}}function nt(Ye){return Y=Ye,ee=0,Ye.length===0?H:O(Ye[ee])}function O(Ye){return Fn;function Fn(Xt){return N=_(),fe=Ye,Ye.partial||(c.currentConstruct=Ye),Ye.name&&c.parser.constructs.disable.null.includes(Ye.name)?Et():Ye.tokenize.call(k?Object.assign(Object.create(c),k):c,l,Oe,Et)(Xt)}}function Oe(Ye){return b(fe,N),Z}function Et(Ye){return N.restore(),++ee<Y.length?O(Y[ee]):H}}}function A(b,k){b.resolveAll&&!s.includes(b)&&s.push(b),b.resolve&&Sn(c.events,k,c.events.length-k,b.resolve(c.events.slice(k),c)),b.resolveTo&&(c.events=b.resolveTo(c.events,c))}function _(){const b=w(),k=c.previous,C=c.currentConstruct,W=c.events.length,Z=Array.from(o);return{from:W,restore:H};function H(){i=b,c.previous=k,c.currentConstruct=C,c.events.length=W,o=Z,y()}}function y(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function MU(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let a;if(n===r)a=[t[n].slice(i,s)];else{if(a=t.slice(n,r),i>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(i):a.shift()}s>0&&a.push(t[r].slice(0,s))}return a}function VU(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const s=t[n];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&r)continue;a=" ";break}default:a=String.fromCharCode(s)}r=s===-2,i.push(a)}return i.join("")}function LU(t){const i={constructs:gI([DU,...(t||{}).extensions||[]]),content:r(W9),defined:[],document:r(Z9),flow:r(yU),lazy:{},string:r(wU),text:r(EU)};return i;function r(s){return a;function a(o){return OU(i,s,o)}}}function PU(t){for(;!EI(t););return t}const sE=/[\0\t\n\r]/g;function zU(){let t=1,e="",n=!0,i;return r;function r(s,a,o){const l=[];let c,h,f,d,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(sE.lastIndex=f,c=sE.exec(s),d=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(d),!c){e=s.slice(f);break}if(p===10&&f===d&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),f<d&&(l.push(s.slice(f,d)),t+=d-f),p){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:i=!0,t=1}f=d+1}return o&&(i&&l.push(-5),e&&l.push(e),l.push(null)),l}}const UU=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jU(t){return t.replace(UU,BU)}function BU(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),s=r===120||r===88;return yI(n.slice(s?2:1),s?16:10)}return w_(n)||t}const CI={}.hasOwnProperty;function FU(t,e,n){return typeof e!="string"&&(n=e,e=void 0),qU(n)(PU(LU(n).document().write(zU()(t,e,!0))))}function qU(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(gt),autolinkProtocol:_,autolinkEmail:_,atxHeading:s(Su),blockQuote:s(Hn),characterEscape:_,characterReference:_,codeFenced:s(J),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(J,a),codeText:s(Be,a),codeTextData:_,data:_,codeFlowValue:_,definition:s(Wt),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(ei),hardBreakEscape:s($s),hardBreakTrailing:s($s),htmlFlow:s(Qs,a),htmlFlowData:_,htmlText:s(Qs,a),htmlTextData:_,image:s(Au),label:a,link:s(gt),listItem:s(Ys),listItemValue:d,listOrdered:s(Tt,f),listUnordered:s(Tt),paragraph:s(jf),reference:O,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Su),strong:s(xu),thematicBreak:s(ts)},exit:{atxHeading:l(),atxHeadingSequence:z,autolink:l(),autolinkEmail:qn,autolinkProtocol:Xt,blockQuote:l(),characterEscapeValue:y,characterReferenceMarkerHexadecimal:Et,characterReferenceMarkerNumeric:Et,characterReferenceValue:Ye,characterReference:Fn,codeFenced:l(D),codeFencedFence:I,codeFencedFenceInfo:p,codeFencedFenceMeta:w,codeFlowValue:y,codeIndented:l(v),codeText:l(Z),codeTextData:y,data:y,definition:l(),definitionDestinationString:M,definitionLabelString:E,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(k),hardBreakTrailing:l(k),htmlFlow:l(C),htmlFlowData:y,htmlText:l(W),htmlTextData:y,image:l(Y),label:fe,labelText:ee,lineEnding:b,link:l(H),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Oe,resourceDestinationString:N,resourceTitleString:Xe,resource:nt,setextHeading:l(A),setextHeadingLineSequence:x,setextHeadingText:V,strong:l(),thematicBreak:l()}};II(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(U){let $={type:"root",children:[]};const se={stack:[$],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:h,data:n},me=[];let Ie=-1;for(;++Ie<U.length;)if(U[Ie][1].type==="listOrdered"||U[Ie][1].type==="listUnordered")if(U[Ie][0]==="enter")me.push(Ie);else{const Jt=me.pop();Ie=r(U,Jt,Ie)}for(Ie=-1;++Ie<U.length;){const Jt=e[U[Ie][0]];CI.call(Jt,U[Ie][1].type)&&Jt[U[Ie][1].type].call(Object.assign({sliceSerialize:U[Ie][2].sliceSerialize},se),U[Ie][1])}if(se.tokenStack.length>0){const Jt=se.tokenStack[se.tokenStack.length-1];(Jt[1]||aE).call(se,void 0,Jt[0])}for($.position={start:ur(U.length>0?U[0][1].start:{line:1,column:1,offset:0}),end:ur(U.length>0?U[U.length-2][1].end:{line:1,column:1,offset:0})},Ie=-1;++Ie<e.transforms.length;)$=e.transforms[Ie]($)||$;return $}function r(U,$,se){let me=$-1,Ie=-1,Jt=!1,ti,qt,bi,Si;for(;++me<=se;){const it=U[me];switch(it[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{it[0]==="enter"?Ie++:Ie--,Si=void 0;break}case"lineEndingBlank":{it[0]==="enter"&&(ti&&!Si&&!Ie&&!bi&&(bi=me),Si=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Si=void 0}if(!Ie&&it[0]==="enter"&&it[1].type==="listItemPrefix"||Ie===-1&&it[0]==="exit"&&(it[1].type==="listUnordered"||it[1].type==="listOrdered")){if(ti){let Ai=me;for(qt=void 0;Ai--;){const Zt=U[Ai];if(Zt[1].type==="lineEnding"||Zt[1].type==="lineEndingBlank"){if(Zt[0]==="exit")continue;qt&&(U[qt][1].type="lineEndingBlank",Jt=!0),Zt[1].type="lineEnding",qt=Ai}else if(!(Zt[1].type==="linePrefix"||Zt[1].type==="blockQuotePrefix"||Zt[1].type==="blockQuotePrefixWhitespace"||Zt[1].type==="blockQuoteMarker"||Zt[1].type==="listItemIndent"))break}bi&&(!qt||bi<qt)&&(ti._spread=!0),ti.end=Object.assign({},qt?U[qt][1].start:it[1].end),U.splice(qt||me,0,["exit",ti,it[2]]),me++,se++}if(it[1].type==="listItemPrefix"){const Ai={type:"listItem",_spread:!1,start:Object.assign({},it[1].start),end:void 0};ti=Ai,U.splice(me,0,["enter",Ai,it[2]]),me++,se++,bi=void 0,Si=!0}}}return U[$][1]._spread=Jt,se}function s(U,$){return se;function se(me){o.call(this,U(me),me),$&&$.call(this,me)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(U,$,se){this.stack[this.stack.length-1].children.push(U),this.stack.push(U),this.tokenStack.push([$,se||void 0]),U.position={start:ur($.start),end:void 0}}function l(U){return $;function $(se){U&&U.call(this,se),c.call(this,se)}}function c(U,$){const se=this.stack.pop(),me=this.tokenStack.pop();if(me)me[0].type!==U.type&&($?$.call(this,U,me[0]):(me[1]||aE).call(this,U,me[0]));else throw new Error("Cannot close `"+U.type+"` ("+bl({start:U.start,end:U.end})+"): its not open");se.position.end=ur(U.end)}function h(){return v_(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function d(U){if(this.data.expectingFirstListItemValue){const $=this.stack[this.stack.length-2];$.start=Number.parseInt(this.sliceSerialize(U),10),this.data.expectingFirstListItemValue=void 0}}function p(){const U=this.resume(),$=this.stack[this.stack.length-1];$.lang=U}function w(){const U=this.resume(),$=this.stack[this.stack.length-1];$.meta=U}function I(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function D(){const U=this.resume(),$=this.stack[this.stack.length-1];$.value=U.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const U=this.resume(),$=this.stack[this.stack.length-1];$.value=U.replace(/(\r?\n|\r)$/g,"")}function E(U){const $=this.resume(),se=this.stack[this.stack.length-1];se.label=$,se.identifier=Kn(this.sliceSerialize(U)).toLowerCase()}function T(){const U=this.resume(),$=this.stack[this.stack.length-1];$.title=U}function M(){const U=this.resume(),$=this.stack[this.stack.length-1];$.url=U}function z(U){const $=this.stack[this.stack.length-1];if(!$.depth){const se=this.sliceSerialize(U).length;$.depth=se}}function V(){this.data.setextHeadingSlurpLineEnding=!0}function x(U){const $=this.stack[this.stack.length-1];$.depth=this.sliceSerialize(U).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function _(U){const se=this.stack[this.stack.length-1].children;let me=se[se.length-1];(!me||me.type!=="text")&&(me=Bf(),me.position={start:ur(U.start),end:void 0},se.push(me)),this.stack.push(me)}function y(U){const $=this.stack.pop();$.value+=this.sliceSerialize(U),$.position.end=ur(U.end)}function b(U){const $=this.stack[this.stack.length-1];if(this.data.atHardBreak){const se=$.children[$.children.length-1];se.position.end=ur(U.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes($.type)&&(_.call(this,U),y.call(this,U))}function k(){this.data.atHardBreak=!0}function C(){const U=this.resume(),$=this.stack[this.stack.length-1];$.value=U}function W(){const U=this.resume(),$=this.stack[this.stack.length-1];$.value=U}function Z(){const U=this.resume(),$=this.stack[this.stack.length-1];$.value=U}function H(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=$,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function Y(){const U=this.stack[this.stack.length-1];if(this.data.inReference){const $=this.data.referenceType||"shortcut";U.type+="Reference",U.referenceType=$,delete U.url,delete U.title}else delete U.identifier,delete U.label;this.data.referenceType=void 0}function ee(U){const $=this.sliceSerialize(U),se=this.stack[this.stack.length-2];se.label=jU($),se.identifier=Kn($).toLowerCase()}function fe(){const U=this.stack[this.stack.length-1],$=this.resume(),se=this.stack[this.stack.length-1];if(this.data.inReference=!0,se.type==="link"){const me=U.children;se.children=me}else se.alt=$}function N(){const U=this.resume(),$=this.stack[this.stack.length-1];$.url=U}function Xe(){const U=this.resume(),$=this.stack[this.stack.length-1];$.title=U}function nt(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function Oe(U){const $=this.resume(),se=this.stack[this.stack.length-1];se.label=$,se.identifier=Kn(this.sliceSerialize(U)).toLowerCase(),this.data.referenceType="full"}function Et(U){this.data.characterReferenceType=U.type}function Ye(U){const $=this.sliceSerialize(U),se=this.data.characterReferenceType;let me;se?(me=yI($,se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):me=w_($);const Ie=this.stack[this.stack.length-1];Ie.value+=me}function Fn(U){const $=this.stack.pop();$.position.end=ur(U.end)}function Xt(U){y.call(this,U);const $=this.stack[this.stack.length-1];$.url=this.sliceSerialize(U)}function qn(U){y.call(this,U);const $=this.stack[this.stack.length-1];$.url="mailto:"+this.sliceSerialize(U)}function Hn(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function Be(){return{type:"inlineCode",value:""}}function Wt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ei(){return{type:"emphasis",children:[]}}function Su(){return{type:"heading",depth:0,children:[]}}function $s(){return{type:"break"}}function Qs(){return{type:"html",value:""}}function Au(){return{type:"image",title:null,url:"",alt:null}}function gt(){return{type:"link",title:null,url:"",children:[]}}function Tt(U){return{type:"list",ordered:U.type==="listOrdered",start:null,spread:U._spread,children:[]}}function Ys(U){return{type:"listItem",spread:U._spread,checked:null,children:[]}}function jf(){return{type:"paragraph",children:[]}}function xu(){return{type:"strong",children:[]}}function Bf(){return{type:"text",value:""}}function ts(){return{type:"thematicBreak"}}}function ur(t){return{line:t.line,column:t.column,offset:t.offset}}function II(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?II(t,i):HU(t,i)}}function HU(t,e){let n;for(n in e)if(CI.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function aE(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+bl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+bl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+bl({start:e.start,end:e.end})+") is still open")}function GU(t){const e=this;e.parser=n;function n(i){return FU(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function $U(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function QU(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function YU(t,e){const n=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(s.data={meta:e.meta}),t.patch(e,s),s=t.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},t.patch(e,s),s}function KU(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function XU(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function WU(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=To(i.toLowerCase()),s=t.footnoteOrder.indexOf(i);let a,o=t.footnoteCounts.get(i);o===void 0?(o=0,t.footnoteOrder.push(i),a=t.footnoteOrder.length):a=s+1,o+=1,t.footnoteCounts.set(i,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function JU(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function ZU(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function kI(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=t.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=i:r.push({type:"text",value:i}),r}function ej(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return kI(t,e);const r={src:To(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return t.patch(e,s),t.applyData(e,s)}function tj(t,e){const n={src:To(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function nj(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function ij(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return kI(t,e);const r={href:To(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function rj(t,e){const n={href:To(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function sj(t,e,n){const i=t.all(e),r=n?aj(n):RI(e),s={},a=[];if(typeof e.checked=="boolean"){const h=i[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},i.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const h=i[o];(r||o!==0||h.type!=="element"||h.tagName!=="p")&&a.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!r?a.push(...h.children):a.push(h)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return t.patch(e,c),t.applyData(e,c)}function aj(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=RI(n[i])}return e}function RI(t){const e=t.spread;return e??t.children.length>1}function oj(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const a=i[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function lj(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function uj(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function cj(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hj(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=p_(e.children[1]),l=uI(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),r.push(a)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function fj(t,e,n){const i=n?n.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const f=e.children[l],d={},p=a?a[l]:void 0;p&&(d.align=p);let w={type:"element",tagName:s,properties:d,children:[]};f&&(w.children=t.all(f),t.patch(f,w),w=t.applyData(f,w)),c.push(w)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function dj(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const oE=9,lE=32;function mj(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const s=[];for(;i;)s.push(uE(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return s.push(uE(e.slice(r),r>0,!1)),s.join("")}function uE(t,e,n){let i=0,r=t.length;if(e){let s=t.codePointAt(i);for(;s===oE||s===lE;)i++,s=t.codePointAt(i)}if(n){let s=t.codePointAt(r-1);for(;s===oE||s===lE;)r--,s=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function pj(t,e){const n={type:"text",value:mj(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function gj(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const yj={blockquote:$U,break:QU,code:YU,delete:KU,emphasis:XU,footnoteReference:WU,heading:JU,html:ZU,imageReference:ej,image:tj,inlineCode:nj,linkReference:ij,link:rj,listItem:sj,list:oj,paragraph:lj,root:uj,strong:cj,table:hj,tableCell:dj,tableRow:fj,text:pj,thematicBreak:gj,toml:sc,yaml:sc,definition:sc,footnoteDefinition:sc};function sc(){}const NI=-1,Pf=0,Al=1,Vh=2,T_=3,b_=4,S_=5,A_=6,DI=7,OI=8,cE=typeof self=="object"?self:globalThis,_j=(t,e)=>{const n=(r,s)=>(t.set(s,r),r),i=r=>{if(t.has(r))return t.get(r);const[s,a]=e[r];switch(s){case Pf:case NI:return n(a,r);case Al:{const o=n([],r);for(const l of a)o.push(i(l));return o}case Vh:{const o=n({},r);for(const[l,c]of a)o[i(l)]=i(c);return o}case T_:return n(new Date(a),r);case b_:{const{source:o,flags:l}=a;return n(new RegExp(o,l),r)}case S_:{const o=n(new Map,r);for(const[l,c]of a)o.set(i(l),i(c));return o}case A_:{const o=n(new Set,r);for(const l of a)o.add(i(l));return o}case DI:{const{name:o,message:l}=a;return n(new cE[o](l),r)}case OI:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return n(new DataView(o),a)}}return n(new cE[s](a),r)};return i},hE=t=>_j(new Map,t)(0),ea="",{toString:vj}={},{keys:wj}=Object,$o=t=>{const e=typeof t;if(e!=="object"||!t)return[Pf,e];const n=vj.call(t).slice(8,-1);switch(n){case"Array":return[Al,ea];case"Object":return[Vh,ea];case"Date":return[T_,ea];case"RegExp":return[b_,ea];case"Map":return[S_,ea];case"Set":return[A_,ea];case"DataView":return[Al,n]}return n.includes("Array")?[Al,n]:n.includes("Error")?[DI,n]:[Vh,n]},ac=([t,e])=>t===Pf&&(e==="function"||e==="symbol"),Ej=(t,e,n,i)=>{const r=(a,o)=>{const l=i.push(a)-1;return n.set(o,l),l},s=a=>{if(n.has(a))return n.get(a);let[o,l]=$o(a);switch(o){case Pf:{let h=a;switch(l){case"bigint":o=OI,h=a.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return r([NI],a)}return r([o,h],a)}case Al:{if(l){let d=a;return l==="DataView"?d=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(d=new Uint8Array(a)),r([l,[...d]],a)}const h=[],f=r([o,h],a);for(const d of a)h.push(s(d));return f}case Vh:{if(l)switch(l){case"BigInt":return r([l,a.toString()],a);case"Boolean":case"Number":case"String":return r([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const h=[],f=r([o,h],a);for(const d of wj(a))(t||!ac($o(a[d])))&&h.push([s(d),s(a[d])]);return f}case T_:return r([o,a.toISOString()],a);case b_:{const{source:h,flags:f}=a;return r([o,{source:h,flags:f}],a)}case S_:{const h=[],f=r([o,h],a);for(const[d,p]of a)(t||!(ac($o(d))||ac($o(p))))&&h.push([s(d),s(p)]);return f}case A_:{const h=[],f=r([o,h],a);for(const d of a)(t||!ac($o(d)))&&h.push(s(d));return f}}const{message:c}=a;return r([o,{name:l,message:c}],a)};return s},fE=(t,{json:e,lossy:n}={})=>{const i=[];return Ej(!(e||n),!!e,new Map,i)(t),i},Lh=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?hE(fE(t,e)):structuredClone(t):(t,e)=>hE(fE(t,e));function Tj(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function bj(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Sj(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Tj,i=t.options.footnoteBackLabel||bj,r=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",a=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const h=t.all(c),f=String(c.identifier).toUpperCase(),d=To(f.toLowerCase());let p=0;const w=[],I=t.footnoteCounts.get(f);for(;I!==void 0&&++p<=I;){w.length>0&&w.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,p);typeof E=="string"&&(E={type:"text",value:E}),w.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+d+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(l,p),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const D=h[h.length-1];if(D&&D.type==="element"&&D.tagName==="p"){const E=D.children[D.children.length-1];E&&E.type==="text"?E.value+=" ":D.children.push({type:"text",value:" "}),D.children.push(...w)}else h.push(...w);const v={type:"element",tagName:"li",properties:{id:e+"fn-"+d},children:t.wrap(h,!0)};t.patch(c,v),o.push(v)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Lh(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const zf=function(t){if(t==null)return Ij;if(typeof t=="function")return Uf(t);if(typeof t=="object")return Array.isArray(t)?Aj(t):xj(t);if(typeof t=="string")return Cj(t);throw new Error("Expected function, string, or object as test")};function Aj(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=zf(t[n]);return Uf(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function xj(t){const e=t;return Uf(n);function n(i){const r=i;let s;for(s in t)if(r[s]!==e[s])return!1;return!0}}function Cj(t){return Uf(e);function e(n){return n&&n.type===t}}function Uf(t){return e;function e(n,i,r){return!!(kj(n)&&t.call(this,n,typeof i=="number"?i:void 0,r||void 0))}}function Ij(){return!0}function kj(t){return t!==null&&typeof t=="object"&&"type"in t}const MI=[],Rj=!0,Zp=!1,Nj="skip";function VI(t,e,n,i){let r;typeof e=="function"&&typeof n!="function"?(i=n,n=e):r=e;const s=zf(r),a=i?-1:1;o(t,void 0,[])();function o(l,c,h){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const p=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(p?"<"+p+">":""))+")"})}return d;function d(){let p=MI,w,I,D;if((!e||s(l,c,h[h.length-1]||void 0))&&(p=Dj(n(l,h)),p[0]===Zp))return p;if("children"in l&&l.children){const v=l;if(v.children&&p[0]!==Nj)for(I=(i?v.children.length:-1)+a,D=h.concat(v);I>-1&&I<v.children.length;){const E=v.children[I];if(w=o(E,I,D)(),w[0]===Zp)return w;I=typeof w[1]=="number"?w[1]:I+a}}return p}}}function Dj(t){return Array.isArray(t)?t:typeof t=="number"?[Rj,t]:t==null?MI:[t]}function x_(t,e,n,i){let r,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,r=n):(s=e,a=n,r=i),VI(t,s,o,r);function o(l,c){const h=c[c.length-1],f=h?h.children.indexOf(l):void 0;return a(l,f,h)}}const eg={}.hasOwnProperty,Oj={};function Mj(t,e){const n=e||Oj,i=new Map,r=new Map,s=new Map,a={...yj,...n.handlers},o={all:c,applyData:Lj,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:n,patch:Vj,wrap:zj};return x_(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?i:r,d=String(h.identifier).toUpperCase();f.has(d)||f.set(d,h)}}),o;function l(h,f){const d=h.type,p=o.handlers[d];if(eg.call(o.handlers,d)&&p)return p(o,h,f);if(o.options.passThrough&&o.options.passThrough.includes(d)){if("children"in h){const{children:I,...D}=h,v=Lh(D);return v.children=o.all(h),v}return Lh(h)}return(o.options.unknownHandler||Pj)(o,h,f)}function c(h){const f=[];if("children"in h){const d=h.children;let p=-1;for(;++p<d.length;){const w=o.one(d[p],h);if(w){if(p&&d[p-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=dE(w.value)),!Array.isArray(w)&&w.type==="element")){const I=w.children[0];I&&I.type==="text"&&(I.value=dE(I.value))}Array.isArray(w)?f.push(...w):f.push(w)}}}return f}}function Vj(t,e){t.position&&(e.position=b9(t))}function Lj(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,s=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const a="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:a}}n.type==="element"&&s&&Object.assign(n.properties,Lh(s)),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function Pj(t,e){const n=e.data||{},i="value"in e&&!(eg.call(n,"hProperties")||eg.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function zj(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function dE(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function mE(t,e){const n=Mj(t,e),i=n.one(t,void 0),r=Sj(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function Uj(t,e){return t&&"run"in t?async function(n,i){const r=mE(n,{file:i,...e});await t.run(r,i)}:function(n,i){return mE(n,{file:i,...t||e})}}function pE(t){if(t)throw t}var Lc=Object.prototype.hasOwnProperty,LI=Object.prototype.toString,gE=Object.defineProperty,yE=Object.getOwnPropertyDescriptor,_E=function(e){return typeof Array.isArray=="function"?Array.isArray(e):LI.call(e)==="[object Array]"},vE=function(e){if(!e||LI.call(e)!=="[object Object]")return!1;var n=Lc.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Lc.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var r;for(r in e);return typeof r>"u"||Lc.call(e,r)},wE=function(e,n){gE&&n.name==="__proto__"?gE(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},EE=function(e,n){if(n==="__proto__")if(Lc.call(e,n)){if(yE)return yE(e,n).value}else return;return e[n]},jj=function t(){var e,n,i,r,s,a,o=arguments[0],l=1,c=arguments.length,h=!1;for(typeof o=="boolean"&&(h=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)i=EE(o,n),r=EE(e,n),o!==r&&(h&&r&&(vE(r)||(s=_E(r)))?(s?(s=!1,a=i&&_E(i)?i:[]):a=i&&vE(i)?i:{},wE(o,{name:n,newValue:t(h,a,r)})):typeof r<"u"&&wE(o,{name:n,newValue:r}));return o};const om=zh(jj);function tg(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Bj(){const t=[],e={run:n,use:i};return e;function n(...r){let s=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...r);function o(l,...c){const h=t[++s];let f=-1;if(l){a(l);return}for(;++f<r.length;)(c[f]===null||c[f]===void 0)&&(c[f]=r[f]);r=c,h?Fj(h,o)(...c):a(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function Fj(t,e){let n;return i;function i(...a){const o=t.length>a.length;let l;o&&a.push(r);try{l=t.apply(this,a)}catch(c){const h=c;if(o&&n)throw h;return r(h)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,r):l instanceof Error?r(l):s(l))}function r(a,...o){n||(n=!0,e(a,...o))}function s(a){r(null,a)}}const ri={basename:qj,dirname:Hj,extname:Gj,join:$j,sep:"/"};function qj(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');bu(t);let n=0,i=-1,r=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let a=-1,o=e.length-1;for(;r--;)if(t.codePointAt(r)===47){if(s){n=r+1;break}}else a<0&&(s=!0,a=r+1),o>-1&&(t.codePointAt(r)===e.codePointAt(o--)?o<0&&(i=r):(o=-1,i=a));return n===i?i=a:i<0&&(i=t.length),t.slice(n,i)}function Hj(t){if(bu(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Gj(t){bu(t);let e=t.length,n=-1,i=0,r=-1,s=0,a;for(;e--;){const o=t.codePointAt(e);if(o===47){if(a){i=e+1;break}continue}n<0&&(a=!0,n=e+1),o===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||n<0||s===0||s===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function $j(...t){let e=-1,n;for(;++e<t.length;)bu(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Qj(n)}function Qj(t){bu(t);const e=t.codePointAt(0)===47;let n=Yj(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Yj(t,e){let n="",i=0,r=-1,s=0,a=-1,o,l;for(;++a<=t.length;){if(a<t.length)o=t.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(r===a-1||s===1))if(r!==a-1&&s===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",i=0):(n=n.slice(0,l),i=n.length-1-n.lastIndexOf("/")),r=a,s=0;continue}}else if(n.length>0){n="",i=0,r=a,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,a):n=t.slice(r+1,a),i=a-r-1;r=a,s=0}else o===46&&s>-1?s++:s=-1}return n}function bu(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Kj={cwd:Xj};function Xj(){return"/"}function ng(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Wj(t){if(typeof t=="string")t=new URL(t);else if(!ng(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Jj(t)}function Jj(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const lm=["history","path","basename","stem","extname","dirname"];class PI{constructor(e){let n;e?ng(e)?n={path:e}:typeof e=="string"||Zj(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Kj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<lm.length;){const s=lm[i];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let r;for(r in n)lm.includes(r)||(this[r]=n[r])}get basename(){return typeof this.path=="string"?ri.basename(this.path):void 0}set basename(e){cm(e,"basename"),um(e,"basename"),this.path=ri.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?ri.dirname(this.path):void 0}set dirname(e){TE(this.basename,"dirname"),this.path=ri.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?ri.extname(this.path):void 0}set extname(e){if(um(e,"extname"),TE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ri.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){ng(e)&&(e=Wj(e)),cm(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?ri.basename(this.path,this.extname):void 0}set stem(e){cm(e,"stem"),um(e,"stem"),this.path=ri.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=void 0,r}message(e,n,i){const r=new Ft(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function um(t,e){if(t&&t.includes(ri.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+ri.sep+"`")}function cm(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function TE(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Zj(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const e8=function(t){const i=this.constructor.prototype,r=i[t],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},t8={}.hasOwnProperty;class C_ extends e8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Bj()}copy(){const e=new C_;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(om(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(dm("data",this.frozen),this.namespace[e]=n,this):t8.call(this.namespace,e)&&this.namespace[e]||void 0:e?(dm("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=n.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=oc(e),i=this.parser||this.Parser;return hm("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),hm("process",this.parser||this.Parser),fm("process",this.compiler||this.Compiler),n?r(void 0,n):new Promise(r);function r(s,a){const o=oc(e),l=i.parse(o);i.run(l,o,function(h,f,d){if(h||!f||!d)return c(h);const p=f,w=i.stringify(p,d);r8(w)?d.value=w:d.result=w,c(h,d)});function c(h,f){h||!f?a(h):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,i;return this.freeze(),hm("processSync",this.parser||this.Parser),fm("processSync",this.compiler||this.Compiler),this.process(e,r),SE("processSync","process",n),i;function r(s,a){n=!0,pE(s),i=a}}run(e,n,i){bE(e),this.freeze();const r=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?s(void 0,i):new Promise(s);function s(a,o){const l=oc(n);r.run(e,l,c);function c(h,f,d){const p=f||e;h?o(h):a?a(p):i(void 0,p,d)}}}runSync(e,n){let i=!1,r;return this.run(e,n,s),SE("runSync","run",i),r;function s(a,o){pE(a),r=o,i=!0}}stringify(e,n){this.freeze();const i=oc(n),r=this.compiler||this.Compiler;return fm("stringify",r),bE(e),r(e,i)}use(e,...n){const i=this.attachers,r=this.namespace;if(dm("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...f]=c;l(h,f)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(r.settings=om(!0,r.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const f=c[h];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let f=-1,d=-1;for(;++f<i.length;)if(i[f][0]===c){d=f;break}if(d===-1)i.push([c,...h]);else if(h.length>0){let[p,...w]=h;const I=i[d][1];tg(I)&&tg(p)&&(p=om(!0,I,p)),i[d]=[c,p,...w]}}}}const n8=new C_().freeze();function hm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function fm(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function dm(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function bE(t){if(!tg(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function SE(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function oc(t){return i8(t)?t:new PI(t)}function i8(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function r8(t){return typeof t=="string"||s8(t)}function s8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const a8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",AE=[],xE={allowDangerousHtml:!0},o8=/^(https?|ircs?|mailto|xmpp)$/i,l8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function u8(t){const e=c8(t),n=h8(t);return f8(e.runSync(e.parse(n),n),t)}function c8(t){const e=t.rehypePlugins||AE,n=t.remarkPlugins||AE,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...xE}:xE;return n8().use(GU).use(n).use(Uj,i).use(e)}function h8(t){const e=t.children||"",n=new PI;return typeof e=="string"&&(n.value=e),n}function f8(t,e){const n=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||d8;for(const h of l8)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+a8+h.id,void 0);return x_(t,c),I9(t,{Fragment:R.Fragment,components:r,ignoreInvalidStyle:!0,jsx:R.jsx,jsxs:R.jsxs,passKeys:!0,passNode:!0});function c(h,f,d){if(h.type==="raw"&&d&&typeof f=="number")return a?d.children.splice(f,1):d.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let p;for(p in rm)if(Object.hasOwn(rm,p)&&Object.hasOwn(h.properties,p)){const w=h.properties[p],I=rm[p];(I===null||I.includes(h.tagName))&&(h.properties[p]=l(String(w||""),p,h))}}if(h.type==="element"){let p=n?!n.includes(h.tagName):s?s.includes(h.tagName):!1;if(!p&&i&&typeof f=="number"&&(p=!i(h,f,d)),p&&d&&typeof f=="number")return o&&h.children?d.children.splice(f,1,...h.children):d.children.splice(f,1),f}}}function d8(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),r=t.indexOf("/");return e===-1||r!==-1&&e>r||n!==-1&&e>n||i!==-1&&e>i||o8.test(t.slice(0,e))?t:""}function CE(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}function m8(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function p8(t,e,n){const r=zf((n||{}).ignore||[]),s=g8(e);let a=-1;for(;++a<s.length;)VI(t,"text",o);function o(c,h){let f=-1,d;for(;++f<h.length;){const p=h[f],w=d?d.children:void 0;if(r(p,w?w.indexOf(p):void 0,d))return;d=p}if(d)return l(c,h)}function l(c,h){const f=h[h.length-1],d=s[a][0],p=s[a][1];let w=0;const D=f.children.indexOf(c);let v=!1,E=[];d.lastIndex=0;let T=d.exec(c.value);for(;T;){const M=T.index,z={index:T.index,input:T.input,stack:[...h,c]};let V=p(...T,z);if(typeof V=="string"&&(V=V.length>0?{type:"text",value:V}:void 0),V===!1?d.lastIndex=M+1:(w!==M&&E.push({type:"text",value:c.value.slice(w,M)}),Array.isArray(V)?E.push(...V):V&&E.push(V),w=M+T[0].length,v=!0),!d.global)break;T=d.exec(c.value)}return v?(w<c.value.length&&E.push({type:"text",value:c.value.slice(w)}),f.children.splice(D,1,...E)):E=[c],D+E.length}}function g8(t){const e=[];if(!Array.isArray(t))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!t[0]||Array.isArray(t[0])?t:[t];let i=-1;for(;++i<n.length;){const r=n[i];e.push([y8(r[0]),_8(r[1])])}return e}function y8(t){return typeof t=="string"?new RegExp(m8(t),"g"):t}function _8(t){return typeof t=="function"?t:function(){return t}}const mm="phrasing",pm=["autolink","link","image","label"];function v8(){return{transforms:[x8],enter:{literalAutolink:E8,literalAutolinkEmail:gm,literalAutolinkHttp:gm,literalAutolinkWww:gm},exit:{literalAutolink:A8,literalAutolinkEmail:S8,literalAutolinkHttp:T8,literalAutolinkWww:b8}}}function w8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:mm,notInConstruct:pm},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:mm,notInConstruct:pm},{character:":",before:"[ps]",after:"\\/",inConstruct:mm,notInConstruct:pm}]}}function E8(t){this.enter({type:"link",title:null,url:"",children:[]},t)}function gm(t){this.config.enter.autolinkProtocol.call(this,t)}function T8(t){this.config.exit.autolinkProtocol.call(this,t)}function b8(t){this.config.exit.data.call(this,t);const e=this.stack[this.stack.length-1];e.type,e.url="http://"+this.sliceSerialize(t)}function S8(t){this.config.exit.autolinkEmail.call(this,t)}function A8(t){this.exit(t)}function x8(t){p8(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,C8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),I8]],{ignore:["link","linkReference"]})}function C8(t,e,n,i,r){let s="";if(!zI(r)||(/^w/i.test(e)&&(n=e+n,e="",s="http://"),!k8(n)))return!1;const a=R8(n+i);if(!a[0])return!1;const o={type:"link",title:null,url:s+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function I8(t,e,n,i){return!zI(i,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function k8(t){const e=t.split(".");return!(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))}function R8(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);if(!e)return[t,void 0];t=t.slice(0,e.index);let n=e[0],i=n.indexOf(")");const r=CE(t,"(");let s=CE(t,")");for(;i!==-1&&r>s;)t+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[t,n]}function zI(t,e){const n=t.input.charCodeAt(t.index-1);return(t.index===0||Vs(n)||Vf(n))&&(!e||n!==47)}UI.peek=U8;function N8(){this.buffer()}function D8(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)}function O8(){this.buffer()}function M8(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)}function V8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Kn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function L8(t){this.exit(t)}function P8(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Kn(this.sliceSerialize(t)).toLowerCase(),n.label=e}function z8(t){this.exit(t)}function U8(){return"["}function UI(t,e,n,i){const r=n.createTracker(i);let s=r.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=r.move(n.safe(n.associationId(t),{after:"]",before:s})),o(),a(),s+=r.move("]"),s}function j8(){return{enter:{gfmFootnoteCallString:N8,gfmFootnoteCall:D8,gfmFootnoteDefinitionLabelString:O8,gfmFootnoteDefinition:M8},exit:{gfmFootnoteCallString:V8,gfmFootnoteCall:L8,gfmFootnoteDefinitionLabelString:P8,gfmFootnoteDefinition:z8}}}function B8(t){let e=!1;return t&&t.firstLineBlank&&(e=!0),{handlers:{footnoteDefinition:n,footnoteReference:UI},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(i,r,s,a){const o=s.createTracker(a);let l=o.move("[^");const c=s.enter("footnoteDefinition"),h=s.enter("label");return l+=o.move(s.safe(s.associationId(i),{before:l,after:"]"})),h(),l+=o.move("]:"),i.children&&i.children.length>0&&(o.shift(4),l+=o.move((e?`
`:" ")+s.indentLines(s.containerFlow(i,o.current()),e?jI:F8))),c(),l}}function F8(t,e,n){return e===0?t:jI(t,e,n)}function jI(t,e,n){return(n?"":"    ")+t}const q8=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];BI.peek=Y8;function H8(){return{canContainEols:["delete"],enter:{strikethrough:$8},exit:{strikethrough:Q8}}}function G8(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:q8}],handlers:{delete:BI}}}function $8(t){this.enter({type:"delete",children:[]},t)}function Q8(t){this.exit(t)}function BI(t,e,n,i){const r=n.createTracker(i),s=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(t,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),s(),a}function Y8(){return"~"}function K8(t){return t.length}function X8(t,e){const n=e||{},i=(n.align||[]).concat(),r=n.stringLength||K8,s=[],a=[],o=[],l=[];let c=0,h=-1;for(;++h<t.length;){const I=[],D=[];let v=-1;for(t[h].length>c&&(c=t[h].length);++v<t[h].length;){const E=W8(t[h][v]);if(n.alignDelimiters!==!1){const T=r(E);D[v]=T,(l[v]===void 0||T>l[v])&&(l[v]=T)}I.push(E)}a[h]=I,o[h]=D}let f=-1;if(typeof i=="object"&&"length"in i)for(;++f<c;)s[f]=IE(i[f]);else{const I=IE(i);for(;++f<c;)s[f]=I}f=-1;const d=[],p=[];for(;++f<c;){const I=s[f];let D="",v="";I===99?(D=":",v=":"):I===108?D=":":I===114&&(v=":");let E=n.alignDelimiters===!1?1:Math.max(1,l[f]-D.length-v.length);const T=D+"-".repeat(E)+v;n.alignDelimiters!==!1&&(E=D.length+E+v.length,E>l[f]&&(l[f]=E),p[f]=E),d[f]=T}a.splice(1,0,d),o.splice(1,0,p),h=-1;const w=[];for(;++h<a.length;){const I=a[h],D=o[h];f=-1;const v=[];for(;++f<c;){const E=I[f]||"";let T="",M="";if(n.alignDelimiters!==!1){const z=l[f]-(D[f]||0),V=s[f];V===114?T=" ".repeat(z):V===99?z%2?(T=" ".repeat(z/2+.5),M=" ".repeat(z/2-.5)):(T=" ".repeat(z/2),M=T):M=" ".repeat(z)}n.delimiterStart!==!1&&!f&&v.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||f)&&v.push(" "),n.alignDelimiters!==!1&&v.push(T),v.push(E),n.alignDelimiters!==!1&&v.push(M),n.padding!==!1&&v.push(" "),(n.delimiterEnd!==!1||f!==c-1)&&v.push("|")}w.push(n.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return w.join(`
`)}function W8(t){return t==null?"":String(t)}function IE(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function J8(t,e,n,i){const r=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(t,s.current()),Z8);return r(),a}function Z8(t,e,n){return">"+(n?"":" ")+t}function e7(t,e){return kE(t,e.inConstruct,!0)&&!kE(t,e.notInConstruct,!1)}function kE(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}function RE(t,e,n,i){let r=-1;for(;++r<n.unsafe.length;)if(n.unsafe[r].character===`
`&&e7(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}function t7(t,e){const n=String(t);let i=n.indexOf(e),r=i,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===r?++s>a&&(a=s):s=1,r=i+e.length,i=n.indexOf(e,r);return a}function n7(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function i7(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function r7(t,e,n,i){const r=i7(n),s=t.value||"",a=r==="`"?"GraveAccent":"Tilde";if(n7(t,n)){const f=n.enter("codeIndented"),d=n.indentLines(s,s7);return f(),d}const o=n.createTracker(i),l=r.repeat(Math.max(t7(s,r)+1,3)),c=n.enter("codeFenced");let h=o.move(l);if(t.lang){const f=n.enter(`codeFencedLang${a}`);h+=o.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...o.current()})),f()}if(t.lang&&t.meta){const f=n.enter(`codeFencedMeta${a}`);h+=o.move(" "),h+=o.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...o.current()})),f()}return h+=o.move(`
`),s&&(h+=o.move(s+`
`)),h+=o.move(l),c(),h}function s7(t,e,n){return(n?"":"    ")+t}function I_(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function a7(t,e,n,i){const r=I_(n),s=r==='"'?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!t.url||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),c+=l.move(" "+r),c+=l.move(n.safe(t.title,{before:c,after:r,...l.current()})),c+=l.move(r),o()),a(),c}function o7(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function Wl(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Ph(t,e,n){const i=to(t),r=to(e);return i===void 0?r===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:r===void 0?{inside:!1,outside:!1}:r===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}FI.peek=l7;function FI(t,e,n,i){const r=o7(n),s=n.enter("emphasis"),a=n.createTracker(i),o=a.move(r);let l=a.move(n.containerPhrasing(t,{after:r,before:o,...a.current()}));const c=l.charCodeAt(0),h=Ph(i.before.charCodeAt(i.before.length-1),c,r);h.inside&&(l=Wl(c)+l.slice(1));const f=l.charCodeAt(l.length-1),d=Ph(i.after.charCodeAt(0),f,r);d.inside&&(l=l.slice(0,-1)+Wl(f));const p=a.move(r);return s(),n.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},o+l+p}function l7(t,e,n){return n.options.emphasis||"*"}function u7(t,e){let n=!1;return x_(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,Zp}),!!((!t.depth||t.depth<3)&&v_(t)&&(e.options.setext||n))}function c7(t,e,n,i){const r=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(i);if(u7(t,n)){const h=n.enter("headingSetext"),f=n.enter("phrasing"),d=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return f(),h(),d+`
`+(r===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const a="#".repeat(r),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Wl(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),o(),c}qI.peek=h7;function qI(t){return t.value||""}function h7(){return"<"}HI.peek=f7;function HI(t,e,n,i){const r=I_(n),s=r==='"'?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),o(),t.title&&(o=n.enter(`title${s}`),c+=l.move(" "+r),c+=l.move(n.safe(t.title,{before:c,after:r,...l.current()})),c+=l.move(r),o()),c+=l.move(")"),a(),c}function f7(){return"!"}GI.peek=d7;function GI(t,e,n,i){const r=t.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(i);let l=o.move("![");const c=n.safe(t.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=h,s(),r==="full"||!c||c!==f?l+=o.move(f+"]"):r==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function d7(){return"!"}$I.peek=m7;function $I(t,e,n){let i=t.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const a=n.unsafe[s],o=n.compilePattern(a);let l;if(a.atBreak)for(;l=o.exec(i);){let c=l.index;i.charCodeAt(c)===10&&i.charCodeAt(c-1)===13&&c--,i=i.slice(0,c)+" "+i.slice(l.index+1)}}return r+i+r}function m7(){return"`"}function QI(t,e){const n=v_(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}YI.peek=p7;function YI(t,e,n,i){const r=I_(n),s=r==='"'?"Quote":"Apostrophe",a=n.createTracker(i);let o,l;if(QI(t,n)){const h=n.stack;n.stack=[],o=n.enter("autolink");let f=a.move("<");return f+=a.move(n.containerPhrasing(t,{before:f,after:">",...a.current()})),f+=a.move(">"),o(),n.stack=h,f}o=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(t,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(t.url,{before:c,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=a.move(" "+r),c+=a.move(n.safe(t.title,{before:c,after:r,...a.current()})),c+=a.move(r),l()),c+=a.move(")"),o(),c}function p7(t,e,n){return QI(t,n)?"<":"["}KI.peek=g7;function KI(t,e,n,i){const r=t.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(i);let l=o.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const h=n.stack;n.stack=[],a=n.enter("reference");const f=n.safe(n.associationId(t),{before:l,after:"]",...o.current()});return a(),n.stack=h,s(),r==="full"||!c||c!==f?l+=o.move(f+"]"):r==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function g7(){return"["}function k_(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function y7(t){const e=k_(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function _7(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function XI(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function v7(t,e,n,i){const r=n.enter("list"),s=n.bulletCurrent;let a=t.ordered?_7(n):k_(n);const o=t.ordered?a==="."?")":".":y7(n);let l=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){const h=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),XI(n)===a&&h){let f=-1;for(;++f<t.children.length;){const d=t.children[f];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const c=n.containerFlow(t,i);return n.bulletLastUsed=a,n.bulletCurrent=s,r(),c}function w7(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function E7(t,e,n,i){const r=w7(n);let s=n.bulletCurrent||k_(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(r==="tab"||r==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);const o=n.createTracker(i);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,o.current()),h);return l(),c;function h(f,d,p){return d?(p?"":" ".repeat(a))+f:(p?s:s+" ".repeat(a-s.length))+f}}function T7(t,e,n,i){const r=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,i);return s(),r(),a}const b7=zf(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function S7(t,e,n,i){return(t.children.some(function(a){return b7(a)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}function A7(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}WI.peek=x7;function WI(t,e,n,i){const r=A7(n),s=n.enter("strong"),a=n.createTracker(i),o=a.move(r+r);let l=a.move(n.containerPhrasing(t,{after:r,before:o,...a.current()}));const c=l.charCodeAt(0),h=Ph(i.before.charCodeAt(i.before.length-1),c,r);h.inside&&(l=Wl(c)+l.slice(1));const f=l.charCodeAt(l.length-1),d=Ph(i.after.charCodeAt(0),f,r);d.inside&&(l=l.slice(0,-1)+Wl(f));const p=a.move(r+r);return s(),n.attentionEncodeSurroundingInfo={after:d.outside,before:h.outside},o+l+p}function x7(t,e,n){return n.options.strong||"*"}function C7(t,e,n,i){return n.safe(t.value,i)}function I7(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function k7(t,e,n){const i=(XI(n)+(n.options.ruleSpaces?" ":"")).repeat(I7(n));return n.options.ruleSpaces?i.slice(0,-1):i}const JI={blockquote:J8,break:RE,code:r7,definition:a7,emphasis:FI,hardBreak:RE,heading:c7,html:qI,image:HI,imageReference:GI,inlineCode:$I,link:YI,linkReference:KI,list:v7,listItem:E7,paragraph:T7,root:S7,strong:WI,text:C7,thematicBreak:k7};function R7(){return{enter:{table:N7,tableData:NE,tableHeader:NE,tableRow:O7},exit:{codeText:M7,table:D7,tableData:ym,tableHeader:ym,tableRow:ym}}}function N7(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function D7(t){this.exit(t),this.data.inTable=void 0}function O7(t){this.enter({type:"tableRow",children:[]},t)}function ym(t){this.exit(t)}function NE(t){this.enter({type:"tableCell",children:[]},t)}function M7(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,V7));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function V7(t,e){return e==="|"?e:t}function L7(t){const e=t||{},n=e.tableCellPadding,i=e.tablePipeAlign,r=e.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:a,tableCell:l,tableRow:o}};function a(p,w,I,D){return c(h(p,I,D),p.align)}function o(p,w,I,D){const v=f(p,I,D),E=c([v]);return E.slice(0,E.indexOf(`
`))}function l(p,w,I,D){const v=I.enter("tableCell"),E=I.enter("phrasing"),T=I.containerPhrasing(p,{...D,before:s,after:s});return E(),v(),T}function c(p,w){return X8(p,{align:w,alignDelimiters:i,padding:n,stringLength:r})}function h(p,w,I){const D=p.children;let v=-1;const E=[],T=w.enter("table");for(;++v<D.length;)E[v]=f(D[v],w,I);return T(),E}function f(p,w,I){const D=p.children;let v=-1;const E=[],T=w.enter("tableRow");for(;++v<D.length;)E[v]=l(D[v],p,w,I);return T(),E}function d(p,w,I){let D=JI.inlineCode(p,w,I);return I.stack.includes("tableCell")&&(D=D.replace(/\|/g,"\\$&")),D}}function P7(){return{exit:{taskListCheckValueChecked:DE,taskListCheckValueUnchecked:DE,paragraph:U7}}}function z7(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:j7}}}function DE(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function U7(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const i=n.children[0];if(i&&i.type==="text"){const r=e.children;let s=-1,a;for(;++s<r.length;){const o=r[s];if(o.type==="paragraph"){a=o;break}}a===n&&(i.value=i.value.slice(1),i.value.length===0?n.children.shift():n.position&&i.position&&typeof i.position.start.offset=="number"&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}}this.exit(t)}function j7(t,e,n,i){const r=t.children[0],s=typeof t.checked=="boolean"&&r&&r.type==="paragraph",a="["+(t.checked?"x":" ")+"] ",o=n.createTracker(i);s&&o.move(a);let l=JI.listItem(t,e,n,{...i,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(h){return h+a}}function B7(){return[v8(),j8(),H8(),R7(),P7()]}function F7(t){return{extensions:[w8(),B8(t),G8(),L7(t),z7()]}}const q7={tokenize:K7,partial:!0},ZI={tokenize:X7,partial:!0},e2={tokenize:W7,partial:!0},t2={tokenize:J7,partial:!0},H7={tokenize:Z7,partial:!0},n2={name:"wwwAutolink",tokenize:Q7,previous:r2},i2={name:"protocolAutolink",tokenize:Y7,previous:s2},er={name:"emailAutolink",tokenize:$7,previous:a2},Ti={};function G7(){return{text:Ti}}let os=48;for(;os<123;)Ti[os]=er,os++,os===58?os=65:os===91&&(os=97);Ti[43]=er;Ti[45]=er;Ti[46]=er;Ti[95]=er;Ti[72]=[er,i2];Ti[104]=[er,i2];Ti[87]=[er,n2];Ti[119]=[er,n2];function $7(t,e,n){const i=this;let r,s;return a;function a(f){return!ig(f)||!a2.call(i,i.previous)||R_(i.events)?n(f):(t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),o(f))}function o(f){return ig(f)?(t.consume(f),o):f===64?(t.consume(f),l):n(f)}function l(f){return f===46?t.check(H7,h,c)(f):f===45||f===95||jt(f)?(s=!0,t.consume(f),l):h(f)}function c(f){return t.consume(f),r=!0,l}function h(f){return s&&r&&$t(i.previous)?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(f)):n(f)}}function Q7(t,e,n){const i=this;return r;function r(a){return a!==87&&a!==119||!r2.call(i,i.previous)||R_(i.events)?n(a):(t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(q7,t.attempt(ZI,t.attempt(e2,s),n),n)(a))}function s(a){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(a)}}function Y7(t,e,n){const i=this;let r="",s=!1;return a;function a(f){return(f===72||f===104)&&s2.call(i,i.previous)&&!R_(i.events)?(t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),r+=String.fromCodePoint(f),t.consume(f),o):n(f)}function o(f){if($t(f)&&r.length<5)return r+=String.fromCodePoint(f),t.consume(f),o;if(f===58){const d=r.toLowerCase();if(d==="http"||d==="https")return t.consume(f),l}return n(f)}function l(f){return f===47?(t.consume(f),s?c:(s=!0,l)):n(f)}function c(f){return f===null||Mh(f)||Le(f)||Vs(f)||Vf(f)?n(f):t.attempt(ZI,t.attempt(e2,h),n)(f)}function h(f){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(f)}}function K7(t,e,n){let i=0;return r;function r(a){return(a===87||a===119)&&i<3?(i++,t.consume(a),r):a===46&&i===3?(t.consume(a),s):n(a)}function s(a){return a===null?n(a):e(a)}}function X7(t,e,n){let i,r,s;return a;function a(c){return c===46||c===95?t.check(t2,l,o)(c):c===null||Le(c)||Vs(c)||c!==45&&Vf(c)?l(c):(s=!0,t.consume(c),a)}function o(c){return c===95?i=!0:(r=i,i=void 0),t.consume(c),a}function l(c){return r||i||!s?n(c):e(c)}}function W7(t,e){let n=0,i=0;return r;function r(a){return a===40?(n++,t.consume(a),r):a===41&&i<n?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?t.check(t2,e,s)(a):a===null||Le(a)||Vs(a)?e(a):(t.consume(a),r)}function s(a){return a===41&&i++,t.consume(a),r}}function J7(t,e,n){return i;function i(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(t.consume(o),i):o===38?(t.consume(o),s):o===93?(t.consume(o),r):o===60||o===null||Le(o)||Vs(o)?e(o):n(o)}function r(o){return o===null||o===40||o===91||Le(o)||Vs(o)?e(o):i(o)}function s(o){return $t(o)?a(o):n(o)}function a(o){return o===59?(t.consume(o),i):$t(o)?(t.consume(o),a):n(o)}}function Z7(t,e,n){return i;function i(s){return t.consume(s),r}function r(s){return jt(s)?n(s):e(s)}}function r2(t){return t===null||t===40||t===42||t===95||t===91||t===93||t===126||Le(t)}function s2(t){return!$t(t)}function a2(t){return!(t===47||ig(t))}function ig(t){return t===43||t===45||t===46||t===95||jt(t)}function R_(t){let e=t.length,n=!1;for(;e--;){const i=t[e][1];if((i.type==="labelLink"||i.type==="labelImage")&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const eB={tokenize:lB,partial:!0};function tB(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:sB,continuation:{tokenize:aB},exit:oB}},text:{91:{name:"gfmFootnoteCall",tokenize:rB},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:nB,resolveTo:iB}}}}function nB(t,e,n){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const l=i.events[r][1];if(l.type==="labelImage"){a=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!a||!a._balanced)return n(l);const c=Kn(i.sliceSerialize({start:a.end,end:i.now()}));return c.codePointAt(0)!==94||!s.includes(c.slice(1))?n(l):(t.enter("gfmFootnoteCallLabelMarker"),t.consume(l),t.exit("gfmFootnoteCallLabelMarker"),e(l))}}function iB(t,e){let n=t.length;for(;n--;)if(t[n][1].type==="labelImage"&&t[n][0]==="enter"){t[n][1];break}t[n+1][1].type="data",t[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[n+3][1].start),end:Object.assign({},t[t.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},t[n+3][1].end),end:Object.assign({},t[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},t[t.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[t[n+1],t[n+2],["enter",i,e],t[n+3],t[n+4],["enter",r,e],["exit",r,e],["enter",s,e],["enter",a,e],["exit",a,e],["exit",s,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(n,t.length-n+1,...o),t}function rB(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s=0,a;return o;function o(f){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(t.enter("gfmFootnoteCallMarker"),t.consume(f),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",c)}function c(f){if(s>999||f===93&&!a||f===null||f===91||Le(f))return n(f);if(f===93){t.exit("chunkString");const d=t.exit("gfmFootnoteCallString");return r.includes(Kn(i.sliceSerialize(d)))?(t.enter("gfmFootnoteCallLabelMarker"),t.consume(f),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e):n(f)}return Le(f)||(a=!0),s++,t.consume(f),f===92?h:c}function h(f){return f===91||f===92||f===93?(t.consume(f),s++,c):c(f)}}function sB(t,e,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,a=0,o;return l;function l(w){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),c}function c(w){return w===94?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),t.enter("chunkString").contentType="string",h):n(w)}function h(w){if(a>999||w===93&&!o||w===null||w===91||Le(w))return n(w);if(w===93){t.exit("chunkString");const I=t.exit("gfmFootnoteDefinitionLabelString");return s=Kn(i.sliceSerialize(I)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(w),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),d}return Le(w)||(o=!0),a++,t.consume(w),w===92?f:h}function f(w){return w===91||w===92||w===93?(t.consume(w),a++,h):h(w)}function d(w){return w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),r.includes(s)||r.push(s),Se(t,p,"gfmFootnoteDefinitionWhitespace")):n(w)}function p(w){return e(w)}}function aB(t,e,n){return t.check(Tu,e,t.attempt(eB,e,n))}function oB(t){t.exit("gfmFootnoteDefinition")}function lB(t,e,n){const i=this;return Se(t,r,"gfmFootnoteDefinitionIndent",5);function r(s){const a=i.events[i.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?e(s):n(s)}}function uB(t){let n=(t||{}).singleTilde;const i={name:"strikethrough",tokenize:s,resolveAll:r};return n==null&&(n=!0),{text:{126:i},insideSpan:{null:[i]},attentionMarkers:{null:[126]}};function r(a,o){let l=-1;for(;++l<a.length;)if(a[l][0]==="enter"&&a[l][1].type==="strikethroughSequenceTemporary"&&a[l][1]._close){let c=l;for(;c--;)if(a[c][0]==="exit"&&a[c][1].type==="strikethroughSequenceTemporary"&&a[c][1]._open&&a[l][1].end.offset-a[l][1].start.offset===a[c][1].end.offset-a[c][1].start.offset){a[l][1].type="strikethroughSequence",a[c][1].type="strikethroughSequence";const h={type:"strikethrough",start:Object.assign({},a[c][1].start),end:Object.assign({},a[l][1].end)},f={type:"strikethroughText",start:Object.assign({},a[c][1].end),end:Object.assign({},a[l][1].start)},d=[["enter",h,o],["enter",a[c][1],o],["exit",a[c][1],o],["enter",f,o]],p=o.parser.constructs.insideSpan.null;p&&Sn(d,d.length,0,Lf(p,a.slice(c+1,l),o)),Sn(d,d.length,0,[["exit",f,o],["enter",a[l][1],o],["exit",a[l][1],o],["exit",h,o]]),Sn(a,c-1,l-c+3,d),l=c+d.length-2;break}}for(l=-1;++l<a.length;)a[l][1].type==="strikethroughSequenceTemporary"&&(a[l][1].type="data");return a}function s(a,o,l){const c=this.previous,h=this.events;let f=0;return d;function d(w){return c===126&&h[h.length-1][1].type!=="characterEscape"?l(w):(a.enter("strikethroughSequenceTemporary"),p(w))}function p(w){const I=to(c);if(w===126)return f>1?l(w):(a.consume(w),f++,p);if(f<2&&!n)return l(w);const D=a.exit("strikethroughSequenceTemporary"),v=to(w);return D._open=!v||v===2&&!!I,D._close=!I||I===2&&!!v,o(w)}}}class cB{constructor(){this.map=[]}add(e,n,i){hB(this,e,n,i)}consume(e){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let n=this.map.length;const i=[];for(;n>0;)n-=1,i.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];i.push(e.slice()),e.length=0;let r=i.pop();for(;r;){for(const s of r)e.push(s);r=i.pop()}this.map.length=0}}function hB(t,e,n,i){let r=0;if(!(n===0&&i.length===0)){for(;r<t.map.length;){if(t.map[r][0]===e){t.map[r][1]+=n,t.map[r][2].push(...i);return}r+=1}t.map.push([e,n,i])}}function fB(t,e){let n=!1;const i=[];for(;e<t.length;){const r=t[e];if(n){if(r[0]==="enter")r[1].type==="tableContent"&&i.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(r[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const s=i.length-1;i[s]=i[s]==="left"?"center":"right"}}else if(r[1].type==="tableDelimiterRow")break}else r[0]==="enter"&&r[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return i}function dB(){return{flow:{null:{name:"table",tokenize:mB,resolveAll:pB}}}}function mB(t,e,n){const i=this;let r=0,s=0,a;return o;function o(y){let b=i.events.length-1;for(;b>-1;){const W=i.events[b][1].type;if(W==="lineEnding"||W==="linePrefix")b--;else break}const k=b>-1?i.events[b][1].type:null,C=k==="tableHead"||k==="tableRow"?V:l;return C===V&&i.parser.lazy[i.now().line]?n(y):C(y)}function l(y){return t.enter("tableHead"),t.enter("tableRow"),c(y)}function c(y){return y===124||(a=!0,s+=1),h(y)}function h(y){return y===null?n(y):ne(y)?s>1?(s=0,i.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):n(y):ye(y)?Se(t,h,"whitespace")(y):(s+=1,a&&(a=!1,r+=1),y===124?(t.enter("tableCellDivider"),t.consume(y),t.exit("tableCellDivider"),a=!0,h):(t.enter("data"),f(y)))}function f(y){return y===null||y===124||Le(y)?(t.exit("data"),h(y)):(t.consume(y),y===92?d:f)}function d(y){return y===92||y===124?(t.consume(y),f):f(y)}function p(y){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(y):(t.enter("tableDelimiterRow"),a=!1,ye(y)?Se(t,w,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(y):w(y))}function w(y){return y===45||y===58?D(y):y===124?(a=!0,t.enter("tableCellDivider"),t.consume(y),t.exit("tableCellDivider"),I):z(y)}function I(y){return ye(y)?Se(t,D,"whitespace")(y):D(y)}function D(y){return y===58?(s+=1,a=!0,t.enter("tableDelimiterMarker"),t.consume(y),t.exit("tableDelimiterMarker"),v):y===45?(s+=1,v(y)):y===null||ne(y)?M(y):z(y)}function v(y){return y===45?(t.enter("tableDelimiterFiller"),E(y)):z(y)}function E(y){return y===45?(t.consume(y),E):y===58?(a=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(y),t.exit("tableDelimiterMarker"),T):(t.exit("tableDelimiterFiller"),T(y))}function T(y){return ye(y)?Se(t,M,"whitespace")(y):M(y)}function M(y){return y===124?w(y):y===null||ne(y)?!a||r!==s?z(y):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(y)):z(y)}function z(y){return n(y)}function V(y){return t.enter("tableRow"),x(y)}function x(y){return y===124?(t.enter("tableCellDivider"),t.consume(y),t.exit("tableCellDivider"),x):y===null||ne(y)?(t.exit("tableRow"),e(y)):ye(y)?Se(t,x,"whitespace")(y):(t.enter("data"),A(y))}function A(y){return y===null||y===124||Le(y)?(t.exit("data"),x(y)):(t.consume(y),y===92?_:A)}function _(y){return y===92||y===124?(t.consume(y),A):A(y)}}function pB(t,e){let n=-1,i=!0,r=0,s=[0,0,0,0],a=[0,0,0,0],o=!1,l=0,c,h,f;const d=new cB;for(;++n<t.length;){const p=t[n],w=p[1];p[0]==="enter"?w.type==="tableHead"?(o=!1,l!==0&&(OE(d,e,l,c,h),h=void 0,l=0),c={type:"table",start:Object.assign({},w.start),end:Object.assign({},w.end)},d.add(n,0,[["enter",c,e]])):w.type==="tableRow"||w.type==="tableDelimiterRow"?(i=!0,f=void 0,s=[0,0,0,0],a=[0,n+1,0,0],o&&(o=!1,h={type:"tableBody",start:Object.assign({},w.start),end:Object.assign({},w.end)},d.add(n,0,[["enter",h,e]])),r=w.type==="tableDelimiterRow"?2:h?3:1):r&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")?(i=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],f=lc(d,e,s,r,void 0,f),s=[0,0,0,0]),a[2]=n)):w.type==="tableCellDivider"&&(i?i=!1:(s[1]!==0&&(a[0]=a[1],f=lc(d,e,s,r,void 0,f)),s=a,a=[s[1],n,0,0])):w.type==="tableHead"?(o=!0,l=n):w.type==="tableRow"||w.type==="tableDelimiterRow"?(l=n,s[1]!==0?(a[0]=a[1],f=lc(d,e,s,r,n,f)):a[1]!==0&&(f=lc(d,e,a,r,n,f)),r=0):r&&(w.type==="data"||w.type==="tableDelimiterMarker"||w.type==="tableDelimiterFiller")&&(a[3]=n)}for(l!==0&&OE(d,e,l,c,h),d.consume(e.events),n=-1;++n<e.events.length;){const p=e.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=fB(e.events,n))}return t}function lc(t,e,n,i,r,s){const a=i===1?"tableHeader":i===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(s.end=Object.assign({},la(e.events,n[0])),t.add(n[0],0,[["exit",s,e]]));const l=la(e.events,n[1]);if(s={type:a,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",s,e]]),n[2]!==0){const c=la(e.events,n[2]),h=la(e.events,n[3]),f={type:o,start:Object.assign({},c),end:Object.assign({},h)};if(t.add(n[2],0,[["enter",f,e]]),i!==2){const d=e.events[n[2]],p=e.events[n[3]];if(d[1].end=Object.assign({},p[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const w=n[2]+1,I=n[3]-n[2]-1;t.add(w,I,[])}}t.add(n[3]+1,0,[["exit",f,e]])}return r!==void 0&&(s.end=Object.assign({},la(e.events,r)),t.add(r,0,[["exit",s,e]]),s=void 0),s}function OE(t,e,n,i,r){const s=[],a=la(e.events,n);r&&(r.end=Object.assign({},a),s.push(["exit",r,e])),i.end=Object.assign({},a),s.push(["exit",i,e]),t.add(n+1,0,s)}function la(t,e){const n=t[e],i=n[0]==="enter"?"start":"end";return n[1][i]}const gB={name:"tasklistCheck",tokenize:_B};function yB(){return{text:{91:gB}}}function _B(t,e,n){const i=this;return r;function r(l){return i.previous!==null||!i._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),s)}function s(l){return Le(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),a):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),a):n(l)}function a(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),o):n(l)}function o(l){return ne(l)?e(l):ye(l)?t.check({tokenize:vB},e,n)(l):n(l)}}function vB(t,e,n){return Se(t,i,"whitespace");function i(r){return r===null?n(r):e(r)}}function wB(t){return gI([G7(),tB(),uB(t),dB(),yB()])}const EB={};function TB(t){const e=this,n=t||EB,i=e.data(),r=i.micromarkExtensions||(i.micromarkExtensions=[]),s=i.fromMarkdownExtensions||(i.fromMarkdownExtensions=[]),a=i.toMarkdownExtensions||(i.toMarkdownExtensions=[]);r.push(wB(n)),s.push(B7()),a.push(F7(n))}const o2="horizon_user_notes",bB=500;function ME(){try{return localStorage.getItem(o2)||""}catch{return""}}function SB(t){try{localStorage.setItem(o2,t)}catch{}}function AB({onClose:t}){const[e,n]=q.useState(ME),[i,r]=q.useState(()=>!ME().trim()),s=q.useRef(null),a=q.useRef(null);q.useEffect(()=>(s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{SB(e)},bB),()=>{s.current&&clearTimeout(s.current)}),[e]),q.useEffect(()=>{i&&a.current&&a.current.focus()},[i]);const o=c=>{c.key==="Enter"&&(c.metaKey||c.ctrlKey)&&(c.preventDefault(),r(!1)),c.key==="Escape"&&r(!1)},l=()=>{setTimeout(()=>{r(!1)},100)};return R.jsx(tI,{id:"notes",title:"Quick Notes",icon:QS,onClose:t,defaultWidth:320,defaultHeight:280,children:i?R.jsx("textarea",{ref:a,value:e,onChange:c=>n(c.target.value),onKeyDown:o,onBlur:l,placeholder:"Write your thoughts... (Markdown supported)",className:"w-full h-full bg-transparent text-white/80 text-sm placeholder-white/30 outline-none resize-none leading-relaxed overflow-y-auto font-mono"}):R.jsx("div",{onClick:()=>r(!0),className:"w-full h-full overflow-y-auto cursor-text",children:e.trim()?R.jsx("div",{className:"prose prose-invert prose-sm max-w-none prose-headings:text-white/90 prose-headings:font-medium prose-p:text-white/80 prose-a:text-indigo-300 prose-strong:text-white/90 prose-code:text-indigo-200 prose-code:bg-white/10 prose-code:px-1 prose-code:py-0.5 prose-code:rounded prose-code:before:content-none prose-code:after:content-none prose-pre:bg-white/5 prose-pre:border prose-pre:border-white/10 prose-li:text-white/80 marker:text-white/50 prose-hr:border-white/10",children:R.jsx(u8,{remarkPlugins:[TB],children:e})}):R.jsx("div",{className:"text-white/30 text-sm",children:"Click to write... (Markdown supported)"})})})}const _m=100,vm=20,xB="today";function CB({userId:t,onClose:e}){const[n,i]=q.useState([]),[r,s]=q.useState(""),[a,o]=q.useState(!0),[l,c]=q.useState(xB);q.useEffect(()=>{t&&(o(!0),$C(t).then(v=>{c(v);const E=QC(t,v,T=>{i(T),o(!1)});return()=>E()}))},[t]);const h=async()=>{const v=r.trim();if(!v||n.length>=vm)return;const E={id:`temp-${Date.now()}`,text:v.slice(0,_m),completed:!1,listId:l,createdAt:new Date,updatedAt:new Date};i(T=>[E,...T]),s("");try{const T=await YC(t,v.slice(0,_m),l);i(M=>M.map(z=>z.id===E.id?{...z,id:T}:z))}catch(T){console.error("Failed to add todo:",T),i(M=>M.filter(z=>z.id!==E.id))}},f=async()=>{try{await WC(t,l)}catch(v){console.error("Failed to clear completed todos:",v)}},d=async(v,E)=>{try{await KC(t,v,!E)}catch(T){console.error("Failed to toggle todo:",T)}},p=async v=>{try{await XC(t,v)}catch(E){console.error("Failed to delete todo:",E)}},w=v=>{v.key==="Enter"&&h()},I=n.filter(v=>!v.completed),D=n.filter(v=>v.completed);return R.jsxs(tI,{id:"todo",title:"Today's Tasks",icon:sy,onClose:e,defaultWidth:320,defaultHeight:380,children:[R.jsx("div",{className:"flex-1 overflow-y-auto -mx-4 px-4 min-h-0",children:a?R.jsx("div",{className:"space-y-1",children:[1,2,3,4].map(v=>R.jsxs("div",{className:"flex items-center gap-3 px-2 py-1.5 animate-pulse",children:[R.jsx("div",{className:"w-4 h-4 rounded-[3px] bg-white/10 shrink-0"}),R.jsx("div",{className:"h-4 bg-white/10 rounded",style:{width:`${60+v*10}%`}})]},v))}):n.length===0?R.jsx("div",{className:"text-center py-4 text-white/40 text-sm",children:"No tasks for today"}):R.jsxs("div",{className:"space-y-1",children:[I.map(v=>R.jsx(VE,{todo:v,onToggle:()=>d(v.id,v.completed),onDelete:()=>p(v.id)},v.id)),D.length>0&&I.length>0&&R.jsx("div",{className:"h-px w-full bg-white/5 my-2"}),D.map(v=>R.jsx(VE,{todo:v,onToggle:()=>d(v.id,v.completed),onDelete:()=>p(v.id)},v.id))]})}),D.length>0&&R.jsx("div",{className:"-mx-4 px-4 pt-2 border-t border-white/5 flex-shrink-0",children:R.jsx("button",{onClick:f,className:"text-xs text-white/30 hover:text-white/60 transition-colors",children:"Clear completed"})}),R.jsx("div",{className:"-mx-4 px-4 pt-3 mt-auto border-t border-white/5 flex-shrink-0",children:n.length>=vm?R.jsxs("div",{className:"text-center text-xs text-white/30 py-1",children:["Limit reached (",vm," tasks)"]}):R.jsxs("div",{className:"flex items-center gap-2 bg-white/5 rounded-lg px-3 py-2",children:[R.jsx(HS,{size:16,className:"text-white/40"}),R.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),onKeyDown:w,placeholder:"Add a task...",maxLength:_m,className:"flex-1 bg-transparent text-sm text-white placeholder-white/30 outline-none"})]})})]})}function VE({todo:t,onToggle:e,onDelete:n}){const[i,r]=q.useState(!1);return R.jsxs("div",{className:"group flex items-center gap-3 px-2 py-1.5 rounded-lg hover:bg-white/5 transition-colors",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[R.jsx("button",{onClick:e,className:`shrink-0 w-4 h-4 rounded-[3px] border flex items-center justify-center transition-all ${t.completed?"bg-white/20 border-white/30":"border-white/20 hover:border-white/40"}`,children:t.completed&&R.jsx(jS,{size:10,className:"text-white/70"})}),R.jsx("span",{className:`flex-1 text-sm transition-all ${t.completed?"text-white/30 line-through":"text-white/80"}`,children:t.text}),R.jsx("button",{onClick:n,className:`text-white/30 hover:text-red-400 transition-all ${i?"opacity-100":"opacity-0"}`,children:R.jsx(ay,{size:12})})]})}const IB=[{id:"todo",icon:sy,label:"Todo"},{id:"notes",icon:QS,label:"Notes"}];function kB({activeWidgets:t,onToggleWidget:e,onExitFocusMode:n}){return R.jsxs("div",{className:"fixed left-4 top-1/2 -translate-y-1/2 z-30 flex flex-col gap-2 p-2 rounded-2xl bg-black/40 backdrop-blur-xl border border-white/10 shadow-2xl",children:[IB.map(i=>{const r=i.icon,s=t.includes(i.id);return R.jsxs("button",{onClick:()=>e(i.id),className:`group relative w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${s?"bg-white/20 text-white":"text-white/50 hover:text-white hover:bg-white/10"}`,title:i.label,children:[R.jsx(r,{size:18,strokeWidth:2}),s&&R.jsx("span",{className:"absolute -right-0.5 top-1/2 -translate-y-1/2 w-1 h-1 rounded-full bg-blue-400"}),R.jsx("span",{className:"absolute left-full ml-3 px-2 py-1 rounded bg-black/80 text-white text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:i.label})]},i.id)}),R.jsx("div",{className:"w-full h-px bg-white/10 my-0.5"}),R.jsxs("button",{onClick:n,className:"group relative w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 text-white/50 hover:text-white hover:bg-white/10",title:"Exit focus mode",children:[R.jsx(lD,{size:18,strokeWidth:2}),R.jsx("span",{className:"absolute left-full ml-3 px-2 py-1 rounded bg-black/80 text-white text-xs whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:"Exit"})]})]})}const l2="horizon_clock_format",u2="horizon_todo_pinned",c2="horizon_work_mode",h2="horizon_active_widgets";function RB(){try{const t=localStorage.getItem(l2);if(t==="12h"||t==="24h")return t}catch{}return"24h"}function LE(t){try{localStorage.setItem(l2,t)}catch{}}function NB(){try{return localStorage.getItem(u2)==="true"}catch{return!1}}function DB(t){try{localStorage.setItem(u2,String(t))}catch{}}function OB(){try{return localStorage.getItem(c2)==="true"}catch{return!1}}function MB(t){try{localStorage.setItem(c2,String(t))}catch{}}function VB(){try{const t=localStorage.getItem(h2);if(t){const e=JSON.parse(t);if(Array.isArray(e))return e}}catch{}return[]}function uc(t){try{localStorage.setItem(h2,JSON.stringify(t))}catch{}}function LB(){var Hn;const[t,e]=q.useState(null),[n,i]=q.useState(!1),[r,s]=q.useState(null),[a,o]=q.useState(!0),[l,c]=q.useState(!1),[h,f]=q.useState(!1),[d,p]=q.useState(!1),[w,I]=q.useState(""),[D,v]=q.useState(null),[E,T]=q.useState(!1),[M,z]=q.useState(null),[V,x]=q.useState(0),[A,_]=q.useState(RB),[y,b]=q.useState(NB),[k,C]=q.useState(OB),[W,Z]=q.useState(VB),H=q.useCallback(J=>{I(J)},[]),Y=q.useCallback(()=>{x(J=>J+1)},[]);q.useEffect(()=>{(async()=>{o(!0);try{const Be=await XP();s(Be)}catch(Be){console.error("Failed to load wallpaper:",Be)}finally{o(!1)}})()},[]),q.useEffect(()=>{const J=qP(Be=>{e(Be)});return()=>J()},[]),q.useEffect(()=>{t?(e5(t.uid).then(v).catch(console.error),GC(t.uid).then(J=>{J.clockFormat&&(_(J.clockFormat),LE(J.clockFormat))}).catch(console.error),y&&p(!0)):v(null)},[t,y]),q.useEffect(()=>{t&&(r!=null&&r.unsplashId)?n5(t.uid,r.unsplashId).then(T).catch(console.error):T(!1)},[t,r==null?void 0:r.unsplashId]);const ee=async()=>{i(!0);try{await BP()}catch(J){console.error("Sign in error:",J)}finally{i(!1)}},fe=async()=>{try{await FP()}catch(J){console.error("Sign out error:",J)}},N=async()=>{c(!0);try{const J=await qC();J&&(s(J),Hp(J))}catch(J){console.error("Failed to get next wallpaper:",J)}finally{c(!1)}},Xe=async J=>{if(t)try{await t5(t.uid,J),v(J)}catch(Be){console.error("Failed to save nickname:",Be)}},nt=J=>{_(J),LE(J)},O=J=>{b(J),DB(J),J&&p(!0)},Oe=()=>{const J=!k;C(J),MB(J),J||(Z([]),uc([]))},Et=J=>{Z(Be=>{const Wt=Be.includes(J)?Be.filter(ei=>ei!==J):[...Be,J];return uc(Wt),Wt})},Ye=J=>{Z(Be=>{const Wt=Be.filter(ei=>ei!==J);return uc(Wt),Wt})},Fn=J=>{Z(Be=>{if(Be[Be.length-1]===J)return Be;const Wt=[...Be.filter(ei=>ei!==J),J];return uc(Wt),Wt})},Xt=async()=>{if(!(!t||!(r!=null&&r.unsplashId)))try{if(E)await JC(t.uid,r.unsplashId),T(!1);else{if(!await s5(t.uid)){z({message:"Maximum 9 favorites allowed",type:"warning"});return}await i5(t.uid,{id:r.unsplashId,imageUrl:r.imageUrl,photographer:r.photographer,photographerUrl:r.photographerUrl,photoUrl:r.photoUrl,category:r.category}),T(!0),z({message:"Added to favorites",type:"success"})}}catch(J){console.error("Failed to toggle favorite:",J),z({message:"Failed to save, please try again",type:"error"})}},qn=J=>{s(J),Hp(J)};return R.jsxs("div",{className:"relative w-full h-screen overflow-hidden text-white font-sans-display selection:bg-white/30",children:[r&&R.jsx("div",{className:`absolute inset-0 bg-cover bg-center transition-all duration-700 ${k?"blur-md brightness-75 scale-105":""}`,style:{backgroundImage:`url(${r.imageUrl})`}}),R.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-black/40 pointer-events-none"}),R.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none bg-[url('data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noise%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noise)%22/%3E%3C/svg%3E')]"}),a&&R.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center z-20",children:R.jsx("div",{className:"text-white/70 text-lg",children:"Loading..."})}),R.jsxs("div",{className:"relative z-10 grid grid-rows-[auto_1fr_auto] h-full p-8 md:p-12",children:[R.jsxs("header",{className:`flex justify-between items-start transition-all duration-500 ${k?"opacity-0 pointer-events-none":"opacity-100"}`,children:[R.jsx("div",{children:t?R.jsx("div",{className:"p-1 rounded-full bg-white/5 backdrop-blur-sm border border-white/10 hover:bg-white/15 hover:scale-105 transition-all duration-300 cursor-pointer",children:t.photoURL?R.jsx("img",{src:t.photoURL,alt:"avatar",className:"w-10 h-10 rounded-full"}):R.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center",children:R.jsx(dh,{size:18,className:"text-white"})})}):R.jsx("button",{onClick:ee,disabled:n,className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-all disabled:opacity-50 shadow-lg",children:R.jsx(dh,{size:18,className:"text-white/80"})})}),R.jsx("div",{className:`transition-opacity duration-500 ease-in-out ${k?"opacity-50 hover:opacity-100":"opacity-100"}`,children:R.jsx(v5,{onWeatherChange:H,userId:(t==null?void 0:t.uid)||null,refreshTrigger:V})})]}),R.jsxs("main",{className:`flex flex-col transition-all duration-700 ease-in-out ${k?"items-end justify-end -mb-6 pr-4":"items-center justify-center"}`,children:[R.jsx(u5,{userName:(Hn=t==null?void 0:t.displayName)==null?void 0:Hn.split(" ")[0],nickname:D,onNicknameChange:t?Xe:void 0,clockFormat:A,isWorkMode:k}),R.jsx("div",{className:`mt-6 transition-all duration-500 ease-in-out ${k?"opacity-0 h-0 mt-0 overflow-hidden pointer-events-none":"opacity-100"}`,children:R.jsx(E5,{weatherDescription:w})})]}),R.jsxs("footer",{className:"flex justify-between items-end relative z-30",children:[R.jsx("div",{className:"relative flex items-end gap-5",children:k?null:R.jsxs(R.Fragment,{children:[R.jsx("button",{onClick:()=>{f(!0),p(!1)},className:"p-2.5 rounded-full bg-black/20 backdrop-blur-md border border-white/10 text-white/70 hover:text-white hover:bg-black/30 transition-all",children:R.jsx($S,{size:18,strokeWidth:2})}),R.jsx("button",{onClick:Oe,className:"p-2.5 rounded-full bg-black/20 backdrop-blur-md border border-white/10 text-white/70 hover:text-white hover:bg-black/30 transition-all",title:"Enter focus mode",children:R.jsx(aD,{size:18,strokeWidth:2})}),t&&R.jsx("button",{onClick:()=>{y&&d?(O(!1),p(!1)):p(!d),f(!1)},className:`p-2.5 rounded-full backdrop-blur-md border border-white/10 transition-all ${y?"bg-blue-500/20 text-blue-400 hover:bg-blue-500/30":"bg-black/20 text-white/70 hover:text-white hover:bg-black/30"}`,children:R.jsx(sy,{size:18,strokeWidth:2})}),t&&!k&&R.jsx(x5,{userId:t.uid,isOpen:d,isPinned:y,onPinToggle:O,onToggle:()=>p(!1)})]})}),R.jsx("div",{className:`absolute left-1/2 -translate-x-1/2 bottom-10 md:bottom-12 transition-opacity ${k?"opacity-0 pointer-events-none":"opacity-50 hover:opacity-100"}`,children:R.jsx("span",{className:"text-xs tracking-[0.2em] uppercase font-semibold",children:"Horizon"})}),r&&!k&&R.jsxs("div",{className:"flex items-center gap-3",children:[t&&R.jsx("button",{onClick:Xt,className:"transition-all duration-300 hover:scale-110 active:scale-90",title:E?"Remove from favorites":"Add to favorites",children:R.jsx(FS,{size:16,strokeWidth:1.5,className:`transition-all duration-500 ${E?"fill-white/50 text-white/50 drop-shadow-[0_0_8px_rgba(251,113,133,0.5)]":"fill-transparent text-white/50 hover:text-white/70"}`})}),R.jsxs("button",{onClick:N,disabled:l,className:"group flex items-center gap-2 text-xs text-white font-light font-clock cursor-pointer transition-all hover:opacity-100 opacity-70 disabled:opacity-40",style:{textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:[R.jsx(dD,{size:12,strokeWidth:2,className:`transition-transform group-hover:rotate-180 duration-300 ${l?"animate-spin":""}`}),R.jsxs("span",{className:"group-hover:underline underline-offset-2",children:["Photo by ",r.photographer," / Unsplash"]})]})]})]})]}),k&&R.jsxs(R.Fragment,{children:[R.jsx(kB,{activeWidgets:W,onToggleWidget:Et,onExitFocusMode:Oe}),R.jsx("div",{className:"fixed inset-0 z-20 flex items-center justify-center pointer-events-none",children:W.map((J,Be)=>R.jsxs("div",{className:"pointer-events-auto",style:{zIndex:20+Be},onMouseDown:()=>Fn(J),children:[J==="todo"&&t&&R.jsx(CB,{userId:t.uid,onClose:()=>Ye("todo")}),J==="notes"&&R.jsx(AB,{onClose:()=>Ye("notes")})]},J))})]}),R.jsx(S5,{isOpen:h,onClose:()=>f(!1),user:t,onSignOut:fe,onSetWallpaper:qn,onWeatherSettingsChange:Y,clockFormat:A,onClockFormatChange:nt}),M&&R.jsx(C5,{message:M.message,type:M.type,onClose:()=>z(null)})]})}DN.createRoot(document.getElementById("root")).render(R.jsx(J2.StrictMode,{children:R.jsx(LB,{})}));
